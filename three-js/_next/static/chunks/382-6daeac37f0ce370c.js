(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{9361:function(a,b){"use strict";b.Z=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}},2705:function(a,b,c){var d=c(5639).Symbol;a.exports=d},4239:function(a,b,c){var d=c(2705),e=c(9607),f=c(2333),g=d?d.toStringTag:void 0;a.exports=function(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":g&&g in Object(a)?e(a):f(a)}},7561:function(a,b,c){var d=c(7990),e=/^\s+/;a.exports=function(a){return a?a.slice(0,d(a)+1).replace(e,""):a}},1957:function(a,b,c){var d="object"==typeof c.g&&c.g&&c.g.Object===Object&&c.g;a.exports=d},9607:function(a,b,c){var d=c(2705),e=Object.prototype,f=e.hasOwnProperty,g=e.toString,h=d?d.toStringTag:void 0;a.exports=function(a){var b=f.call(a,h),c=a[h];try{a[h]=void 0;var d=!0}catch(e){}var i=g.call(a);return d&&(b?a[h]=c:delete a[h]),i}},2333:function(a){var b=Object.prototype.toString;a.exports=function(a){return b.call(a)}},5639:function(a,b,c){var d=c(1957),e="object"==typeof self&&self&&self.Object===Object&&self,f=d||e||Function("return this")();a.exports=f},7990:function(a){var b=/\s/;a.exports=function(a){for(var c=a.length;c-- &&b.test(a.charAt(c)););return c}},3279:function(a,b,c){var d=c(3218),e=c(7771),f=c(4841),g=Math.max,h=Math.min;a.exports=function(a,b,c){var i,j,k,l,m,n,o=0,p=!1,q=!1,r=!0;if("function"!=typeof a)throw TypeError("Expected a function");function s(b){var c=i,d=j;return i=j=void 0,o=b,l=a.apply(d,c)}function t(a){var c=a-n,d=a-o;return void 0===n||c>=b||c<0||q&&d>=k}function u(){var a,c,d,f,g=e();if(t(g))return v(g);m=setTimeout(u,(c=(a=g)-n,d=a-o,f=b-c,q?h(f,k-d):f))}function v(a){return(m=void 0,r&&i)?s(a):(i=j=void 0,l)}function w(){var a,c=e(),d=t(c);if(i=arguments,j=this,n=c,d){if(void 0===m)return o=a=n,m=setTimeout(u,b),p?s(a):l;if(q)return clearTimeout(m),m=setTimeout(u,b),s(n)}return void 0===m&&(m=setTimeout(u,b)),l}return b=f(b)||0,d(c)&&(p=!!c.leading,q="maxWait"in c,k=q?g(f(c.maxWait)||0,b):k,r="trailing"in c?!!c.trailing:r),w.cancel=function(){void 0!==m&&clearTimeout(m),o=0,i=n=j=m=void 0},w.flush=function(){return void 0===m?l:v(e())},w}},3218:function(a){a.exports=function(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}},7005:function(a){a.exports=function(a){return null!=a&&"object"==typeof a}},3448:function(a,b,c){var d=c(4239),e=c(7005);a.exports=function(a){return"symbol"==typeof a||e(a)&&"[object Symbol]"==d(a)}},7771:function(a,b,c){var d=c(5639),e=function(){return d.Date.now()};a.exports=e},3493:function(a,b,c){var d=c(3279),e=c(3218);a.exports=function(a,b,c){var f=!0,g=!0;if("function"!=typeof a)throw TypeError("Expected a function");return e(c)&&(f="leading"in c?!!c.leading:f,g="trailing"in c?!!c.trailing:g),d(a,b,{leading:f,maxWait:b,trailing:g})}},4841:function(a,b,c){var d=c(7561),e=c(3218),f=c(3448),g=0/0,h=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,j=/^0o[0-7]+$/i,k=parseInt;a.exports=function(a){if("number"==typeof a)return a;if(f(a))return g;if(e(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=e(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=d(a);var c=i.test(a);return c||j.test(a)?k(a.slice(2),c?2:8):h.test(a)?g:+a}},8045:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d,e=c(9361).Z,f=c(4941).Z,g=c(3929).Z;Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a){var b,c,d=a.src,m=a.sizes,o=a.unoptimized,q=void 0!==o&&o,v=a.priority,B=void 0!==v&&v,D=a.loading,E=a.lazyRoot,F=void 0===E?null:E,G=a.lazyBoundary,H=a.className,I=a.quality,J=a.width,K=a.height,L=a.style,M=a.objectFit,N=a.objectPosition,O=a.onLoadingComplete,P=a.placeholder,Q=void 0===P?"empty":P,R=a.blurDataURL,S=p(a,["src","sizes","unoptimized","priority","loading","lazyRoot","lazyBoundary","className","quality","width","height","style","objectFit","objectPosition","onLoadingComplete","placeholder","blurDataURL"]),T=h.useContext(l.ImageConfigContext),U=h.useMemo(function(){var a=s||T||j.imageConfigDefault,b=g(a.deviceSizes).concat(g(a.imageSizes)).sort(function(a,b){return a-b}),c=a.deviceSizes.sort(function(a,b){return a-b});return n({},a,{allSizes:b,deviceSizes:c})},[T]),V=S,W=m?"responsive":"intrinsic";"layout"in V&&(V.layout&&(W=V.layout),delete V.layout);var X=A;if("loader"in V){if(V.loader){var Y,Z=V.loader;X=function(a){a.config;var b=p(a,["config"]);return Z(b)}}delete V.loader}var $="";if(x(d)){var _=w(d)?d.default:d;if(!_.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(_)));if(R=R||_.blurDataURL,$=_.src,(!W||"fill"!==W)&&(K=K||_.height,J=J||_.width,!_.height||!_.width))throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(_)))}d="string"==typeof d?d:$;var aa=!B&&("lazy"===D|| void 0===D);(d.startsWith("data:")||d.startsWith("blob:"))&&(q=!0,aa=!1),t.has(d)&&(aa=!1),r&&(q=!0);var ab=f(h.useState(!1),2),ac=ab[0],ad=ab[1],ae=f(k.useIntersection({rootRef:F,rootMargin:G||"200px",disabled:!aa}),3),af=ae[0],ag=ae[1],ah=ae[2],ai=!aa||ag,aj={boxSizing:"border-box",display:"block",overflow:"hidden",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},ak={boxSizing:"border-box",display:"block",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},al=!1,am=z(J),an=z(K),ao=z(I),ap=Object.assign({},L,{position:"absolute",top:0,left:0,bottom:0,right:0,boxSizing:"border-box",padding:0,border:"none",margin:"auto",display:"block",width:0,height:0,minWidth:"100%",maxWidth:"100%",minHeight:"100%",maxHeight:"100%",objectFit:M,objectPosition:N}),aq="blur"!==Q||ac?{}:{backgroundSize:M||"cover",backgroundPosition:N||"0% 0%",filter:"blur(20px)",backgroundImage:'url("'.concat(R,'")')};if("fill"===W)aj.display="block",aj.position="absolute",aj.top=0,aj.left=0,aj.bottom=0,aj.right=0;else if(void 0!==am&& void 0!==an){var ar=an/am,as=isNaN(ar)?"100%":"".concat(100*ar,"%");"responsive"===W?(aj.display="block",aj.position="relative",al=!0,ak.paddingTop=as):"intrinsic"===W?(aj.display="inline-block",aj.position="relative",aj.maxWidth="100%",al=!0,ak.maxWidth="100%",b="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27".concat(am,"%27%20height=%27").concat(an,"%27/%3e")):"fixed"===W&&(aj.display="inline-block",aj.position="relative",aj.width=am,aj.height=an)}var at={src:u,srcSet:void 0,sizes:void 0};ai&&(at=y({config:U,src:d,unoptimized:q,layout:W,width:am,quality:ao,sizes:m,loader:X}));var au=d,av="imagesrcset",aw="imagesizes";aw="imageSizes";var ax=(e(c={},"imageSrcSet",at.srcSet),e(c,aw,at.sizes),c),ay=h.default.useLayoutEffect,az=h.useRef(O),aA=h.useRef(d);h.useEffect(function(){az.current=O},[O]),ay(function(){aA.current!==d&&(ah(),aA.current=d)},[ah,d]);var aB=n({isLazy:aa,imgAttributes:at,heightInt:an,widthInt:am,qualityInt:ao,layout:W,className:H,imgStyle:ap,blurStyle:aq,loading:D,config:U,unoptimized:q,placeholder:Q,loader:X,srcString:au,onLoadingCompleteRef:az,setBlurComplete:ad,setIntersection:af,isVisible:ai,noscriptSizes:m},V);return h.default.createElement(h.default.Fragment,null,h.default.createElement("span",{style:aj},al?h.default.createElement("span",{style:ak},b?h.default.createElement("img",{style:{display:"block",maxWidth:"100%",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},alt:"","aria-hidden":!0,src:b}):null):null,h.default.createElement(C,Object.assign({},aB))),B?h.default.createElement(i.default,null,h.default.createElement("link",Object.assign({key:"__nimg-"+at.src+at.srcSet+at.sizes,rel:"preload",as:"image",href:at.srcSet?void 0:at.src},ax))):null)};var h=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var b=o();if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}return c.default=a,b&&b.set(a,c),c}(c(7294)),i=(d=c(5443),d&&d.__esModule?d:{default:d}),j=c(9309),k=c(7190),l=c(9977);c(3794);var m=c(2392);function n(){return(n=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function o(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return o=function(){return a},a}function p(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}var q={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"custom"},r=(q.experimentalRemotePatterns,q.experimentalUnoptimized),s={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"custom"},t=new Set,u="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",v=new Map([["default",function(a){var b=a.config,c=a.src,d=a.width,e=a.quality;return c.endsWith(".svg")&&!b.dangerouslyAllowSVG?c:"".concat(m.normalizePathTrailingSlash(b.path),"?url=").concat(encodeURIComponent(c),"&w=").concat(d,"&q=").concat(e||75)}],["imgix",function(a){var b=a.config,c=a.src,d=a.width,e=a.quality,f=new URL("".concat(b.path).concat(D(c))),g=f.searchParams;return g.set("auto",g.get("auto")||"format"),g.set("fit",g.get("fit")||"max"),g.set("w",g.get("w")||d.toString()),e&&g.set("q",e.toString()),f.href}],["cloudinary",function(a){var b=a.config,c=a.src,d=a.width,e=a.quality,f=["f_auto","c_limit","w_"+d,"q_"+(e||"auto")].join(",")+"/";return"".concat(b.path).concat(f).concat(D(c))}],["akamai",function(a){var b=a.config,c=a.src,d=a.width;return"".concat(b.path).concat(D(c),"?imwidth=").concat(d)}],["custom",function(a){var b=a.src;throw Error('Image with src "'.concat(b,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}],]);function w(a){return void 0!==a.default}function x(a){var b;return"object"==typeof a&&(w(a)|| void 0!==(b=a).src)}function y(a){var b=a.config,c=a.src,d=a.unoptimized,e=a.layout,f=a.width,h=a.quality,i=a.sizes,j=a.loader;if(d)return{src:c,srcSet:void 0,sizes:void 0};var k=function(a,b,c,d){var e=a.deviceSizes,f=a.allSizes;if(d&&("fill"===c||"responsive"===c)){for(var h=/(^|\s)(1?\d?\d)vw/g,i=[];j=h.exec(d);j)i.push(parseInt(j[2]));if(i.length){var j,k,l=.01*(k=Math).min.apply(k,g(i));return{widths:f.filter(function(a){return a>=e[0]*l}),kind:"w"}}return{widths:f,kind:"w"}}return"number"!=typeof b||"fill"===c||"responsive"===c?{widths:e,kind:"w"}:{widths:g(new Set([b,2*b].map(function(a){return f.find(function(b){return b>=a})||f[f.length-1]}))),kind:"x"}}(b,f,e,i),l=k.widths,m=k.kind,n=l.length-1;return{sizes:i||"w"!==m?i:"100vw",srcSet:l.map(function(a,d){return"".concat(j({config:b,src:c,quality:h,width:a})," ").concat("w"===m?a:d+1).concat(m)}).join(", "),src:j({config:b,src:c,quality:h,width:l[n]})}}function z(a){return"number"==typeof a?a:"string"==typeof a?parseInt(a,10):void 0}function A(a){var b,c=(null==(b=a.config)?void 0:b.loader)||"default",d=v.get(c);if(d)return d(a);throw Error('Unknown "loader" found in "next.config.js". Expected: '.concat(j.VALID_LOADERS.join(", "),". Received: ").concat(c))}function B(a,b,c,d,e,f){a&&a.src!==u&&a["data-loaded-src"]!==b&&(a["data-loaded-src"]=b,("decode"in a?a.decode():Promise.resolve()).catch(function(){}).then(function(){if(a.parentNode&&(t.add(b),"blur"===d&&f(!0),null==e?void 0:e.current)){var c=a.naturalWidth,g=a.naturalHeight;e.current({naturalWidth:c,naturalHeight:g})}}))}var C=function(a){var b=a.imgAttributes,c=(a.heightInt,a.widthInt),d=a.qualityInt,e=a.layout,f=a.className,g=a.imgStyle,i=a.blurStyle,j=a.isLazy,k=a.placeholder,l=a.loading,m=a.srcString,o=a.config,q=a.unoptimized,r=a.loader,s=a.onLoadingCompleteRef,t=a.setBlurComplete,u=a.setIntersection,v=a.onLoad,w=a.onError,x=(a.isVisible,a.noscriptSizes),z=p(a,["imgAttributes","heightInt","widthInt","qualityInt","layout","className","imgStyle","blurStyle","isLazy","placeholder","loading","srcString","config","unoptimized","loader","onLoadingCompleteRef","setBlurComplete","setIntersection","onLoad","onError","isVisible","noscriptSizes"]);return l=j?"lazy":l,h.default.createElement(h.default.Fragment,null,h.default.createElement("img",Object.assign({},z,b,{decoding:"async","data-nimg":e,className:f,style:n({},g,i),ref:h.useCallback(function(a){u(a),(null==a?void 0:a.complete)&&B(a,m,e,k,s,t)},[u,m,e,k,s,t,]),onLoad:function(a){B(a.currentTarget,m,e,k,s,t),v&&v(a)},onError:function(a){"blur"===k&&t(!0),w&&w(a)}})),(j||"blur"===k)&&h.default.createElement("noscript",null,h.default.createElement("img",Object.assign({},z,y({config:o,src:m,unoptimized:q,layout:e,width:c,quality:d,sizes:x,loader:r}),{decoding:"async","data-nimg":e,style:g,className:f,loading:l}))))};function D(a){return"/"===a[0]?a.slice(1):a}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&& void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},7190:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(4941).Z;Object.defineProperty(b,"__esModule",{value:!0}),b.useIntersection=function(a){var b=a.rootRef,c=a.rootMargin,i=a.disabled||!g,j=e.useRef(),k=d(e.useState(!1),2),l=k[0],m=k[1],n=d(e.useState(null),2),o=n[0],p=n[1];e.useEffect(function(){if(g){if(j.current&&(j.current(),j.current=void 0),!i&&!l)return o&&o.tagName&&(j.current=h(o,function(a){return a&&m(a)},{root:null==b?void 0:b.current,rootMargin:c})),function(){null==j.current||j.current(),j.current=void 0}}else if(!l){var a=f.requestIdleCallback(function(){return m(!0)});return function(){return f.cancelIdleCallback(a)}}},[o,i,c,b,l]);var q=e.useCallback(function(){m(!1)},[]);return[p,l,q]};var e=c(7294),f=c(9311),g="function"==typeof IntersectionObserver;function h(a,b,c){var d=k(c),e=d.id,f=d.observer,g=d.elements;return g.set(a,b),f.observe(a),function(){if(g.delete(a),f.unobserve(a),0===g.size){f.disconnect(),i.delete(e);var b=j.findIndex(function(a){return a.root===e.root&&a.margin===e.margin});b> -1&&j.splice(b,1)}}}var i=new Map,j=[];function k(a){var b,c={root:a.root||null,margin:a.rootMargin||""},d=j.find(function(a){return a.root===c.root&&a.margin===c.margin});if(d&&(b=i.get(d)))return b;var e=new Map,f=new IntersectionObserver(function(a){a.forEach(function(a){var b=e.get(a.target),c=a.isIntersecting||a.intersectionRatio>0;b&&c&&b(c)})},a);return b={id:c,observer:f,elements:e},j.push(c),i.set(c,b),b}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&& void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},5675:function(a,b,c){a.exports=c(8045)},2703:function(a,b,c){"use strict";var d=c(414);function e(){}function f(){}f.resetWarningCache=e,a.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},5697:function(a,b,c){a.exports=c(2703)()},414:function(a){"use strict";a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4111:function(a,b,c){"use strict";function d(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}c.d(b,{Z:function(){return d}})},7568:function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}c.d(b,{Z:function(){return e}})},1438:function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}c.d(b,{Z:function(){return d}})},2951:function(a,b,c){"use strict";function d(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function e(a,b,c){return b&&d(a.prototype,b),c&&d(a,c),a}c.d(b,{Z:function(){return e}})},460:function(a,b,c){"use strict";function d(a){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function e(a){return d(a)}c.d(b,{Z:function(){return g}});var f=c(4111);function g(a){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}();return function(){var c,d,g,h,i=e(a);if(b){var j=e(this).constructor;h=Reflect.construct(i,arguments,j)}else h=i.apply(this,arguments);return c=this,(d=h)&&("object"==((g=d)&&g.constructor===Symbol?"symbol":typeof g)||"function"==typeof d)?d:(0,f.Z)(c)}}},8029:function(a,b,c){"use strict";function d(a,b){return(d=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function e(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");if(a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b){var c,e;c=a,d(c,e=b)}}c.d(b,{Z:function(){return e}})},9365:function(a,b,c){"use strict";c.d(b,{z:function(){return h}});var d=c(9477);let e={type:"change"},f={type:"start"},g={type:"end"};class h extends d.pBf{constructor(a,b){super(),void 0===b&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),b===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=a,this.domElement=b,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new d.Pa4,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:d.RsA.ROTATE,MIDDLE:d.RsA.DOLLY,RIGHT:d.RsA.PAN},this.touches={ONE:d.QmN.ROTATE,TWO:d.QmN.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return k.phi},this.getAzimuthalAngle=function(){return k.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(a){a.addEventListener("keydown",Y),this._domElementKeyEvents=a},this.saveState=function(){c.target0.copy(c.target),c.position0.copy(c.object.position),c.zoom0=c.object.zoom},this.reset=function(){c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.dispatchEvent(e),c.update(),i=h.NONE},this.update=function(){let b=new d.Pa4,f=new d._fP().setFromUnitVectors(a.up,new d.Pa4(0,1,0)),g=f.clone().invert(),p=new d.Pa4,q=new d._fP,r=2*Math.PI;return function(){let a=c.object.position;b.copy(a).sub(c.target),b.applyQuaternion(f),k.setFromVector3(b),c.autoRotate&&i===h.NONE&&C(A()),c.enableDamping?(k.theta+=l.theta*c.dampingFactor,k.phi+=l.phi*c.dampingFactor):(k.theta+=l.theta,k.phi+=l.phi);let d=c.minAzimuthAngle,s=c.maxAzimuthAngle;return isFinite(d)&&isFinite(s)&&(d< -Math.PI?d+=r:d>Math.PI&&(d-=r),s< -Math.PI?s+=r:s>Math.PI&&(s-=r),d<=s?k.theta=Math.max(d,Math.min(s,k.theta)):k.theta=k.theta>(d+s)/2?Math.max(d,k.theta):Math.min(s,k.theta)),k.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,k.phi)),k.makeSafe(),k.radius*=m,k.radius=Math.max(c.minDistance,Math.min(c.maxDistance,k.radius)),!0===c.enableDamping?c.target.addScaledVector(n,c.dampingFactor):c.target.add(n),b.setFromSpherical(k),b.applyQuaternion(g),a.copy(c.target).add(b),c.object.lookAt(c.target),!0===c.enableDamping?(l.theta*=1-c.dampingFactor,l.phi*=1-c.dampingFactor,n.multiplyScalar(1-c.dampingFactor)):(l.set(0,0,0),n.set(0,0,0)),m=1,!!(o||p.distanceToSquared(c.object.position)>j||8*(1-q.dot(c.object.quaternion))>j)&&(c.dispatchEvent(e),p.copy(c.object.position),q.copy(c.object.quaternion),o=!1,!0)}}(),this.dispose=function(){c.domElement.removeEventListener("contextmenu",_),c.domElement.removeEventListener("pointerdown",R),c.domElement.removeEventListener("pointercancel",U),c.domElement.removeEventListener("wheel",X),c.domElement.removeEventListener("pointermove",S),c.domElement.removeEventListener("pointerup",T),null!==c._domElementKeyEvents&&c._domElementKeyEvents.removeEventListener("keydown",Y)};let c=this,h={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},i=h.NONE,j=1e-6,k=new d.$V,l=new d.$V,m=1,n=new d.Pa4,o=!1,p=new d.FM8,q=new d.FM8,r=new d.FM8,s=new d.FM8,t=new d.FM8,u=new d.FM8,v=new d.FM8,w=new d.FM8,x=new d.FM8,y=[],z={};function A(){return 2*Math.PI/60/60*c.autoRotateSpeed}function B(){return Math.pow(.95,c.zoomSpeed)}function C(a){l.theta-=a}function D(a){l.phi-=a}let E=function(){let a=new d.Pa4;return function(b,c){a.setFromMatrixColumn(c,0),a.multiplyScalar(-b),n.add(a)}}(),F=function(){let a=new d.Pa4;return function(b,d){!0===c.screenSpacePanning?a.setFromMatrixColumn(d,1):(a.setFromMatrixColumn(d,0),a.crossVectors(c.object.up,a)),a.multiplyScalar(b),n.add(a)}}(),G=function(){let a=new d.Pa4;return function(b,d){let e=c.domElement;if(c.object.isPerspectiveCamera){let f=c.object.position;a.copy(f).sub(c.target);let g=a.length();E(2*b*(g*=Math.tan(c.object.fov/2*Math.PI/180))/e.clientHeight,c.object.matrix),F(2*d*g/e.clientHeight,c.object.matrix)}else c.object.isOrthographicCamera?(E(b*(c.object.right-c.object.left)/c.object.zoom/e.clientWidth,c.object.matrix),F(d*(c.object.top-c.object.bottom)/c.object.zoom/e.clientHeight,c.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),c.enablePan=!1)}}();function H(a){c.object.isPerspectiveCamera?m/=a:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom*a)),c.object.updateProjectionMatrix(),o=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function I(a){c.object.isPerspectiveCamera?m*=a:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/a)),c.object.updateProjectionMatrix(),o=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function J(a){p.set(a.clientX,a.clientY)}function K(a){s.set(a.clientX,a.clientY)}function L(){if(1===y.length)p.set(y[0].pageX,y[0].pageY);else{let a=.5*(y[0].pageX+y[1].pageX),b=.5*(y[0].pageY+y[1].pageY);p.set(a,b)}}function M(){if(1===y.length)s.set(y[0].pageX,y[0].pageY);else{let a=.5*(y[0].pageX+y[1].pageX),b=.5*(y[0].pageY+y[1].pageY);s.set(a,b)}}function N(){let a=y[0].pageX-y[1].pageX,b=y[0].pageY-y[1].pageY;v.set(0,Math.sqrt(a*a+b*b))}function O(a){if(1==y.length)q.set(a.pageX,a.pageY);else{let b=ad(a),d=.5*(a.pageX+b.x),e=.5*(a.pageY+b.y);q.set(d,e)}r.subVectors(q,p).multiplyScalar(c.rotateSpeed);let f=c.domElement;C(2*Math.PI*r.x/f.clientHeight),D(2*Math.PI*r.y/f.clientHeight),p.copy(q)}function P(a){if(1===y.length)t.set(a.pageX,a.pageY);else{let b=ad(a),d=.5*(a.pageX+b.x),e=.5*(a.pageY+b.y);t.set(d,e)}u.subVectors(t,s).multiplyScalar(c.panSpeed),G(u.x,u.y),s.copy(t)}function Q(a){let b=ad(a),d=a.pageX-b.x,e=a.pageY-b.y;w.set(0,Math.sqrt(d*d+e*e)),x.set(0,Math.pow(w.y/v.y,c.zoomSpeed)),H(x.y),v.copy(w)}function R(a){!1!==c.enabled&&(0===y.length&&(c.domElement.setPointerCapture(a.pointerId),c.domElement.addEventListener("pointermove",S),c.domElement.addEventListener("pointerup",T)),aa(a),"touch"===a.pointerType?Z(a):V(a))}function S(a){!1!==c.enabled&&("touch"===a.pointerType?$(a):W(a))}function T(a){ab(a),0===y.length&&(c.domElement.releasePointerCapture(a.pointerId),c.domElement.removeEventListener("pointermove",S),c.domElement.removeEventListener("pointerup",T)),c.dispatchEvent(g),i=h.NONE}function U(a){ab(a)}function V(a){let b;switch(a.button){case 0:b=c.mouseButtons.LEFT;break;case 1:b=c.mouseButtons.MIDDLE;break;case 2:b=c.mouseButtons.RIGHT;break;default:b=-1}switch(b){case d.RsA.DOLLY:var e;if(!1===c.enableZoom)return;e=a,v.set(e.clientX,e.clientY),i=h.DOLLY;break;case d.RsA.ROTATE:if(a.ctrlKey||a.metaKey||a.shiftKey){if(!1===c.enablePan)return;K(a),i=h.PAN}else{if(!1===c.enableRotate)return;J(a),i=h.ROTATE}break;case d.RsA.PAN:if(a.ctrlKey||a.metaKey||a.shiftKey){if(!1===c.enableRotate)return;J(a),i=h.ROTATE}else{if(!1===c.enablePan)return;K(a),i=h.PAN}break;default:i=h.NONE}i!==h.NONE&&c.dispatchEvent(f)}function W(a){var b,d;if(!1!==c.enabled)switch(i){case h.ROTATE:if(!1===c.enableRotate)return;!function(a){q.set(a.clientX,a.clientY),r.subVectors(q,p).multiplyScalar(c.rotateSpeed);let b=c.domElement;C(2*Math.PI*r.x/b.clientHeight),D(2*Math.PI*r.y/b.clientHeight),p.copy(q),c.update()}(a);break;case h.DOLLY:if(!1===c.enableZoom)return;b=a,w.set(b.clientX,b.clientY),x.subVectors(w,v),x.y>0?H(B()):x.y<0&&I(B()),v.copy(w),c.update();break;case h.PAN:if(!1===c.enablePan)return;d=a,t.set(d.clientX,d.clientY),u.subVectors(t,s).multiplyScalar(c.panSpeed),G(u.x,u.y),s.copy(t),c.update()}}function X(a){if(!1!==c.enabled&& !1!==c.enableZoom&&i===h.NONE){var b;a.preventDefault(),c.dispatchEvent(f),(b=a).deltaY<0?I(B()):b.deltaY>0&&H(B()),c.update(),c.dispatchEvent(g)}}function Y(a){!1!==c.enabled&& !1!==c.enablePan&&function(a){let b=!1;switch(a.code){case c.keys.UP:G(0,c.keyPanSpeed),b=!0;break;case c.keys.BOTTOM:G(0,-c.keyPanSpeed),b=!0;break;case c.keys.LEFT:G(c.keyPanSpeed,0),b=!0;break;case c.keys.RIGHT:G(-c.keyPanSpeed,0),b=!0}b&&(a.preventDefault(),c.update())}(a)}function Z(a){switch(ac(a),y.length){case 1:switch(c.touches.ONE){case d.QmN.ROTATE:if(!1===c.enableRotate)return;L(),i=h.TOUCH_ROTATE;break;case d.QmN.PAN:if(!1===c.enablePan)return;M(),i=h.TOUCH_PAN;break;default:i=h.NONE}break;case 2:switch(c.touches.TWO){case d.QmN.DOLLY_PAN:if(!1===c.enableZoom&& !1===c.enablePan)return;c.enableZoom&&N(),c.enablePan&&M(),i=h.TOUCH_DOLLY_PAN;break;case d.QmN.DOLLY_ROTATE:if(!1===c.enableZoom&& !1===c.enableRotate)return;c.enableZoom&&N(),c.enableRotate&&L(),i=h.TOUCH_DOLLY_ROTATE;break;default:i=h.NONE}break;default:i=h.NONE}i!==h.NONE&&c.dispatchEvent(f)}function $(a){var b,d;switch(ac(a),i){case h.TOUCH_ROTATE:if(!1===c.enableRotate)return;O(a),c.update();break;case h.TOUCH_PAN:if(!1===c.enablePan)return;P(a),c.update();break;case h.TOUCH_DOLLY_PAN:if(!1===c.enableZoom&& !1===c.enablePan)return;b=a,c.enableZoom&&Q(b),c.enablePan&&P(b),c.update();break;case h.TOUCH_DOLLY_ROTATE:if(!1===c.enableZoom&& !1===c.enableRotate)return;d=a,c.enableZoom&&Q(d),c.enableRotate&&O(d),c.update();break;default:i=h.NONE}}function _(a){!1!==c.enabled&&a.preventDefault()}function aa(a){y.push(a)}function ab(a){delete z[a.pointerId];for(let b=0;b<y.length;b++)if(y[b].pointerId==a.pointerId){y.splice(b,1);return}}function ac(a){let b=z[a.pointerId];void 0===b&&(b=new d.FM8,z[a.pointerId]=b),b.set(a.pageX,a.pageY)}function ad(a){let b=a.pointerId===y[0].pointerId?y[1]:y[0];return z[b.pointerId]}c.domElement.addEventListener("contextmenu",_),c.domElement.addEventListener("pointerdown",R),c.domElement.addEventListener("pointercancel",U),c.domElement.addEventListener("wheel",X,{passive:!1}),this.update()}}}}])