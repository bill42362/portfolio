(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[1],{161:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(104),i=r.n(a),c=(r(116),r(126),r(2)),u=r.n(c),l=r(1),f=r(105),s=r.n(f),d=r(109),p=(r(66),r(134),r(46),r(135),r(137),Object(l.css)(["border:none;padding:0px;outline:none;background:none;"]));function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){b(a,n,o,i,c,"next",e)}function c(e){b(a,n,o,i,c,"throw",e)}i(void 0)}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E(e);if(t){var o=E(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return x(this,r)}}function x(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,r,n,a=w(i);function i(){var e;h(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=a.call.apply(a,[this].concat(r))).state={isStarted:!1,shouldPreview:!1,mediaStream:null,error:!1},e.video=o.a.createRef(),e.startRecording=g(regeneratorRuntime.mark((function t(){var r,n,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,n=r.onChange,o=r.onError,t.prev=1,e.setState({isStarted:!0}),t.next=5,navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});case 5:return a=t.sent,e.setState({mediaStream:a}),t.abrupt("return",n({value:a}));case 10:return t.prev=10,t.t0=t.catch(1),e.setState({error:t.t0,isStarted:!1}),t.abrupt("return",o({error:t.t0,target:S(e)}));case 14:case"end":return t.stop()}}),t,null,[[1,10]])}))),e.stopRecording=function(){var t=e.state.mediaStream,r=e.props.onChange;t&&(t.getTracks().forEach((function(e){return e.stop()})),r({value:null}),e.setState({mediaStream:null,isStarted:!1,shouldPreview:!1}))},e.renderDescription=function(){var t=e.state,r=t.isStarted,n=t.mediaStream,o=t.error;return r?n?"Media stream id: ".concat(n.id):"Loading mediaStream ...":o?"Error: ".concat(JSON.stringify(o.message)):"Idle"},e.renderBody=function(){var t=e.state.shouldPreview;return o.a.createElement(R,null,o.a.createElement("div",null,e.renderDescription()),t&&o.a.createElement("video",{ref:e.video,playsInline:!0}))},e.handleTogglePreview=function(){var t=e.state,r=t.mediaStream,n=t.shouldPreview;if(r)return e.setState({shouldPreview:!n})},e}return t=i,(r=[{key:"componentDidUpdate",value:function(e,t){var r=this.state,n=r.mediaStream,o=r.shouldPreview;o&&o!==t.shouldPreview&&(this.video.current.srcObject=n,this.video.current.play())}},{key:"componentWillUnmount",value:function(){this.stopRecording()}},{key:"render",value:function(){var e=this.state,t=e.mediaStream,r=e.shouldPreview;return o.a.createElement(O,null,o.a.createElement(C,null,"MediaStreamHandler"),this.renderBody(),o.a.createElement(_,null,t?o.a.createElement(M,{onClick:this.stopRecording},"Stop"):o.a.createElement(A,{onClick:this.startRecording},"Start"),o.a.createElement(P,{isActived:r,disabled:!t,onClick:this.handleTogglePreview},"Preview")))}}])&&v(t.prototype,r),n&&v(t,n),i}(o.a.PureComponent);j.propTypes={onChange:u.a.func,onError:u.a.func},j.defaultProps={onChange:function(){return null},onError:function(){return null}};var O=l.default.div.withConfig({displayName:"MediaStreamHandler__StyledMediaStreamHandler",componentId:"ah9iko-0"})(["border:solid 1px #4834d4;border-radius:8px;overflow:hidden;"]),C=l.default.div.withConfig({displayName:"MediaStreamHandler__Header",componentId:"ah9iko-1"})(["background-color:#4834d4;padding:8px;"]),R=l.default.div.withConfig({displayName:"MediaStreamHandler__Body",componentId:"ah9iko-2"})(["position:relative;background-color:#686de0;padding:8px;& > video{margin-top:8px;width:100%;}"]),_=l.default.div.withConfig({displayName:"MediaStreamHandler__Footer",componentId:"ah9iko-3"})(["background-color:#4834d4;padding:8px;"]),T=l.default.button.withConfig({displayName:"MediaStreamHandler__Button",componentId:"ah9iko-4"})([""," border-radius:4px;padding:4px;color:white;font-size:14px;& + &{margin-left:8px;}"],p),A=Object(l.default)(T).withConfig({displayName:"MediaStreamHandler__StartButton",componentId:"ah9iko-5"})(["background-color:#6ab04c;"]),M=Object(l.default)(T).withConfig({displayName:"MediaStreamHandler__StopButton",componentId:"ah9iko-6"})(["background-color:#eb4d4b;"]),P=Object(l.default)(T).attrs((function(e){return{style:{backgroundColor:e.isActived?"#6ab04c":"#badc58"}}})).withConfig({displayName:"MediaStreamHandler__ToggleButton",componentId:"ah9iko-7"})([""]),I=j;function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=U(e);if(t){var o=U(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return L(this,r)}}function L(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(i,e);var t,r,n,a=F(i);function i(){var e;D(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=a.call.apply(a,[this].concat(r))).state={shouldPreview:!1},e.video=o.a.createRef(),e.handleTogglePreview=function(){var t=e.props.mediaStream,r=e.state.shouldPreview;if(t)return e.setState({shouldPreview:!r})},e}return t=i,(r=[{key:"componentDidUpdate",value:function(e,t){var r=this.props.mediaStream,n=this.state.shouldPreview;r||r===t.mediaStream||this.setState({shouldPreview:!1}),r&&n&&n!==t.shouldPreview&&(this.video.current.srcObject=r,this.video.current.play())}},{key:"render",value:function(){var e=this.props.mediaStream,t=this.state.shouldPreview;return o.a.createElement(z,null,o.a.createElement(V,null,"MediaStreamMonitor"),o.a.createElement(H,null,t&&o.a.createElement("video",{ref:this.video,playsInline:!0})),o.a.createElement(X,null,o.a.createElement(q,{isActived:t,disabled:!e,onClick:this.handleTogglePreview},"Open")))}}])&&B(t.prototype,r),n&&B(t,n),i}(o.a.PureComponent);G.propTypes={mediaStream:u.a.object},G.defaultProps={mediaStream:null};var z=l.default.div.withConfig({displayName:"MediaStreamMonitor__StyledMediaStreamMonitor",componentId:"t1x8k1-0"})(["border:solid 1px #4834d4;border-radius:8px;overflow:hidden;"]),V=l.default.div.withConfig({displayName:"MediaStreamMonitor__Header",componentId:"t1x8k1-1"})(["background-color:#4834d4;padding:8px;"]),H=l.default.div.withConfig({displayName:"MediaStreamMonitor__Body",componentId:"t1x8k1-2"})(["position:relative;background-color:#686de0;padding:8px;& > video{margin-top:8px;width:100%;}"]),X=l.default.div.withConfig({displayName:"MediaStreamMonitor__Footer",componentId:"t1x8k1-3"})(["background-color:#4834d4;padding:8px;"]),Y=l.default.button.withConfig({displayName:"MediaStreamMonitor__Button",componentId:"t1x8k1-4"})([""," border-radius:4px;padding:4px;color:white;font-size:14px;& + &{margin-left:8px;}"],p),q=Object(l.default)(Y).attrs((function(e){return{style:{backgroundColor:e.isActived?"#6ab04c":"#badc58"}}})).withConfig({displayName:"MediaStreamMonitor__ToggleButton",componentId:"t1x8k1-5"})([""]),Q=G,K=(r(47),r(73),r(74),r(80),r(81),r(82),r(83),r(84),r(85),r(86),r(87),r(88),r(89),r(90),r(91),r(92),r(93),r(95),r(96),r(97),r(98),r(99),r(100),r(101),r(102),r(103),function(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}),W=function(e){var t=e.context,r=e.vertexShaderSource,n=e.fragmentShaderSource;if(t&&r&&n){var o=K(t,t.VERTEX_SHADER,r),a=K(t,t.FRAGMENT_SHADER,n),i=t.createProgram();if(t.attachShader(i,o),t.attachShader(i,a),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS))return{vertexShader:o,fragmentShader:a,program:i};console.error("Link failed:",t.getProgramInfoLog(i)),console.error("vs info-log:",t.getShaderInfoLog(o)),console.error("fs info-log:",t.getShaderInfoLog(a)),t.deleteShader(o),t.deleteShader(a),t.deleteProgram(i)}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,r=e.vertexShader,n=e.fragmentShader,o=e.program;t&&(r&&t.deleteShader(r),n&&t.deleteShader(n),o&&t.deleteProgram(o))},J=function(e){var t=e.context,r=e.attribute,n=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array(r.array),t.STATIC_DRAW),{buffer:n,numComponents:r.numComponents,count:Math.floor(r.array.length/r.numComponents),type:t.FLOAT,normalize:!1,offset:0,stride:0}},$=function(e){var t=e.context,r=e.index,n=void 0===r?0:r,o=t,a=o.createTexture();return o.activeTexture(o.TEXTURE0+n),o.bindTexture(o.TEXTURE_2D,a),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),a},ee=function(e){var t=e.context,r=e.location,n=e.buffer;t.bindBuffer(t.ARRAY_BUFFER,n.buffer),t.vertexAttribPointer(r,n.numComponents,n.type,n.normalize,n.stride,n.offset)};function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ne={array:[-1,-1,1,-1,1,1,-1,-1,1,1,-1,1],numComponents:2},oe={array:[0,1,1,1,1,0,0,1,1,0,0,0],numComponents:2},ae=function(e){var t=e.canvasRef,r=e.pixelSource,a=te(Object(n.useState)(!1),2),i=a[0],c=a[1],u=te(Object(n.useState)(30),2),l=u[0],f=u[1],s=te(Object(n.useState)(0),2),d=s[0],p=s[1],m=Object(n.useRef)(),b=Object(n.useRef)(0),g=Object(n.useRef)(),h=Object(n.useRef)(),v=Object(n.useRef)(),y=Object(n.useRef)(),w=Object(n.useRef)(),x=Object(n.useRef)(),S=Object(n.useRef)(),E=Object(n.useRef)(),j=Object(n.useRef)(),O=Object(n.useRef)();return Object(n.useEffect)((function(){var e=function(){var e=g.current;if(e)return E.current.buffer&&e.deleteBuffer(E.current.buffer),j.current.buffer&&e.deleteBuffer(j.current.buffer),O.current&&e.deleteTexture(O.current),w.current&&e.disableVertexAttribArray(w.current),x.current&&e.disableVertexAttribArray(x.current),Z({context:e,vertexShader:h.current,fragmentShader:v.current,program:y.current})},r=t.current;if(!r)return e;var n=r.getBoundingClientRect();r.height=n.height,r.width=n.width;var o=r.getContext("webgl2");g.current=o;var a=W({context:o,vertexShaderSource:"#version 300 es\nin vec4 aPosition;\nin vec2 aTextCoord;\nout vec2 vTextCoord;\n\nvoid main() {\n  gl_Position = aPosition;\n  vTextCoord = aTextCoord;\n}\n",fragmentShaderSource:"#version 300 es\nprecision highp float;\n\nuniform sampler2D uSource;\nin vec2 vTextCoord;\n\nout vec4 outColor;\n\nvoid main() {\n  vec4 originColor = texture(uSource, vTextCoord);\n  float gbColor = 2.0 * originColor.b * originColor.g;\n  outColor = vec4(gbColor, gbColor, gbColor, originColor.a);\n}\n"});return a?(h.current=a.vertexShader,v.current=a.fragmentShader,y.current=a.program,w.current=o.getAttribLocation(a.program,"aPosition"),x.current=o.getAttribLocation(a.program,"aTextCoord"),S.current=o.getAttribLocation(a.program,"uSource"),o.enableVertexAttribArray(w.current),o.enableVertexAttribArray(x.current),E.current=J({context:o,attribute:ne}),j.current=J({context:o,attribute:oe}),O.current=$({context:o}),ee({context:o,location:w.current,buffer:E.current}),ee({context:o,location:x.current,buffer:j.current}),e):e}),[t]),Object(n.useEffect)((function(){if(i)return window.cancelAnimationFrame(m.current),m.current=window.requestAnimationFrame((function e(t){i&&(m.current=window.requestAnimationFrame(e));var n=1e3/l,o=t-b.current;o>=n&&(b.current=t,function(){var e=g.current;if(e&&r&&y.current){var t=e.canvas.width,n=e.canvas.height;"VIDEO"==r.nodeName?(t=r.videoWidth,n=r.videoHeight):"CANVAS"===r.nodeName&&(t=r.width,n=r.height);var o=e.canvas.width,a=e.canvas.height;o===t&&a===n||(e.canvas.width=t,e.canvas.height=n,e.viewport(0,0,t,n)),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),e.useProgram(y.current),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r),e.drawArrays(e.TRIANGLES,0,E.current.count)}}(),p(Math.ceil(1e3/o)))})),function(){return window.cancelAnimationFrame(m.current)};window.cancelAnimationFrame(m.current)}),[i,l,r]),o.a.createElement(ie,null,o.a.createElement(ce,null,"GreenBlueChannel"),o.a.createElement(ue,null,o.a.createElement("canvas",{ref:t})),o.a.createElement(fe,null,o.a.createElement(se,{isActived:i,disabled:!r,onClick:function(){return c(!i)}},"Draw"),o.a.createElement("span",null,"FPS: ",d),o.a.createElement(de,null,o.a.createElement(pe,null,o.a.createElement("span",null,"Max FPS: ",l),o.a.createElement("input",{type:"range",min:"1",max:"60",step:"1",value:l,onChange:function(e){return f(e.target.value)}})))))};ae.propTypes={pixelSource:u.a.object,canvasRef:u.a.object.isRequired},ae.defaultProps={pixelSource:null};var ie=l.default.div.withConfig({displayName:"GreenBlueChannel__StyledGreenBlueChannel",componentId:"c4s4cs-0"})(["border:solid 1px #4834d4;border-radius:8px;overflow:hidden;"]),ce=l.default.div.withConfig({displayName:"GreenBlueChannel__Header",componentId:"c4s4cs-1"})(["background-color:#4834d4;padding:8px;"]),ue=l.default.div.withConfig({displayName:"GreenBlueChannel__Body",componentId:"c4s4cs-2"})(["position:relative;background-color:#686de0;padding:8px;& > canvas{width:100%;}"]),le=l.default.button.withConfig({displayName:"GreenBlueChannel__Button",componentId:"c4s4cs-3"})([""," border-radius:4px;padding:4px;color:white;font-size:14px;& + &{margin-left:8px;}"],p),fe=l.default.div.withConfig({displayName:"GreenBlueChannel__Footer",componentId:"c4s4cs-4"})(["background-color:#4834d4;padding:8px;button + span{margin-left:8px;}"]),se=Object(l.default)(le).attrs((function(e){return{style:{backgroundColor:e.isActived?"#6ab04c":"#badc58"}}})).withConfig({displayName:"GreenBlueChannel__DrawButton",componentId:"c4s4cs-5"})([""]),de=l.default.div.withConfig({displayName:"GreenBlueChannel__Controls",componentId:"c4s4cs-6"})(["margin-top:8px;"]),pe=l.default.label.withConfig({displayName:"GreenBlueChannel__Label",componentId:"c4s4cs-7"})(["display:flex;input{flex:1;margin-left:8px;}"]),me=ae;r(160);function be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var he={array:[-1,-1,1,-1,1,1,-1,-1,1,1,-1,1],numComponents:2},ve={array:[0,1,1,1,1,0,0,1,1,0,0,0],numComponents:2},ye=function(e){var t=e.canvasRef,r=e.pixelSource,a=be(Object(n.useState)(!1),2),i=a[0],c=a[1],u=be(Object(n.useState)(30),2),l=u[0],f=u[1],s=be(Object(n.useState)(16),2),d=s[0],p=s[1],m=be(Object(n.useState)(5),2),b=m[0],g=m[1],h=be(Object(n.useState)(0),2),v=h[0],y=h[1],w=Object(n.useRef)(),x=Object(n.useRef)(0),S=Object(n.useRef)(!1),E=Object(n.useRef)(),j=Object(n.useRef)(),O=Object(n.useRef)(),C=Object(n.useRef)(),R=Object(n.useRef)(),_=Object(n.useRef)(),T=Object(n.useRef)(),A=Object(n.useRef)(),M=Object(n.useRef)(),P=Object(n.useRef)(),I=Object(n.useRef)(),N=Object(n.useRef)(),D=Object(n.useRef)(),B=Object(n.useRef)(),k=Object(n.useRef)(),F=Object(n.useRef)(),L=Object(n.useRef)();return Object(n.useEffect)((function(){E.current=function(e,t){for(var r=Math.floor(Math.abs(e)),n=2*r+1,o=t*t,a=new Array(n),i=0,c=-r;c<=r;++c){var u=c+r;a[u]=Math.exp(-c*c/(2*o))/Math.sqrt(2*Math.PI*o),i+=a[u]}var l=a.map((function(e){return e/i}));return{data:new Float32Array(l),size:n}}(d,b),S.current=!0}),[d,b]),Object(n.useEffect)((function(){var e=function(){var e=j.current;if(e)return D.current.buffer&&e.deleteBuffer(D.current.buffer),B.current.buffer&&e.deleteBuffer(B.current.buffer),k.current&&e.deleteTexture(k.current),L.current&&e.deleteFramebuffer(L.current),_.current&&e.disableVertexAttribArray(_.current),T.current&&e.disableVertexAttribArray(T.current),Z({context:e,vertexShader:O.current,fragmentShader:C.current,program:R.current})},r=t.current;if(!r)return e;var n=r.getBoundingClientRect();r.height=n.height,r.width=n.width;var o=r.getContext("webgl2");j.current=o;var a=W({context:o,vertexShaderSource:"#version 300 es\nin vec4 aPosition;\nin vec2 aTextCoord;\nuniform int uIsVertical;\nout vec2 vTextCoord;\nflat out int vIsVertical;\n\nvoid main() {\n  vec4 position = aPosition;\n  if (1 == uIsVertical) {\n    // texture axis is opposite with canvas.\n    position = vec4(aPosition.x, -aPosition.y, aPosition.zw);\n  }\n  gl_Position = position;\n  vTextCoord = aTextCoord;\n  vIsVertical = uIsVertical;\n}\n",fragmentShaderSource:"#version 300 es\nprecision highp float;\n\nuniform sampler2D uSource;\nuniform vec2 uResolution;\nuniform int uKernelSize;\nuniform float uKernelData[33];\nin vec2 vTextCoord;\nflat in int vIsVertical;\n\nout vec4 outColor;\n\nvoid main() {\n  vec2 delta = 1.0 / uResolution;\n  vec4 outputColor = vec4(0.0, 0.0, 0.0, 0.0);\n\n  for (int index = -uKernelSize; index <= uKernelSize; index++) {\n    vec2 step = vec2(index, 0.0);\n    if (1 == vIsVertical) {\n      step = vec2(0.0, index);\n    }\n    vec2 offset = vTextCoord + step * delta;\n    outputColor += uKernelData[index] * texture(uSource, offset);\n  }\n\n  outColor = outputColor;\n}\n"});return a?(O.current=a.vertexShader,C.current=a.fragmentShader,R.current=a.program,_.current=o.getAttribLocation(a.program,"aPosition"),T.current=o.getAttribLocation(a.program,"aTextCoord"),A.current=o.getUniformLocation(a.program,"uResolution"),P.current=o.getUniformLocation(a.program,"uIsVertical"),I.current=o.getUniformLocation(a.program,"uKernelData"),N.current=o.getUniformLocation(a.program,"uKernelSize"),M.current=o.getUniformLocation(a.program,"uSource"),o.enableVertexAttribArray(_.current),o.enableVertexAttribArray(T.current),o.useProgram(R.current),o.uniform2f(A.current,o.canvas.width,o.canvas.height),o.uniform1i(P.current,0),o.uniform1fv(I.current,E.current.data),o.uniform1i(N.current,E.current.size),D.current=J({context:o,attribute:he}),B.current=J({context:o,attribute:ve}),k.current=$({context:o,index:0}),F.current=$({context:o,index:1}),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.canvas.width,o.canvas.height,0,o.RGBA,o.UNSIGNED_BYTE,null),ee({context:o,location:_.current,buffer:D.current}),ee({context:o,location:T.current,buffer:B.current}),L.current=o.createFramebuffer(),o.bindFramebuffer(o.FRAMEBUFFER,L.current),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,F.current,0),e):e}),[t]),Object(n.useEffect)((function(){if(i)return window.cancelAnimationFrame(w.current),w.current=window.requestAnimationFrame((function e(t){i&&(w.current=window.requestAnimationFrame(e));var n=1e3/l,o=t-x.current;o>=n&&(x.current=t,function(){var e=j.current;if(e&&r&&R.current){var t=e.canvas.width,n=e.canvas.height;"VIDEO"==r.nodeName?(t=r.videoWidth,n=r.videoHeight):"CANVAS"===r.nodeName&&(t=r.width,n=r.height),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),e.useProgram(R.current);var o=e.canvas.width,a=e.canvas.height;o===t&&a===n||(e.canvas.width=t,e.canvas.height=n,e.viewport(0,0,t,n),e.uniform2f(A.current,t,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null)),S.current&&(e.uniform1fv(I.current,E.current.data),e.uniform1i(N.current,E.current.size),S.current=!1),e.bindFramebuffer(e.FRAMEBUFFER,L.current),e.uniform1i(M.current,0),e.uniform1i(P.current,0),e.bindTexture(e.TEXTURE_2D,k.current),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r),e.drawArrays(e.TRIANGLES,0,D.current.count),e.bindFramebuffer(e.FRAMEBUFFER,null),e.uniform1i(M.current,1),e.uniform1i(P.current,1),e.bindTexture(e.TEXTURE_2D,F.current),e.drawArrays(e.TRIANGLES,0,D.current.count)}}(),y(Math.ceil(1e3/o)))})),function(){return window.cancelAnimationFrame(w.current)};window.cancelAnimationFrame(w.current)}),[i,l,r]),o.a.createElement(we,null,o.a.createElement(xe,null,"GaussianBlur"),o.a.createElement(Se,null,o.a.createElement("canvas",{ref:t})),o.a.createElement(je,null,o.a.createElement(Oe,{isActived:i,disabled:!r,onClick:function(){return c(!i)}},"Draw"),o.a.createElement("span",null,"FPS: ",v),o.a.createElement(Ce,null,o.a.createElement(Re,null,o.a.createElement("span",null,"Max FPS: ",l),o.a.createElement("input",{type:"range",min:"1",max:"60",step:"1",value:l,onChange:function(e){return f(e.target.value)}})),o.a.createElement(Re,null,o.a.createElement("span",null,"Radius: ",d),o.a.createElement("input",{type:"range",min:"1",max:"16",step:"1",value:d,onChange:function(e){return p(e.target.value)}})),o.a.createElement(Re,null,o.a.createElement("span",null,"Sigma: ",b),o.a.createElement("input",{type:"range",min:"0.1",max:"10",step:"0.1",value:b,onChange:function(e){return g(e.target.value)}})))))};ye.propTypes={pixelSource:u.a.object,canvasRef:u.a.object.isRequired},ye.defaultProps={pixelSource:null};var we=l.default.div.withConfig({displayName:"GaussianBlur__StyledGaussianBlur",componentId:"allujx-0"})(["border:solid 1px #4834d4;border-radius:8px;overflow:hidden;"]),xe=l.default.div.withConfig({displayName:"GaussianBlur__Header",componentId:"allujx-1"})(["background-color:#4834d4;padding:8px;"]),Se=l.default.div.withConfig({displayName:"GaussianBlur__Body",componentId:"allujx-2"})(["position:relative;background-color:#686de0;padding:8px;& > canvas{width:100%;}"]),Ee=l.default.button.withConfig({displayName:"GaussianBlur__Button",componentId:"allujx-3"})([""," border-radius:4px;padding:4px;color:white;font-size:14px;& + &{margin-left:8px;}"],p),je=l.default.div.withConfig({displayName:"GaussianBlur__Footer",componentId:"allujx-4"})(["background-color:#4834d4;padding:8px;button + span{margin-left:8px;}"]),Oe=Object(l.default)(Ee).attrs((function(e){return{style:{backgroundColor:e.isActived?"#6ab04c":"#badc58"}}})).withConfig({displayName:"GaussianBlur__DrawButton",componentId:"allujx-5"})([""]),Ce=l.default.div.withConfig({displayName:"GaussianBlur__Controls",componentId:"allujx-6"})(["margin-top:8px;"]),Re=l.default.label.withConfig({displayName:"GaussianBlur__Label",componentId:"allujx-7"})(["display:flex;input{flex:1;margin-left:8px;}"]),_e=ye;function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Me=l.default.div.withConfig({displayName:"Main__StyledMain",componentId:"sc-1te9q8o-0"})(["display:flex;flex-direction:column;height:100%;padding:8px;"]),Pe=l.default.div.withConfig({displayName:"Main__ModuleWrapper",componentId:"sc-1te9q8o-1"})(["& + &{margin-top:8px;}"]),Ie=function(){var e=Te(Object(n.useState)(),2),t=e[0],r=e[1],a=Object(n.useRef)(),i=Object(n.useRef)(),c=Object(n.useRef)();return Object(n.useEffect)((function(){var e=document.createElement("video");return e.setAttribute("playsinline",!0),a.current=e,function(){return e.srcObject=null,e.pause()}}),[]),Object(n.useEffect)((function(){a.current.srcObject=t,t?a.current.play():a.current.pause()}),[t]),o.a.createElement(Me,null,o.a.createElement(Pe,null,o.a.createElement(I,{onChange:function(e){var t=e.value;return r(t)}})),o.a.createElement(Pe,null,o.a.createElement(Q,{mediaStream:t})),o.a.createElement(Pe,null,o.a.createElement(me,{pixelSource:a.current,canvasRef:i})),o.a.createElement(Pe,null,o.a.createElement(_e,{pixelSource:i.current,canvasRef:c})))},Ne=r.p+"img/github-icon.e1201fcc.svg";function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ge(e);if(t){var o=Ge(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ue(this,r)}}function Ue(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(i,e);var t,r,n,a=Le(i);function i(){return Be(this,i),a.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this.props,t=e.email,r=e.github;return o.a.createElement(Ve,null,o.a.createElement(He,{href:r,target:"_blank"},o.a.createElement("img",{src:Ne,alt:"github"})),o.a.createElement(He,{href:"mailto:".concat(t),target:"_blank"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNNDY3LDYxSDQ1QzIwLjIxOCw2MSwwLDgxLjE5NiwwLDEwNnYzMDBjMCwyNC43MiwyMC4xMjgsNDUsNDUsNDVoNDIyYzI0LjcyLDAsNDUtMjAuMTI4LDQ1LTQ1VjEwNiBDNTEyLDgxLjI4LDQ5MS44NzIsNjEsNDY3LDYxeiBNNDYwLjc4Niw5MUwyNTYuOTU0LDI5NC44MzNMNTEuMzU5LDkxSDQ2MC43ODZ6IE0zMCwzOTkuNzg4VjExMi4wNjlsMTQ0LjQ3OSwxNDMuMjRMMzAsMzk5Ljc4OHogTTUxLjIxMyw0MjFsMTQ0LjU3LTE0NC41N2w1MC42NTcsNTAuMjIyYzUuODY0LDUuODE0LDE1LjMyNyw1Ljc5NSwyMS4xNjctMC4wNDZMMzE3LDI3Ny4yMTNMNDYwLjc4Nyw0MjFINTEuMjEzeiBNNDgyLDM5OS43ODcgTDMzOC4yMTMsMjU2TDQ4MiwxMTIuMjEyVjM5OS43ODd6Ii8+PC9zdmc+",alt:"email"})))}}])&&ke(t.prototype,r),n&&ke(t,n),i}(o.a.PureComponent);ze.propTypes={email:u.a.string,github:u.a.string},ze.defaultProps={email:"bill42362@gmail.com",github:"https://github.com/bill42362/portfolio"};var Ve=l.default.div.withConfig({displayName:"Footer__StyledFooter",componentId:"sc-1ygzj31-0"})(["flex:auto;display:flex;justify-content:center;align-items:flex-end;padding:20px;"]),He=l.default.a.withConfig({displayName:"Footer__Link",componentId:"sc-1ygzj31-1"})(["display:flex;justify-content:center;align-items:center;border-radius:50%;width:36px;height:36px;background-color:#576574;& + &{margin-left:8px;}img{width:60%;height:auto;}"]),Xe=ze,Ye=r.p+"img/x-men-school.0928a818.svg";function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){Ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function We(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ze(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  ",';\n  *, ::after, ::before { box-sizing: border-box; }\n  body {\n    background-color: #101010;\n    color: #efefef;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",\n      Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-weight: 400;\n    -webkit-tap-highlight-color: transparent;\n    overscroll-behavior-y: contain;\n  }\n  button {\n    background-color: rgba(0, 0, 0, 0);\n    cursor: pointer;\n    &:disabled {\n      cursor: not-allowed;\n    }\n  }\n  input::placeholder,\n  input::-webkit-input-placeholder,\n  input::-moz-placeholder {\n    line-height: normal !important;\n    vertical-align: middle;\n  }\n  a { color: inherit; text-decoration: none; }\n  a > * { opacity: inherit; }\n  a:hover { opacity: .7; }\n']);return Ze=function(){return e},e}var Je=Object(l.createGlobalStyle)(Ze(),s.a),$e="Portfolio",et="Bill's portfolio",tt=function(e){var t=e.request;return console.log("App() request:",t),o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{defaultTitle:"Portfolio",titleTemplate:"%s - Portfolio"},o.a.createElement("meta",{charSet:"utf-8"}),o.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),o.a.createElement("meta",{name:"author",content:"Bill"}),o.a.createElement("meta",{name:"description",content:et}),o.a.createElement("meta",{property:"og:url",content:"https://github.com/bill42362/portfolio"}),o.a.createElement("meta",{property:"og:type",content:"website"}),o.a.createElement("meta",{property:"og:title",content:$e}),o.a.createElement("meta",{property:"og:description",content:et}),o.a.createElement("meta",{property:"og:site_name",content:$e}),o.a.createElement("meta",{property:"twitter:card",content:"summary"}),o.a.createElement("meta",{property:"twitter:site",content:"@bill_portfolio"})),o.a.createElement(Je,null),o.a.createElement(rt,null,!window&&o.a.createElement("img",{src:Ye,title:"Xavier school"}),o.a.createElement(Ie,null),o.a.createElement(Xe,null)))};tt.propTypes={request:u.a.object},tt.defaultProps={request:null};var rt=l.default.div.withConfig({displayName:"App__StyledApp",componentId:"sc-1v2nrsx-0"})(["display:flex;flex-direction:column;justify-content:center;height:100vh;background-color:#222f3e;"]),nt=function(e){var t=e.sheet,r=We(e,["sheet"]);return t.instance?o.a.createElement(l.StyleSheetManager,{sheet:t.instance},o.a.createElement(tt,r)):o.a.createElement(tt,r)};nt.propTypes=Qe(Qe({},tt.propTypes),{},{sheet:u.a.object}),nt.defaultProps=Qe(Qe({},tt.defaultProps),{},{sheet:{}});var ot=nt;i.a.render(o.a.createElement(ot,null),document.getElementById("app-root"))}}]);
//# sourceMappingURL=bundle~bundle~5b60049d.de9883cb.js.map