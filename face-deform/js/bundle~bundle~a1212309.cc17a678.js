/*! For license information please see bundle~bundle~a1212309.cc17a678.js.LICENSE.txt */
(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[10],{11:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(3);const s=Object(i.a)({cast_:function(t,n){const e=Object(o.a)(t,"x","cast");if(!c.B(n))throw new Error(`Failed to cast to unknown dtype ${n}`);if("string"===n&&"string"!==e.dtype||"string"!==n&&"string"===e.dtype)throw new Error("Only strings can be casted to strings");const i={x:e},s={dtype:n};return r.a.runKernel(a.w,i,s)}})},119:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({elu_:function(t){const n={x:Object(o.a)(t,"x","elu")};return r.a.runKernel(a.U,n)}})},12:function(t,n,e){"use strict";function r(t,n){const e=t.length,r=[];for(let a=0;a<e;a++){const o=e-1-a,c=t[o]||1;(n[n.length-1-a]||1)>1&&1===c&&r.unshift(o)}return r}function a(t,n){const e=[];for(let r=0;r<n.length;r++){const a=t[t.length-r-1],o=n.length-r-1,c=n[o];(null==a||1===a&&c>1)&&e.unshift(o)}return e}function o(t,n){const e=[],r=Math.max(t.length,n.length);for(let a=0;a<r;a++){let r=t[t.length-a-1];null==r&&(r=1);let o=n[n.length-a-1];if(null==o&&(o=1),1===r)e.unshift(o);else if(1===o)e.unshift(r);else{if(r!==o){throw Error(`Operands could not be broadcast together with shapes ${t} and ${n}.`)}e.unshift(r)}}return e}e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return o}))},123:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({cumsum_:function(t,n=0,e=!1,c=!1){const i={x:Object(o.a)(t,"x","cumsum")},s={axis:n,exclusive:e,reverse:c};return r.a.runKernel(a.L,i,s)}})},125:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({cos_:function(t){const n={x:Object(o.a)(t,"x","cos")};return r.a.runKernel(a.I,n)}})},129:function(t,n,e){"use strict";e.d(n,"a",(function(){return h}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(11),s=e(26),u=e(3),d=e(8);const h=Object(u.a)({avgPool_:function(t,n,e,u,h){const l=Object(o.a)(t,"x","avgPool","float32");c.b(s.h(e,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${e} and dilations '1'`));let f=l,b=!1;3===l.rank&&(b=!0,f=Object(d.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),c.b(4===f.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${f.rank}.`)),null!=h&&c.b(c.v(u),(()=>`Error in avgPool: pad must be an integer when using, dimRoundingMode ${h} but got pad ${u}.`));const p={x:f},O={filterSize:n,strides:e,pad:u,dimRoundingMode:h};let j=r.a.runKernel(a.o,p,O);return j=Object(i.a)(j,l.dtype),b?Object(d.a)(j,[j.shape[1],j.shape[2],j.shape[3]]):j}})},133:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(4),a=e(0),o=e(6),c=e(3),i=e(8);const s=Object(c.a)({conv2DBackpropInput_:function(t,n,e,c,s,u="NHWC",d){o.b(t.length===n.rank,(()=>`Length of inShape (${t.length}) and rank of dy (${n.rank}) must match`));let h=t,l=n,f=!1;3===n.rank&&(f=!0,l=Object(i.a)(n,[1,n.shape[0],n.shape[1],n.shape[2]]),h=[1,t[0],t[1],t[2]]),o.b(4===h.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${h.length}.`)),o.b(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),o.b(4===e.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${e.rank}`));const b="NHWC"===u?h[3]:h[1],p="NHWC"===u?l.shape[3]:l.shape[1];o.b(b===e.shape[2],(()=>`Error in conv2dDerInput: depth of input (${b}) must match input depth for filter ${e.shape[2]}.`)),o.b(p===e.shape[3],(()=>`Error in conv2dDerInput: depth of output (${p}) must match output depth for filter ${e.shape[3]}.`)),null!=d&&o.b(o.v(s),(()=>`Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode ${d} but got pad ${s}.`));const O={dy:l,filter:e},j={strides:c,pad:s,dataFormat:u,dimRoundingMode:d,inputShape:h},m=r.a.runKernel(a.E,O,j);return f?Object(i.a)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},134:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(4),a=e(0),o=e(6),c=e(3),i=e(8);const s=Object(c.a)({conv2DBackpropFilter_:function(t,n,e,c,s,u="NHWC",d){let h=t;3===t.rank&&(h=Object(i.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=n;3===l.rank&&(l=Object(i.a)(n,[1,n.shape[0],n.shape[1],n.shape[2]])),o.b(4===h.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${h.shape}.`)),o.b(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),o.b(4===e.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${e}.`));const f="NHWC"===u?h.shape[3]:h.shape[1],b="NHWC"===u?l.shape[3]:l.shape[1];o.b(f===e[2],(()=>`Error in conv2dDerFilter: depth of input ${f}) must match input depth in filter (${e[2]}.`)),o.b(b===e[3],(()=>`Error in conv2dDerFilter: depth of dy (${b}) must match output depth for filter (${e[3]}).`)),null!=d&&o.b(o.v(s),(()=>`Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode ${d} but got pad ${s}.`));const p={x:h,dy:l},O={strides:c,pad:s,dataFormat:u,dimRoundingMode:d,filterShape:e};return r.a.runKernel(a.D,p,O)}})},168:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(81),a=e(57),o=e(3),c=e(8),i=e(79);const s=Object(o.a)({eye_:function(t,n,e,o="float32"){null==n&&(n=t);const s=Object(r.a)([t,n],o),u=t<=n?t:n;for(let t=0;t<u;++t)s.set(1,t,t);const d=Object(c.a)(s.toTensor(),[t,n]);if(null==e)return d;if(1===e.length)return Object(i.a)(Object(a.a)(d,0),[e[0],1,1]);if(2===e.length)return Object(i.a)(Object(a.a)(Object(a.a)(d,0),0),[e[0],e[1],1,1]);if(3===e.length)return Object(i.a)(Object(a.a)(Object(a.a)(Object(a.a)(d,0),0),0),[e[0],e[1],e[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${e.length}D.`)}})},17:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e(4),a=e(0),o=e(19),c=e(2),i=e(110),s=e(3);const u=Object(s.a)({div_:function(t,n){let e=Object(c.a)(t,"a","div"),s=Object(c.a)(n,"b","div");if([e,s]=Object(o.b)(e,s),"int32"===e.dtype&&"int32"===s.dtype)return Object(i.a)(e,s);const u={a:e,b:s};return r.a.runKernel(a.ic,u,{})}})},176:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({cosh_:function(t){const n={x:Object(o.a)(t,"x","cosh")};return r.a.runKernel(a.J,n)}})},177:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({all_:function(t,n=null,e=!1){const c={x:Object(o.a)(t,"x","all","bool")},i={axis:n,keepDims:e};return r.a.runKernel(a.f,c,i)}})},178:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({any_:function(t,n=null,e=!1){const c={x:Object(o.a)(t,"x","any","bool")},i={axis:n,keepDims:e};return r.a.runKernel(a.g,c,i)}})},179:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({argMax_:function(t,n=0){const e={x:Object(o.a)(t,"x","argMax")},c={axis:n};return r.a.runKernel(a.h,e,c)}})},180:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({argMin_:function(t,n=0){const e={x:Object(o.a)(t,"x","argMin")},c={axis:n};return r.a.runKernel(a.i,e,c)}})},181:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(4),a=e(0),o=e(19),c=e(2),i=e(3);const s=Object(i.a)({atan2_:function(t,n){let e=Object(c.a)(t,"a","atan2"),i=Object(c.a)(n,"b","atan2");[e,i]=Object(o.b)(e,i);const s={a:e,b:i};return r.a.runKernel(a.m,s)}})},182:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e(2),a=e(6),o=e(61),c=e(26),i=e(3),s=e(8);const u=Object(i.a)({conv1d_:function(t,n,e,i,u="NWC",d=1,h){const l=Object(r.a)(t,"x","conv1d"),f=Object(r.a)(n,"filter","conv1d");let b=l,p=!1;2===l.rank&&(p=!0,b=Object(s.a)(l,[1,l.shape[0],l.shape[1]])),a.b(3===b.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${b.rank}.`)),a.b(3===f.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${f.rank}.`)),null!=h&&a.b(a.v(i),(()=>`Error in conv1d: pad must be an integer when using, dimRoundingMode ${h} but got pad ${i}.`)),a.b(b.shape[2]===f.shape[1],(()=>`Error in conv1d: depth of input (${b.shape[2]}) must match input depth for filter ${f.shape[1]}.`)),a.b(c.h(e,d),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${e} and dilation '${d}'`)),a.b("NWC"===u,(()=>`Error in conv1d: got dataFormat of ${u} but only NWC is currently supported.`));const O=Object(s.a)(f,[1,f.shape[0],f.shape[1],f.shape[2]]),j=Object(s.a)(b,[b.shape[0],1,b.shape[1],b.shape[2]]),m=[1,e],g=[1,d],v=Object(o.a)(j,O,m,i,"NHWC",g,h);return p?Object(s.a)(v,[v.shape[2],v.shape[3]]):Object(s.a)(v,[v.shape[0],v.shape[2],v.shape[3]])}})},183:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));var r=e(2),a=e(133),o=e(3);const c=Object(o.a)({conv2dTranspose_:function(t,n,e,o,c,i){const s=Object(r.a)(t,"x","conv2dTranspose"),u=Object(r.a)(n,"filter","conv2dTranspose");return Object(a.a)(e,s,u,o,c,"NHWC",i)}})},184:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(3);const s=Object(i.a)({depthToSpace_:function(t,n,e="NHWC"){const i=Object(o.a)(t,"x","depthToSpace"),s="NHWC"===e?i.shape[1]:i.shape[2],u="NHWC"===e?i.shape[2]:i.shape[3],d="NHWC"===e?i.shape[3]:i.shape[1];c.b(s*n>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${s} and ${n}  for depthToSpace with input shape\n    ${i.shape}`)),c.b(u*n>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${u} and ${n} for depthToSpace with input shape\n        ${i.shape}`)),c.b(d%(n*n)==0,(()=>`Dimension size must be evenly divisible by ${n*n} but is ${d} for depthToSpace with input shape ${i.shape}`));const h={x:i},l={blockSize:n,dataFormat:e};return r.a.runKernel(a.N,h,l)}})},185:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(3),s=e(8);const u=Object(i.a)({dilation2d_:function(t,n,e,i,u=[1,1],d="NHWC"){const h=Object(o.a)(t,"x","dilation2d"),l=Object(o.a)(n,"filter","dilation2d");c.b(3===h.rank||4===h.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${h.rank}.`)),c.b(3===l.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${l.rank}.`)),c.b("NHWC"===d,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${d}`));let f=h,b=!1;3===h.rank&&(f=Object(s.a)(h,[1,h.shape[0],h.shape[1],h.shape[2]]),b=!0);const p={x:f,filter:l},O={strides:e,pad:i,dilations:u},j=r.a.runKernel(a.R,p,O);return b?Object(s.a)(j,[j.shape[1],j.shape[2],j.shape[3]]):j}})},186:function(t,n,e){"use strict";e.d(n,"a",(function(){return d}));var r=e(19),a=e(2),o=e(17),c=e(77),i=e(3),s=e(31),u=e(20);const d=Object(i.a)({divNoNan_:function(t,n){let e=Object(a.a)(t,"a","div"),i=Object(a.a)(n,"b","div");[e,i]=Object(r.b)(e,i);const d=Object(o.a)(e,i),h=Object(u.a)(d),l=Object(c.a)(i,h);return Object(s.a)(l,h,d)}})},187:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(2),a=e(6),o=e(22),c=e(3),i=e(8);const s=Object(c.a)({dot_:function(t,n){const e=Object(r.a)(t,"t1","dot"),c=Object(r.a)(n,"t2","dot");a.b(!(1!==e.rank&&2!==e.rank||1!==c.rank&&2!==c.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${e.rank} and ${c.rank}.`));const s=1===e.rank?e.size:e.shape[1],u=1===c.rank?c.size:c.shape[0];if(a.b(s===u,(()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${u}.`)),1===e.rank&&1===c.rank){const t=Object(i.a)(e,[1,-1]),n=Object(i.a)(c,[-1,1]),r=Object(o.a)(t,n);return Object(i.a)(r,[])}if(1===e.rank&&2===c.rank){const t=Object(i.a)(e,[1,-1]),n=Object(i.a)(c,[c.shape[0],c.shape[1]]),r=Object(o.a)(t,n);return Object(i.a)(r,[r.size])}if(2===e.rank&&1===c.rank){const t=Object(i.a)(c,[-1,1]),n=Object(o.a)(e,t);return Object(i.a)(n,[n.size])}{const t=Object(i.a)(c,[c.shape[0],c.shape[1]]);return Object(o.a)(e,t)}}})},199:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(8);var s=e(3);const u=Object(s.a)({batchNorm_:function(t,n,e,s,u,d){null==d&&(d=.001);const h=Object(o.a)(t,"x","batchNorm"),l=Object(o.a)(n,"mean","batchNorm"),f=Object(o.a)(e,"variance","batchNorm");let b,p;null!=u&&(b=Object(o.a)(u,"scale","batchNorm")),null!=s&&(p=Object(o.a)(s,"offset","batchNorm")),c.b(l.rank===f.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),c.b(null==p||l.rank===p.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),c.b(null==b||l.rank===b.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const O={x:function(t){let n;return n=0===t.rank||1===t.rank?Object(i.a)(t,[1,1,1,t.size]):2===t.rank?Object(i.a)(t,[1,1,t.shape[0],t.shape[1]]):3===t.rank?Object(i.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]):t,n}(h),scale:b,offset:p,mean:l,variance:f},j={varianceEpsilon:d},m=r.a.runKernel(a.hb,O,j);return Object(i.a)(m,h.shape)}})},204:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(3),c=e(8);const i=Object(o.a)({depthwiseConv2dNativeBackpropInput_:function(t,n,e,o,i,s=[1,1],u){let d=n,h=!1;3===n.rank&&(h=!0,d=Object(c.a)(n,[1,n.shape[0],n.shape[1],n.shape[2]]));const l={dy:d,filter:e},f={strides:o,pad:i,dimRoundingMode:u,dilations:s,inputShape:t},b=r.a.runKernel(a.Q,l,f);return h?Object(c.a)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},205:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(3),c=e(8);const i=Object(o.a)({depthwiseConv2dNativeBackpropFilter_:function(t,n,e,o,i,s=[1,1],u){let d=t;3===t.rank&&(d=Object(c.a)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let h=n;3===h.rank&&(h=Object(c.a)(n,[1,n.shape[0],n.shape[1],n.shape[2]]));const l={x:d,dy:h},f={strides:o,pad:i,dimRoundingMode:u,dilations:s,filterShape:e};return r.a.runKernel(a.P,l,f)}})},21:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(4),a=e(0),o=e(19),c=e(2),i=e(3);const s=Object(i.a)({add_:function(t,n){let e=Object(c.a)(t,"a","add"),i=Object(c.a)(n,"b","add");[e,i]=Object(o.b)(e,i);const s={a:e,b:i};return r.a.runKernel(a.d,s)}})},26:function(t,n,e){"use strict";function r(t,n,e,r,a="NHWC",o){return c(t,[...n,t[3]],e,o,r,null,null,p(a))}function a(t,n,e,r,a,o,i="channelsLast"){const[s,d]=u(n);let h;if("channelsLast"===i)h=[s,d,t[3],t[3]];else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);h=[s,d,t[1],t[1]]}return c(t,h,e,r,a,o,!1,i)}function o(t,n,e,r,a,o,c="NDHWC"){const[s,u,h]=d(n);let l,f;if("NDHWC"===c)f="channelsLast",l=[s,u,h,t[4],t[4]];else{if("NCDHW"!==c)throw new Error(`Unknown dataFormat ${c}`);f="channelsFirst",l=[s,u,h,t[1],t[1]]}return i(t,l,e,r,a,!1,f,o)}function c(t,n,e,r,a,o,c=!1,i="channelsLast"){let[d,f,b,p]=[-1,-1,-1,-1];if("channelsLast"===i)[d,f,b,p]=t;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[d,p,f,b]=t}const[O,j,,m]=n,[g,v]=u(e),[k,$]=u(r),E=h(O,k),x=h(j,$),{padInfo:w,outHeight:S,outWidth:y}=function(t,n,e,r,a,o,c,i,u){let d,h,f;if("number"==typeof t){d={top:t,bottom:t,left:t,right:t,type:0===t?"VALID":"NUMBER"};const a=function(t,n,e,r,a){null==r&&(r=s(t,n,e));const o=t[0],c=t[1],i=l((o-n+2*r)/e+1,a),u=l((c-n+2*r)/e+1,a);return[i,u]}([n,e],o,r,t,i);h=a[0],f=a[1]}else if("same"===t){h=Math.ceil(n/r),f=Math.ceil(e/a);const t=Math.max(0,(h-1)*r+o-n),i=Math.max(0,(f-1)*a+c-e),s=Math.floor(t/2),u=t-s,l=Math.floor(i/2);d={top:s,bottom:u,left:l,right:i-l,type:"SAME"}}else if("valid"===t)d={top:0,bottom:0,left:0,right:0,type:"VALID"},h=Math.ceil((n-o+1)/r),f=Math.ceil((e-c+1)/a);else{if("object"!=typeof t)throw Error(`Unknown padding parameter: ${t}`);{const s="channelsLast"===u?t[1][0]:t[2][0],b="channelsLast"===u?t[1][1]:t[2][1],p="channelsLast"===u?t[2][0]:t[3][0],O="channelsLast"===u?t[2][1]:t[3][1];d={top:s,bottom:b,left:p,right:O,type:0===s&&0===b&&0===p&&0===O?"VALID":"EXPLICIT"},h=l((n-o+s+b)/r+1,i),f=l((e-c+p+O)/a+1,i)}}return{padInfo:d,outHeight:h,outWidth:f}}(a,f,b,g,v,E,x,o,i),_=c?m*p:m;let D;return"channelsFirst"===i?D=[d,_,S,y]:"channelsLast"===i&&(D=[d,S,y,_]),{batchSize:d,dataFormat:i,inHeight:f,inWidth:b,inChannels:p,outHeight:S,outWidth:y,outChannels:_,padInfo:w,strideHeight:g,strideWidth:v,filterHeight:O,filterWidth:j,effectiveFilterHeight:E,effectiveFilterWidth:x,dilationHeight:k,dilationWidth:$,inShape:t,outShape:D,filterShape:n}}function i(t,n,e,r,a,o=!1,c="channelsLast",i){let[u,f,b,p,O]=[-1,-1,-1,-1,-1];if("channelsLast"===c)[u,f,b,p,O]=t;else{if("channelsFirst"!==c)throw new Error(`Unknown dataFormat ${c}`);[u,O,f,b,p]=t}const[j,m,g,,v]=n,[k,$,E]=d(e),[x,w,S]=d(r),y=h(j,x),_=h(m,w),D=h(g,S),{padInfo:M,outDepth:C,outHeight:H,outWidth:I}=function(t,n,e,r,a,o,c,i,u,d,h){let f,b,p,O;if("number"==typeof t){f={top:t,bottom:t,left:t,right:t,front:t,back:t,type:0===t?"VALID":"NUMBER"};const o=function(t,n,e,r,a,o){null==a&&(a=s(t,n,r));const c=t[0],i=t[1],u=t[2],d=l((c-n+2*a)/r+1,o),h=l((i-n+2*a)/r+1,o),f=l((u-n+2*a)/r+1,o);return[d,h,f,e]}([n,e,r,1],i,1,a,t,h);b=o[0],p=o[1],O=o[2]}else if("same"===t){b=Math.ceil(n/a),p=Math.ceil(e/o),O=Math.ceil(r/c);const t=(b-1)*a+i-n,s=(p-1)*o+u-e,h=(O-1)*c+d-r,l=Math.floor(t/2),j=t-l,m=Math.floor(s/2),g=s-m,v=Math.floor(h/2);f={top:m,bottom:g,left:v,right:h-v,front:l,back:j,type:"SAME"}}else{if("valid"!==t)throw Error(`Unknown padding parameter: ${t}`);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},b=Math.ceil((n-i+1)/a),p=Math.ceil((e-u+1)/o),O=Math.ceil((r-d+1)/c)}return{padInfo:f,outDepth:b,outHeight:p,outWidth:O}}(a,f,b,p,k,$,E,y,_,D,i),K=o?v*O:v;let N;return"channelsFirst"===c?N=[u,K,C,H,I]:"channelsLast"===c&&(N=[u,C,H,I,K]),{batchSize:u,dataFormat:c,inDepth:f,inHeight:b,inWidth:p,inChannels:O,outDepth:C,outHeight:H,outWidth:I,outChannels:K,padInfo:M,strideDepth:k,strideHeight:$,strideWidth:E,filterDepth:j,filterHeight:m,filterWidth:g,effectiveFilterDepth:y,effectiveFilterHeight:_,effectiveFilterWidth:D,dilationDepth:x,dilationHeight:w,dilationWidth:S,inShape:t,outShape:N,filterShape:n}}function s(t,n,e,r=1){const a=h(n,r);return Math.floor((t[0]*(e-1)-e+a)/2)}function u(t){return"number"==typeof t?[t,t,t]:2===t.length?[t[0],t[1],1]:t}function d(t){return"number"==typeof t?[t,t,t]:t}function h(t,n){return n<=1?t:t+(t-1)*(n-1)}function l(t,n){if(!n)return Math.trunc(t);switch(n){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${n}`)}}function f(t){const[n,e,r]=u(t);return 1===n&&1===e&&1===r}function b(t,n){return f(t)||f(n)}function p(t){if("NHWC"===t)return"channelsLast";if("NCHW"===t)return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}e.d(n,"d",(function(){return r})),e.d(n,"e",(function(){return a})),e.d(n,"f",(function(){return o})),e.d(n,"a",(function(){return c})),e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return s})),e.d(n,"i",(function(){return f})),e.d(n,"h",(function(){return b})),e.d(n,"g",(function(){return p}))},272:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e(33),a=e(3);const o=Object(a.a)({concat2d_:function(t,n){return Object(r.a)(t,n)}})},273:function(t,n,e){"use strict";e.r(n),e.d(n,"toPixels",(function(){return l})),e.d(n,"fromPixels",(function(){return f}));var r=e(4),a=e(0),o=e(65),c=e(5),i=e(2),s=e(11),u=e(3),d=e(170);let h;async function l(t,n){let e=Object(i.a)(t,"img","toPixels");if(!(t instanceof c.a)){const t=e;e=Object(s.a)(t,"int32"),t.dispose()}if(2!==e.rank&&3!==e.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${e.rank}.`);const[r,a]=e.shape.slice(0,2),o=2===e.rank?1:e.shape[2];if(o>4||2===o)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${o}`);if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error(`Unsupported type for toPixels: ${e.dtype}. Please use float32 or int32 tensors.`);const u=await e.data(),d="float32"===e.dtype?255:1,h=new Uint8ClampedArray(a*r*4);for(let t=0;t<r*a;++t){const n=[0,0,0,255];for(let r=0;r<o;r++){const a=u[t*o+r];if("float32"===e.dtype){if(a<0||a>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${a}.`)}else if("int32"===e.dtype&&(a<0||a>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${a}.`);1===o?(n[0]=a*d,n[1]=a*d,n[2]=a*d):n[r]=a*d}const r=4*t;h[r+0]=Math.round(n[0]),h[r+1]=Math.round(n[1]),h[r+2]=Math.round(n[2]),h[r+3]=Math.round(n[3])}if(null!=n){n.width=a,n.height=r;const t=n.getContext("2d"),e=new ImageData(h,a,r);t.putImageData(e,0,0)}return e!==t&&e.dispose(),h}const f=Object(u.a)({fromPixels_:function(t,n=3){if(n>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==t)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let e=!1,c=!1,i=!1,s=!1,u=!1,l=!1;if(t.data instanceof Uint8Array)e=!0;else if("undefined"!=typeof ImageData&&t instanceof ImageData)c=!0;else if("undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement)i=!0;else if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement)s=!0;else if(null!=t.getContext)u=!0;else{if(!("undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);l=!0}if(i){const n=2;if(i&&t.readyState<n)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=Object(o.b)(a.gb,r.a.backendName)){const e={pixels:t},o={numChannels:n};return r.a.runKernel(a.gb,e,o)}const[f,b]=i?[t.videoWidth,t.videoHeight]:[t.width,t.height];let p,O;if(u?p=t.getContext("2d").getImageData(0,0,f,b).data:c||e?p=t.data:(s||i||l)&&(null==h&&(h=document.createElement("canvas").getContext("2d")),h.canvas.width=f,h.canvas.height=b,h.drawImage(t,0,0,f,b),p=h.getImageData(0,0,f,b).data),4===n)O=new Int32Array(p);else{const t=f*b;O=new Int32Array(t*n);for(let e=0;e<t;e++)for(let t=0;t<n;++t)O[e*n+t]=p[4*e+t]}const j=[b,f,n];return Object(d.a)(O,j,"int32")}})},274:function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return o}));var r=e(6);function a(t,n){const e=t[0].length;t.forEach(((t,n)=>{r.b(t.length===e,(()=>`Error in concat${e}D: rank of tensors[${n}] must be the same as the rank of the rest (${e})`))})),r.b(n>=0&&n<e,(()=>`Error in concat${e}D: axis must be between 0 and ${e-1}.`));const a=t[0];t.forEach(((t,o)=>{for(let c=0;c<e;c++)r.b(c===n||t[c]===a[c],(()=>`Error in concat${e}D: Shape of tensors[${o}] (${t}) does not match the shape of the rest (${a}) along the non-concatenated axis ${o}.`))}))}function o(t,n){const e=t[0].slice();for(let r=1;r<t.length;r++)e[n]+=t[r][n];return e}},276:function(t,n,e){"use strict";function r(t,n,e,r=!0){let a=[];if(r)a=a.concat(n.slice(0)),a.push(t[0]/e),a=a.concat(t.slice(1));else{a=a.concat(t[0]);const e=n.length;for(let r=0;r<e;++r)a=a.concat([t[r+1]/n[r],n[r]]);a=a.concat(t.slice(e+1))}return a}function a(t,n,e=!0){const r=[];if(e){r.push(n);for(let e=n+1;e<t;++e)e<=2*n?(r.push(e),r.push(e-(n+1))):r.push(e)}else{const e=[],a=[];for(let r=1;r<t;++r)r>=2*n+1||r%2==1?a.push(r):e.push(r);r.push(...e),r.push(0),r.push(...a)}return r}function o(t,n,e,r=!0){const a=[];r?a.push(t[0]/e):a.push(t[0]*e);for(let e=1;e<t.length;++e)e<=n.length?r?a.push(n[e-1]*t[e]):a.push(t[e]/n[e-1]):a.push(t[e]);return a}function c(t,n){const e=[0];for(let r=0;r<n;++r)e.push(t[r][0]);return e}function i(t,n,e){const r=t.slice(0,1);for(let a=0;a<e;++a)r.push(t[a+1]-n[a][0]-n[a][1]);return r}e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"d",(function(){return c})),e.d(n,"e",(function(){return i}))},277:function(t,n,e){"use strict";e.d(n,"f",(function(){return r})),e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return c})),e.d(n,"d",(function(){return i})),e.d(n,"e",(function(){return s}));const r=.3275911,a=.254829592,o=-.284496736,c=1.421413741,i=-1.453152027,s=1.061405429},278:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"a",(function(){return o}));var r=e(18);function a(...t){Object(r.b)().getBool("IS_TEST")||console.warn(...t)}function o(...t){Object(r.b)().getBool("IS_TEST")||console.log(...t)}},281:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({acos_:function(t){const n={x:Object(o.a)(t,"x","acos")};return r.a.runKernel(a.b,n)}})},282:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({acosh_:function(t){const n={x:Object(o.a)(t,"x","acosh")};return r.a.runKernel(a.c,n)}})},283:function(t,n,e){"use strict";e.d(n,"a",(function(){return O})),e.d(n,"b",(function(){return j})),e.d(n,"c",(function(){return m})),e.d(n,"d",(function(){return g})),e.d(n,"e",(function(){return v})),e.d(n,"f",(function(){return k})),e.d(n,"g",(function(){return $})),e.d(n,"h",(function(){return E})),e.d(n,"i",(function(){return x}));var r=e(28),a=e(2),o=e(6),c=e(21),i=e(17),s=e(93),u=e(87),d=e(128),h=e(9),l=e(3),f=e(60),b=e(88),p=e(15);const O=Object(l.a)({addStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","addStrict"),i=Object(a.a)(n,"b","addStrict");return o.e(e.shape,i.shape,"Error in addStrict: "),Object(c.a)(e,i)}}),j=Object(l.a)({divStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","div"),c=Object(a.a)(n,"b","div");return o.e(e.shape,c.shape,"Error in divideStrict: "),Object(i.a)(e,c)}}),m=Object(l.a)({maximumStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","maximumStrict"),c=Object(a.a)(n,"b","maximumStrict");return o.e(e.shape,c.shape,"Error in maximumStrict: "),Object(s.a)(e,c)}}),g=Object(l.a)({minimumStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","minimumStrict"),c=Object(a.a)(n,"b","minimumStrict");return o.e(e.shape,c.shape,"Error in minimumStrict: "),Object(u.a)(e,c)}}),v=Object(l.a)({modStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","modStrict"),c=Object(a.a)(n,"b","modStrict");return o.e(e.shape,c.shape,"Error in modStrict: "),Object(d.a)(e,c)}}),k=Object(l.a)({mulStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","mul"),c=Object(a.a)(n,"b","mul");return o.e(e.shape,c.shape,"Error in multiplyStrict: "),Object(h.a)(e,c)}}),$=Object(l.a)({powStrict_:function(t,n){return Object(r.a)("strict variants of ops have been deprecated and will be removed in future"),o.e(t.shape,n.shape,"Error in powStrict: "),Object(f.a)(t,n)}}),E=Object(l.a)({squaredDifferenceStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","squaredDifferenceStrict"),c=Object(a.a)(n,"b","squaredDifferenceStrict");return o.e(e.shape,c.shape,"Error in squaredDifferenceStrict: "),Object(b.a)(e,c)}}),x=Object(l.a)({subStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","subStrict"),c=Object(a.a)(n,"b","subStrict");return o.e(e.shape,c.shape,"Error in subStrict: "),Object(p.a)(e,c)}})},284:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({asin_:function(t){const n={x:Object(o.a)(t,"x","asin")};return r.a.runKernel(a.j,n)}})},285:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({asinh_:function(t){const n={x:Object(o.a)(t,"x","asinh")};return r.a.runKernel(a.k,n)}})},286:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({atan_:function(t){const n={x:Object(o.a)(t,"x","atan")};return r.a.runKernel(a.l,n)}})},287:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({atanh_:function(t){const n={x:Object(o.a)(t,"x","atanh")};return r.a.runKernel(a.n,n)}})},288:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({ceil_:function(t){const n={x:Object(o.a)(t,"x","ceil")};return r.a.runKernel(a.x,n)}})},289:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(3);const s=Object(i.a)({clipByValue_:function(t,n,e){const i=Object(o.a)(t,"x","clipByValue");c.b(n<=e,(()=>`Error in clip: min (${n}) must be less than or equal to max (${e}).`));const s={x:i},u={clipValueMin:n,clipValueMax:e};return r.a.runKernel(a.y,s,u)}})},290:function(t,n,e){"use strict";e.d(n,"a",(function(){return f})),e.d(n,"b",(function(){return b})),e.d(n,"c",(function(){return p})),e.d(n,"d",(function(){return O})),e.d(n,"e",(function(){return j})),e.d(n,"f",(function(){return m}));var r=e(28),a=e(2),o=e(6),c=e(77),i=e(41),s=e(50),u=e(90),d=e(49),h=e(86),l=e(3);const f=Object(l.a)({equalStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","equalStrict"),i=Object(a.a)(n,"b","equalStrict");return Object(o.e)(e.shape,i.shape,"Error in equalStrict: "),Object(c.a)(e,i)}}),b=Object(l.a)({greaterEqualStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","greaterEqualStrict"),c=Object(a.a)(n,"b","greaterEqualStrict");return Object(o.e)(e.shape,c.shape,"Error in greaterEqualStrict: "),Object(s.a)(e,c)}}),p=Object(l.a)({greaterStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","greaterStrict"),c=Object(a.a)(n,"b","greaterStrict");return Object(o.e)(e.shape,c.shape,"Error in greaterStrict: "),Object(i.a)(e,c)}}),O=Object(l.a)({lessEqualStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","lessEqualStrict"),c=Object(a.a)(n,"b","lessEqualStrict");return Object(o.e)(e.shape,c.shape,"Error in lessEqualStrict: "),Object(d.a)(e,c)}}),j=Object(l.a)({lessStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","lessStrict"),c=Object(a.a)(n,"b","lessStrict");return Object(o.e)(e.shape,c.shape,"Error in lessStrict: "),Object(u.a)(e,c)}}),m=Object(l.a)({notEqualStrict_:function(t,n){Object(r.a)("strict variants of ops have been deprecated and will be removed in future");const e=Object(a.a)(t,"a","notEqualStrict"),c=Object(a.a)(n,"b","notEqualStrict");return Object(o.e)(e.shape,c.shape,"Error in notEqualStrict: "),Object(h.a)(e,c)}})},291:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(11),s=e(3);const u=Object(s.a)({erf_:function(t){let n=Object(o.a)(t,"x","erf");c.b("int32"===n.dtype||"float32"===n.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===n.dtype&&(n=Object(i.a)(n,"float32"));const e={x:n};return r.a.runKernel(a.X,e)}})},292:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({expm1_:function(t){const n={x:Object(o.a)(t,"x","expm1")};return r.a.runKernel(a.ab,n)}})},33:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(62),s=e(3);const u=Object(s.a)({concat_:function(t,n=0){Object(c.b)(t.length>=1,(()=>"Pass at least one tensor to concat"));const e=Object(o.b)(t,"tensors","concat","string_or_numeric");if("complex64"===e[0].dtype&&e.forEach((t=>{if("complex64"!==t.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${t.dtype}. `)})),1===e.length)return Object(i.a)(e[0]);const s=e,u={axis:n};return r.a.runKernel(a.B,s,u)}})},342:function(t,n,e){"use strict";e.d(n,"a",(function(){return d}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(26),s=e(3),u=e(8);const d=Object(s.a)({avgPool3dGrad_:function(t,n,e,s,d=[1,1,1],h,l){const f=Object(o.a)(t,"dy","avgPool3dGrad"),b=Object(o.a)(n,"input","avgPool3dGrad");let p=f,O=b,j=!1;4===b.rank&&(j=!0,p=Object(u.a)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]]),O=Object(u.a)(b,[1,b.shape[0],b.shape[1],b.shape[2],b.shape[3]])),c.b(5===p.rank,(()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${p.rank}.`)),c.b(5===O.rank,(()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${O.rank}.`)),c.b(i.h(s,d),(()=>`Error in avgPool3dGrad: Either strides or dilations must be 1. Got strides ${s} and dilations '${d}'`)),null!=l&&c.b(c.v(h),(()=>`Error in avgPool3dGrad: pad must be an integer when using, dimRoundingMode ${l} but got pad ${h}.`));const m={dy:p,input:O},g={filterSize:e,strides:s,dilations:d,pad:h,dimRoundingMode:l},v=r.a.runKernel(a.q,m,g);return j?Object(u.a)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}})},344:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(3),s=e(8);const u=Object(i.a)({avgPoolGrad_:function(t,n,e,i,u){const d=Object(o.a)(t,"dy","avgPoolGrad"),h=Object(o.a)(n,"input","avgPoolGrad");c.b(h.rank===d.rank,(()=>`Rank of input (${h.rank}) does not match rank of dy (${d.rank})`));let l=h,f=d,b=!1;3===h.rank&&(b=!0,l=Object(s.a)(h,[1,h.shape[0],h.shape[1],h.shape[2]]),f=Object(s.a)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),c.b(4===f.rank,(()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${f.rank}.`)),c.b(4===l.rank,(()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${l.rank}.`));const p={dy:f,input:l},O={filterSize:e,strides:i,pad:u},j=r.a.runKernel(a.r,p,O);return b?Object(s.a)(j,[j.shape[1],j.shape[2],j.shape[3]]):j}})},356:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(4),a=e(0),o=e(6),c=e(3),i=e(8);const s=Object(c.a)({conv3DBackpropInput_:function(t,n,e,c,s){o.b(t.length===n.rank,(()=>`Length of inShape (${t.length}) and rank of dy (${n.rank}) must match`));let u=t,d=n,h=!1;4===n.rank&&(h=!0,d=Object(i.a)(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]]),u=[1,t[0],t[1],t[2],t[3]]);const l=u[4],f=d.shape[4];o.b(5===u.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${u.length}.`)),o.b(5===d.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${d.rank}`)),o.b(5===e.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${e.rank}`)),o.b(l===e.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${e.shape[3]}.`)),o.b(f===e.shape[4],(()=>`Error in conv3dDerInput: depth of output (${f}) must match output depth for filter ${e.shape[4]}.`));const b={dy:d,filter:e},p={pad:s,strides:c,inputShape:u},O=r.a.runKernel(a.H,b,p);return h?Object(i.a)(O,[O.shape[1],O.shape[2],O.shape[3],O.shape[4]]):O}})},357:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(4),a=e(0),o=e(6),c=e(3),i=e(8);const s=Object(c.a)({conv3DBackpropFilter_:function(t,n,e,c,s){let u=t;4===t.rank&&(u=Object(i.a)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let d=n;4===d.rank&&(d=Object(i.a)(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]])),o.b(5===u.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${u.shape}.`)),o.b(5===d.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${d.shape}.`)),o.b(5===e.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${e}.`)),o.b(u.shape[4]===e[3],(()=>`Error in conv3dDerFilter: depth of input ${u.shape[4]}) must match input depth in filter (${e[3]}.`)),o.b(d.shape[4]===e[4],(()=>`Error in conv3dDerFilter: depth of dy (${d.shape[4]}) must match output depth for filter (${e[4]}).`));const h={x:u,dy:d},l={strides:c,pad:s,filterShape:e};return r.a.runKernel(a.G,h,l)}})},36:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({exp_:function(t){const n={x:Object(o.a)(t,"x","exp")};return r.a.runKernel(a.Y,n)}})},39:function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return o})),e.d(n,"d",(function(){return c})),e.d(n,"e",(function(){return i})),e.d(n,"a",(function(){return s})),e.d(n,"f",(function(){return u})),e.d(n,"h",(function(){return d})),e.d(n,"g",(function(){return h}));var r=e(6);function a(t,n){for(let e=0;e<t.length;++e)if(t[t.length-e-1]!==n-1-e)return!1;return!0}function o(t,n,e){const r=t.length+n.length,a=[];let o=0,c=0;for(let i=0;i<r;i++)-1===e.indexOf(i)?a.push(t[o++]):a.push(n[c++]);return a}function c(t,n){const e=[],r=t.length;for(let a=0;a<r;a++)-1===n.indexOf(a)&&e.push(t[a]);return[e,n.map((n=>t[n]))]}function i(t,n){return o(t,n.map((t=>1)),n)}function s(t,n,e){r.b(a(n,e),(()=>`${t} supports only inner-most axes for now. Got axes ${n} and rank-${e} input.`))}function u(t,n){if(a(t,n))return null;const e=[];for(let r=0;r<n;++r)-1===t.indexOf(r)&&e.push(r);return t.forEach((t=>e.push(t))),e}function d(t){return t.map(((t,n)=>[n,t])).sort(((t,n)=>t[1]-n[1])).map((t=>t[0]))}function h(t,n){const e=[];for(let r=n-t;r<n;++r)e.push(r);return e}},43:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({abs_:function(t){const n=Object(o.a)(t,"x","abs");if("complex64"===n.dtype){const t={x:n};return r.a.runKernel(a.A,t)}{const t={x:n};return r.a.runKernel(a.a,t)}}})},54:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(3);const s=Object(i.a)({complex_:function(t,n){const e=Object(o.a)(t,"real","complex"),i=Object(o.a)(n,"imag","complex");c.e(e.shape,i.shape,`real and imag shapes, ${e.shape} and ${i.shape}, must match in call to tf.complex().`);const s={real:e,imag:i};return r.a.runKernel(a.z,s)}})},57:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(3);const s=Object(i.a)({expandDims_:function(t,n=0){const e=Object(o.a)(t,"x","expandDims","string_or_numeric");c.b(n<=e.rank,(()=>"Axis must be <= rank of the tensor"));const i={input:e},s={dim:n};return r.a.runKernel(a.Z,i,s)}})},61:function(t,n,e){"use strict";e.d(n,"a",(function(){return d}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(26),s=e(3),u=e(8);const d=Object(s.a)({conv2d_:function(t,n,e,s,d="NHWC",h=[1,1],l){const f=Object(o.a)(t,"x","conv2d"),b=Object(o.a)(n,"filter","conv2d");let p=f,O=!1;3===f.rank&&(O=!0,p=Object(u.a)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),c.b(4===p.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${p.rank}.`)),c.b(4===b.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${b.rank}.`)),null!=l&&c.b(c.v(s),(()=>`Error in conv2d: pad must be an integer when using, dimRoundingMode ${l} but got pad ${s}.`));const j="NHWC"===d?p.shape[3]:p.shape[1];c.b(j===b.shape[2],(()=>`Error in conv2d: depth of input (${j}) must match input depth for filter ${b.shape[2]}.`)),c.b(i.h(e,h),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${e} and dilations '${h}'`));const m={x:p,filter:b},g={strides:e,pad:s,dataFormat:d,dilations:h,dimRoundingMode:l},v=r.a.runKernel(a.C,m,g);return O?Object(u.a)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},62:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var r=e(4),a=e(0),o=e(2),c=e(3);const i=Object(c.a)({clone_:function(t){const n={x:Object(o.a)(t,"x","clone","string_or_numeric")};return r.a.runKernel(a.pb,n)}})},76:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(3),s=e(8);const u=Object(i.a)({depthwiseConv2d_:function(t,n,e,i,u="NHWC",d=[1,1],h){const l=Object(o.a)(t,"x","depthwiseConv2d"),f=Object(o.a)(n,"filter","depthwiseConv2d");let b=l,p=!1;3===l.rank&&(p=!0,b=Object(s.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),c.b(4===b.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${b.rank}.`)),c.b(4===f.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`)),c.b(b.shape[3]===f.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${b.shape[3]}) must match the inChannels dimension in filter ${f.shape[2]}.`)),null!=h&&c.b(c.v(i),(()=>`Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode ${h} but got pad ${i}.`));const O={x:b,filter:f},j={strides:e,pad:i,dataFormat:u,dilations:d,dimRoundingMode:h},m=r.a.runKernel(a.O,O,j);return p?Object(s.a)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},77:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e(4),a=e(0),o=e(19),c=e(2),i=e(12),s=e(3);const u=Object(s.a)({equal_:function(t,n){let e=Object(c.a)(t,"a","equal"),s=Object(c.a)(n,"b","equal");[e,s]=Object(o.b)(e,s),Object(i.a)(e.shape,s.shape);const u={a:e,b:s};return r.a.runKernel(a.W,u)}})},81:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e(5),a=e(6);function o(t,n="float32",e){return n=n||"float32",a.c(t),new r.b(t,n,e)}},92:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(4),a=e(0),o=e(2),c=e(6),i=e(3);const s=Object(i.a)({batchToSpaceND_:function(t,n,e){const i=Object(o.a)(t,"x","batchToSpaceND"),s=n.reduce(((t,n)=>t*n));c.b(i.rank>=1+n.length,(()=>`input rank is ${i.rank} but should be > than blockShape.length ${n.length}`)),c.b(e.length===n.length,(()=>`crops.length is ${e.length} but should be equal to blockShape.length  ${n.length}`)),c.b(i.shape[0]%s==0,(()=>`input tensor batch is ${i.shape[0]} but is not divisible by the product of the elements of blockShape ${n.join(" * ")} === ${s}`));const u={x:i},d={blockShape:n,crops:e};return r.a.runKernel(a.t,u,d)}})},98:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e(4),a=e(0),o=e(2),c=e(62),i=e(3),s=e(8);const u=Object(i.a)({broadcastTo_:function(t,n){let e=Object(o.a)(t,"broadcastTo","x");const i=e.shape;if(n.some((t=>!(t>0)||t%1!=0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${n}].`);if(n.length<e.rank)throw new Error(`broadcastTo(): shape.length=${n.length} < input.rank=${e.rank}.`);if(n.length>e.rank){const t=e.shape.slice();for(;t.length<n.length;)t.unshift(1);e=Object(s.a)(e,t)}const u=e.shape,d=Array.from(n);for(let t=n.length-1;t>=0;t--)if(u[t]===n[t])d[t]=1;else if(1!==e.shape[t])throw new Error(`broadcastTo(): [${i}] cannot be broadcast to [${n}].`);if(0===d.map(((t,n)=>t>1?n:-1)).filter((t=>t>=0)).length)return Object(c.a)(e);const h={x:e},l={reps:d};return r.a.runKernel(a.Rc,h,l)}})}}]);
//# sourceMappingURL=bundle~bundle~a1212309.cc17a678.js.map