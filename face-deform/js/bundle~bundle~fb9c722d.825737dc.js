/*! For license information please see bundle~bundle~fb9c722d.825737dc.js.LICENSE.txt */
(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[13],{135:function(t,e,n){"use strict";function r(t,e,n){const r=function(t,e,n){return function(t,e,n){let r=0,s=t.length,i=0,a=!1;for(;r<s;){i=r+(s-r>>>1);const o=n(e,t[i]);o>0?r=i+1:(s=i,a=!o)}return a?r:-r-1}(t,e,n||s)}(t,e,n),i=r<0?-(r+1):r;t.splice(i,0,e)}function s(t,e){return t>e?1:t<e?-1:0}function i(t,e,n,r,s){return u(t,e,n,r,s,0)}function a(t,e,n,r,s,i){return u(t,e,n,r,s,0,!1,i,!0)}function o(t,e,n,r,s,i){return u(t,e,n,r,s,i,!0)}function u(t,e,n,s,i,a,o=!1,u=!1,f=!1){const h=[];for(let t=0;t<e.length;t++)e[t]>i&&h.push({score:e[t],boxIndex:t,suppressBeginIndex:0});h.sort(l);const p=a>0?-.5/a:0,g=[],m=[];for(;g.length<n&&h.length>0;){const e=h.pop(),{score:n,boxIndex:a,suppressBeginIndex:o}=e;if(n<i)break;let u=!1;for(let n=g.length-1;n>=o;--n){const r=c(t,a,g[n]);if(r>=s){u=!0;break}if(e.score=e.score*d(s,p,r),e.score<=i)break}e.suppressBeginIndex=g.length,u||(e.score===n?(g.push(a),m.push(e.score)):e.score>i&&r(h,e,l))}const b=g.length,y=n-b;u&&y>0&&(g.push(...new Array(y).fill(0)),m.push(...new Array(y).fill(0)));const k={selectedIndices:g};return o&&(k.selectedScores=m),f&&(k.validOutputs=b),k}function c(t,e,n){const r=t.subarray(4*e,4*e+4),s=t.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),o=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(s[0],s[2]),d=Math.min(s[1],s[3]),l=Math.max(s[0],s[2]),f=Math.max(s[1],s[3]),h=(o-i)*(u-a),p=(l-c)*(f-d);if(h<=0||p<=0)return 0;const g=Math.max(i,c),m=Math.max(a,d),b=Math.min(o,l),y=Math.min(u,f),k=Math.max(b-g,0)*Math.max(y-m,0);return k/(h+p-k)}function d(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function l(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o}))},143:function(t,e,n){"use strict";(function(t){n(4);var e=n(164),r=n(18);const s=Object(r.b)();s.registerFlag("DEBUG",(()=>!1),(t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),s.registerFlag("IS_BROWSER",(()=>e.a())),s.registerFlag("IS_NODE",(()=>void 0!==t&&void 0!==t.versions&&void 0!==t.versions.node)),s.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),s.registerFlag("PROD",(()=>!1)),s.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>s.getBool("DEBUG"))),s.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),s.registerFlag("IS_TEST",(()=>!1)),s.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0))}).call(this,n(105))},146:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s}));class r{constructor(t,e){this.backend=t,this.dataMover=e,this.data=new WeakMap,this.dataIdsCount=0}get(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)}set(t,e){this.dataIdsCount++,this.data.set(t,e)}has(t){return this.data.has(t)}delete(t){return this.dataIdsCount--,this.data.delete(t)}numDataIds(){return this.dataIdsCount}}class s{decComplexRef(t){}time(t){return i("time")}read(t){return i("read")}readSync(t){return i("readSync")}numDataIds(){return i("numDataIds")}disposeData(t){return i("disposeData")}write(t,e,n){return i("write")}move(t,e,n,r){return i("move")}memory(){return i("memory")}floatPrecision(){return i("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}batchMatMul(t,e,n,r){return i("batchMatMul")}fusedBatchMatMul({a:t,b:e,transposeA:n,transposeB:r,bias:s,activation:a,preluActivationWeights:o}){return i("fusedBatchMatMul")}slice(t,e,n){return i("slice")}stridedSlice(t,e,n,r){return i("stridedSlice")}unstack(t,e){return i("unstack")}reverse(t,e){return i("reverse")}concat(t,e){return i("concat")}neg(t){return i("neg")}add(t,e){return i("add")}addN(t){return i("addN")}subtract(t,e){return i("subtract")}multiply(t,e){return i("multiply")}realDivide(t,e){return i("realDivide")}floorDiv(t,e){return i("floorDiv")}sum(t,e){return i("sum")}prod(t,e){return i("prod")}unsortedSegmentSum(t,e,n){return i("unsortedSegmentSum")}argMin(t,e){return i("argMin")}argMax(t,e){return i("argMax")}equal(t,e){return i("equal")}notEqual(t,e){return i("notEqual")}less(t,e){return i("less")}lessEqual(t,e){return i("lessEqual")}greater(t,e){return i("greater")}greaterEqual(t,e){return i("greaterEqual")}logicalNot(t){return i("logicalNot")}logicalAnd(t,e){return i("logicalAnd")}logicalOr(t,e){return i("logicalOr")}where(t){return i("where")}select(t,e,n){return i("select")}topk(t,e,n){return i("topk")}min(t,e){return i("min")}minimum(t,e){return i("minimum")}mod(t,e){return i("mod")}max(t,e){return i("max")}maximum(t,e){return i("maximum")}all(t,e){return i("all")}any(t,e){return i("any")}squaredDifference(t,e){return i("squaredDifference")}ceil(t){return i("ceil")}floor(t){return i("floor")}round(t){return i("round")}sign(t){return i("sign")}isNaN(t){return i("isNaN")}isInf(t){return i("isInf")}isFinite(t){return i("isFinite")}pow(t,e){return i("pow")}exp(t){return i("exp")}expm1(t){return i("expm1")}softmax(t,e){return i("softmax")}log(t){return i("log")}log1p(t){return i("log1p")}sqrt(t){return i("sqrt")}rsqrt(t){return i("rsqrt")}square(t){return i("square")}reciprocal(t){return i("reciprocal")}relu(t){return i("relu")}relu6(t){return i("relu6")}prelu(t,e){return i("prelu")}elu(t){return i("elu")}eluDer(t,e){return i("eluDer")}selu(t){return i("selu")}int(t){return i("int")}clip(t,e,n){return i("clip")}abs(t){return i("abs")}complexAbs(t){return i("complexAbs")}sigmoid(t){return i("sigmoid")}softplus(t){return i("softplus")}sin(t){return i("sin")}cos(t){return i("cos")}tan(t){return i("tan")}asin(t){return i("asin")}acos(t){return i("acos")}atan(t){return i("atan")}atan2(t,e){return i("atan2")}sinh(t){return i("sinh")}cosh(t){return i("cosh")}tanh(t){return i("tanh")}asinh(t){return i("asinh")}acosh(t){return i("acosh")}atanh(t){return i("atanh")}erf(t){return i("erf")}step(t,e){return i("step")}fusedConv2d({input:t,filter:e,convInfo:n,bias:r,activation:s,preluActivationWeights:a}){return i("fusedConv2d")}conv2d(t,e,n){return i("conv2d")}conv2dDerInput(t,e,n){return i("conv2dDerInput")}conv2dDerFilter(t,e,n){return i("conv2dDerFilter")}fusedDepthwiseConv2D({input:t,filter:e,convInfo:n,bias:r,activation:s,preluActivationWeights:a}){return i("fusedDepthwiseConv2D")}depthwiseConv2D(t,e,n){return i("depthwiseConv2D")}depthwiseConv2DDerInput(t,e,n){return i("depthwiseConv2DDerInput")}depthwiseConv2DDerFilter(t,e,n){return i("depthwiseConv2DDerFilter")}conv3d(t,e,n){return i("conv3d")}conv3dDerInput(t,e,n){return i("conv3dDerInput")}conv3dDerFilter(t,e,n){return i("conv3dDerFilter")}maxPool(t,e){return i("maxPool")}maxPoolBackprop(t,e,n,r){return i("maxPoolBackprop")}avgPool(t,e){return i("avgPool")}avgPoolBackprop(t,e,n){return i("avgPoolBackprop")}avgPool3d(t,e){return i("avgPool3d")}avgPool3dBackprop(t,e,n){return i("avgPool3dBackprop")}maxPool3d(t,e){return i("maxPool3d")}maxPool3dBackprop(t,e,n,r){return i("maxPool3dBackprop")}reshape(t,e){return i("reshape")}cast(t,e){return i("cast")}tile(t,e){return i("tile")}pad(t,e,n){return i("pad")}transpose(t,e){return i("transpose")}gather(t,e,n,r=0){return i("gather")}gatherND(t,e){return i("gatherND")}scatterND(t,e,n){return i("scatterND")}batchToSpaceND(t,e,n){return i("batchToSpaceND")}spaceToBatchND(t,e,n){return i("spaceToBatchND")}resizeBilinear(t,e,n,r,s){return i("resizeBilinear")}resizeBilinearBackprop(t,e,n){return i("resizeBilinearBackprop")}resizeNearestNeighbor(t,e,n,r,s){return i("resizeNearestNeighbor")}resizeNearestNeighborBackprop(t,e,n){return i("resizeNearestNeighborBackprop")}batchNorm(t,e,n,r,s,a){return i("batchNorm")}localResponseNormalization4D(t,e,n,r,s){return i("localResponseNormalization4D")}LRNGrad(t,e,n,r,s,a,o){return i("LRNGrad")}multinomial(t,e,n,r){return i("multinomial")}oneHot(t,e,n,r){return i("oneHot")}cumsum(t,e,n,r){return i("cumsum")}nonMaxSuppression(t,e,n,r,s){return i("nonMaxSuppression")}fft(t){return i("fft")}ifft(t){return i("ifft")}complex(t,e){return i("complex")}real(t){return i("real")}imag(t){return i("imag")}cropAndResize(t,e,n,r,s,a){return i("cropAndResize")}depthToSpace(t,e,n){return i("depthToSpace")}split(t,e,n){return i("split")}sparseToDense(t,e,n,r){return i("sparseToDense")}diag(t){return i("diag")}fill(t,e,n){return i("fill")}onesLike(t){return i("onesLike")}zerosLike(t){return i("zerosLike")}linspace(t,e,n){return i("linspace")}dispose(){return i("dispose")}}function i(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},164:function(t,e,n){"use strict";function r(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}n.d(e,"a",(function(){return r}))},18:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n(6);const s="tfjsflags";class i{constructor(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}setPlatform(t,e){null!=this.platform&&console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`),this.platformName=t,this.platform=e}registerFlag(t,e,n){if(this.flagRegistry[t]={evaluationFn:e,setHook:n},null!=this.urlFlags[t]){const e=this.urlFlags[t];console.warn(`Setting feature override from URL ${t}: ${e}.`),this.set(t,e)}}async getAsync(t){return t in this.flags||(this.flags[t]=await this.evaluateFlag(t)),this.flags[t]}get(t){if(t in this.flags)return this.flags[t];const e=this.evaluateFlag(t);if(Object(r.x)(e))throw new Error(`Flag ${t} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[t]=e,this.flags[t]}getNumber(t){return this.get(t)}getBool(t){return this.get(t)}getFlags(){return this.flags}get features(){return this.flags}set(t,e){if(null==this.flagRegistry[t])throw new Error(`Cannot set flag ${t} as it has not been registered.`);this.flags[t]=e,null!=this.flagRegistry[t].setHook&&this.flagRegistry[t].setHook(e)}evaluateFlag(t){if(null==this.flagRegistry[t])throw new Error(`Cannot evaluate flag '${t}': no evaluation function found.`);return this.flagRegistry[t].evaluationFn()}setFlags(t){this.flags=Object.assign({},t)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const t=function(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((t,...n)=>(function(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}(e,n[0],n[1]),n.join("=")))),e}(this.global.location.search);if(s in t){t.tfjsflags.split(",").forEach((t=>{const[e,n]=t.split(":");this.urlFlags[e]=function(t,e){if("true"===(e=e.toLowerCase())||"false"===e)return"true"===e;if(""+ +e===e)return+e;throw new Error(`Could not parse value flag value ${e} for flag ${t}.`)}(e,n)}))}}}function a(){return o}let o=null;function u(t){o=t}},308:function(t,e,n){"use strict";n.d(e,"Eb",(function(){return d.a})),n.d(e,"Lb",(function(){return l.a})),n.d(e,"Ob",(function(){return l.b})),n.d(e,"Pb",(function(){return l.c})),n.d(e,"Qb",(function(){return l.d})),n.d(e,"Rb",(function(){return l.e})),n.d(e,"Sb",(function(){return l.f})),n.d(e,"Ub",(function(){return l.g})),n.d(e,"Xb",(function(){return l.h})),n.d(e,"dc",(function(){return l.k})),n.d(e,"gc",(function(){return l.l})),n.d(e,"hc",(function(){return l.m})),n.d(e,"kc",(function(){return l.n})),n.d(e,"lc",(function(){return l.o})),n.d(e,"nc",(function(){return l.p})),n.d(e,"oc",(function(){return l.q})),n.d(e,"pc",(function(){return l.r})),n.d(e,"qc",(function(){return l.s})),n.d(e,"rc",(function(){return l.t})),n.d(e,"sc",(function(){return l.u})),n.d(e,"uc",(function(){return l.v})),n.d(e,"ac",(function(){return l.j})),n.d(e,"Tb",(function(){return f.a})),n.d(e,"Vb",(function(){return f.c})),n.d(e,"tc",(function(){return f.h})),n.d(e,"cc",(function(){return f.e})),n.d(e,"jc",(function(){return f.g})),n.d(e,"Zb",(function(){return f.d})),n.d(e,"ec",(function(){return f.f})),n.d(e,"fc",(function(){return h.e})),n.d(e,"Wb",(function(){return p.b})),n.d(e,"Nb",(function(){return i})),n.d(e,"bc",(function(){return s})),n.d(e,"vc",(function(){return c})),n.d(e,"Mb",(function(){return r})),n.d(e,"mc",(function(){return u})),n.d(e,"Yb",(function(){return a})),n.d(e,"ic",(function(){return o})),n.d(e,"G",(function(){return q.b})),n.d(e,"o",(function(){return q.a})),n.d(e,"a",(function(){return W.a})),n.d(e,"b",(function(){return W.d})),n.d(e,"c",(function(){return W.e})),n.d(e,"d",(function(){return W.h})),n.d(e,"e",(function(){return W.o})),n.d(e,"f",(function(){return W.s})),n.d(e,"g",(function(){return W.w})),n.d(e,"h",(function(){return W.y})),n.d(e,"i",(function(){return W.B})),n.d(e,"j",(function(){return W.C})),n.d(e,"k",(function(){return W.E})),n.d(e,"l",(function(){return W.I})),n.d(e,"n",(function(){return W.L})),n.d(e,"m",(function(){return W.K})),n.d(e,"p",(function(){return W.N})),n.d(e,"q",(function(){return W.O})),n.d(e,"gb",(function(){return W.ic})),n.d(e,"r",(function(){return W.W})),n.d(e,"s",(function(){return W.Y})),n.d(e,"t",(function(){return W.Z})),n.d(e,"u",(function(){return W.cb})),n.d(e,"v",(function(){return W.db})),n.d(e,"w",(function(){return W.eb})),n.d(e,"x",(function(){return W.fb})),n.d(e,"y",(function(){return W.hb})),n.d(e,"C",(function(){return W.lb})),n.d(e,"B",(function(){return W.kb})),n.d(e,"D",(function(){return W.mb})),n.d(e,"E",(function(){return W.nb})),n.d(e,"F",(function(){return W.pb})),n.d(e,"H",(function(){return W.wb})),n.d(e,"I",(function(){return W.xb})),n.d(e,"J",(function(){return W.yb})),n.d(e,"K",(function(){return W.Ab})),n.d(e,"L",(function(){return W.Db})),n.d(e,"M",(function(){return W.Gb})),n.d(e,"O",(function(){return W.Mb})),n.d(e,"N",(function(){return W.Hb})),n.d(e,"P",(function(){return W.Nb})),n.d(e,"Q",(function(){return W.Ob})),n.d(e,"R",(function(){return W.Pb})),n.d(e,"S",(function(){return W.Tb})),n.d(e,"T",(function(){return W.Ub})),n.d(e,"X",(function(){return W.Yb})),n.d(e,"U",(function(){return W.Vb})),n.d(e,"V",(function(){return W.Wb})),n.d(e,"W",(function(){return W.Xb})),n.d(e,"Z",(function(){return W.ac})),n.d(e,"Y",(function(){return W.Zb})),n.d(e,"ab",(function(){return W.bc})),n.d(e,"bb",(function(){return W.cc})),n.d(e,"cb",(function(){return W.dc})),n.d(e,"db",(function(){return W.ec})),n.d(e,"eb",(function(){return W.fc})),n.d(e,"fb",(function(){return W.gc})),n.d(e,"hb",(function(){return W.kc})),n.d(e,"jb",(function(){return W.mc})),n.d(e,"kb",(function(){return W.nc})),n.d(e,"ib",(function(){return W.lc})),n.d(e,"lb",(function(){return W.rc})),n.d(e,"nb",(function(){return W.tc})),n.d(e,"ob",(function(){return W.uc})),n.d(e,"pb",(function(){return W.vc})),n.d(e,"qb",(function(){return W.wc})),n.d(e,"tb",(function(){return W.Cc})),n.d(e,"sb",(function(){return W.Ac})),n.d(e,"rb",(function(){return W.yc})),n.d(e,"wb",(function(){return W.Ic})),n.d(e,"Cb",(function(){return W.Oc})),n.d(e,"vb",(function(){return W.Hc})),n.d(e,"ub",(function(){return W.Dc})),n.d(e,"yb",(function(){return W.Kc})),n.d(e,"xb",(function(){return W.Jc})),n.d(e,"Bb",(function(){return W.Nc})),n.d(e,"Ab",(function(){return W.Mc})),n.d(e,"Db",(function(){return W.Qc})),n.d(e,"Fb",(function(){return W.Rc})),n.d(e,"Gb",(function(){return W.Sc})),n.d(e,"Hb",(function(){return W.Tc})),n.d(e,"Ib",(function(){return W.Vc})),n.d(e,"Jb",(function(){return W.Xc})),n.d(e,"zb",(function(){return W.Lc})),n.d(e,"mb",(function(){return W.sc})),n.d(e,"Kb",(function(){return W.Yc})),n.d(e,"z",(function(){return W.ib})),n.d(e,"A",(function(){return W.jb}));var r={};n.r(r),n.d(r,"axesAreInnerMostDims",(function(){return I.b})),n.d(r,"combineLocations",(function(){return I.c})),n.d(r,"computeOutAndReduceShapes",(function(){return I.d})),n.d(r,"expandShapeToKeepDim",(function(){return I.e})),n.d(r,"assertAxesAreInnerMostDims",(function(){return I.a})),n.d(r,"getAxesPermutation",(function(){return I.f})),n.d(r,"getUndoAxesPermutation",(function(){return I.h})),n.d(r,"getInnerMostAxes",(function(){return I.g})),n.d(r,"getBroadcastDims",(function(){return v.b})),n.d(r,"getReductionAxes",(function(){return v.c})),n.d(r,"assertAndGetBroadcastShape",(function(){return v.a})),n.d(r,"assertParamsConsistent",(function(){return w.a})),n.d(r,"computeOutShape",(function(){return w.b})),n.d(r,"computeDilation2DInfo",(function(){return D.d})),n.d(r,"computePool2DInfo",(function(){return D.e})),n.d(r,"computePool3DInfo",(function(){return D.f})),n.d(r,"computeConv2DInfo",(function(){return D.a})),n.d(r,"computeConv3DInfo",(function(){return D.b})),n.d(r,"computeDefaultPad",(function(){return D.c})),n.d(r,"tupleValuesAreOne",(function(){return D.i})),n.d(r,"eitherStridesOrDilationsAreOne",(function(){return D.h})),n.d(r,"convertConv2DDataFormat",(function(){return D.g})),n.d(r,"getFusedDyActivation",(function(){return S.c})),n.d(r,"getFusedBiasGradient",(function(){return S.b})),n.d(r,"applyActivation",(function(){return S.a})),n.d(r,"shouldFuse",(function(){return S.d})),n.d(r,"PARALLELIZE_THRESHOLD",(function(){return F.a})),n.d(r,"computeOptimalWindowSize",(function(){return F.b})),n.d(r,"slice_util",(function(){return u})),n.d(r,"upcastType",(function(){return x.a})),n.d(r,"getImageCenter",(function(){return B.a})),n.d(r,"getReshaped",(function(){return T.b})),n.d(r,"getPermuted",(function(){return T.a})),n.d(r,"getReshapedPermuted",(function(){return T.c})),n.d(r,"getSliceBeginCoords",(function(){return T.d})),n.d(r,"getSliceSize",(function(){return T.e})),n.d(r,"prepareAndValidate",(function(){return a.prepareAndValidate})),n.d(r,"validateUpdateShape",(function(){return o.validateUpdateShape})),n.d(r,"validateInput",(function(){return o.validateInput})),n.d(r,"calculateShapes",(function(){return o.calculateShapes})),n.d(r,"SELU_SCALEALPHA",(function(){return E.b})),n.d(r,"SELU_SCALE",(function(){return E.a})),n.d(r,"ERF_P",(function(){return A.f})),n.d(r,"ERF_A1",(function(){return A.a})),n.d(r,"ERF_A2",(function(){return A.b})),n.d(r,"ERF_A3",(function(){return A.c})),n.d(r,"ERF_A4",(function(){return A.d})),n.d(r,"ERF_A5",(function(){return A.e})),n.d(r,"warn",(function(){return M.b})),n.d(r,"log",(function(){return M.a})),n.d(r,"mergeRealAndImagArrays",(function(){return N})),n.d(r,"splitRealAndImagArrays",(function(){return R})),n.d(r,"complexWithEvenIndex",(function(){return O})),n.d(r,"complexWithOddIndex",(function(){return C})),n.d(r,"getComplexWithIndex",(function(){return P})),n.d(r,"assignToTypedArray",(function(){return j})),n.d(r,"exponents",(function(){return z})),n.d(r,"exponent",(function(){return L})),n.d(r,"prepareSplitSize",(function(){return V.a})),n.d(r,"segment_util",(function(){return $})),n.d(r,"castTensor",(function(){return _})),n.d(r,"reshapeTensor",(function(){return K})),n.d(r,"fromUint8ToStringArray",(function(){return G})),n.d(r,"fromStringArrayToUint8",(function(){return U}));var s=n(306),i=n(273),a=n(163),o=n(145),u=n(109),c=n(10),d=n(5),l=n(13),f=n(28),h=n(65),p=n(18),g=n(4),m=n(11),b=n(16),y=n(59),k=n(6),I=n(39),v=n(12),w=n(274),D=n(26),S=n(40),F=n(171),x=n(84),B=n(275),T=n(276),E=n(148),A=n(277),M=n(278);function N(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(2*t.length);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function R(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function O(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let e=0;e<t.length;e+=4)n[Math.floor(e/4)]=t[e],r[Math.floor(e/4)]=t[e+1];return{real:n,imag:r}}function C(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let e=2;e<t.length;e+=4)n[Math.floor(e/4)]=t[e],r[Math.floor(e/4)]=t[e+1];return{real:n,imag:r}}function P(t,e){return{real:t[2*e],imag:t[2*e+1]}}function j(t,e,n,r){t[2*r]=e,t[2*r+1]=n}function z(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let s=0;s<Math.ceil(t/2);s++){const i=(e?2:-2)*Math.PI*(s/t);n[s]=Math.cos(i),r[s]=Math.sin(i)}return{real:n,imag:r}}function L(t,e,n){const r=(n?2:-2)*Math.PI*(t/e);return{real:Math.cos(r),imag:Math.sin(r)}}var V=n(279),$=n(280);function _(t,e,n){if("complex64"===e){if("complex64"===t.dtype)return t.clone();const e=Object(y.a)(t.shape),r=Object(m.a)(t,"float32"),s=n.complex(r,e);return e.dispose(),r.dispose(),s}if(!Object(k.p)(t.dtype,e))return g.a.makeTensorFromDataId(t.dataId,t.shape,e);if("complex64"===t.dtype){const r=n.real(t),s=Object(m.a)(r,e);return r.dispose(),s}if("int32"===e)return n.int(t);if("bool"===e){const e=Object(b.a)(0,t.dtype),r=n.notEqual(t,e);return e.dispose(),r}throw new Error(`Error in Cast: failed to cast ${t.dtype} to ${e}`)}function K(t,e){return g.a.makeTensorFromDataId(t.dataId,e,t.dtype)}function G(t){try{return t.map((t=>Object(c.decodeString)(t)))}catch(t){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${t}`)}}function U(t){return t.map((t=>Object(c.encodeString)(t)))}var q=n(146),W=n(0)},4:function(t,e,n){"use strict";n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return b}));var r=n(146),s=n(18),i=n(149),a=n(0),o=n(65),u=n(309),c=n(230),d=n(5),l=n(19),f=n(6),h=n(10);class p{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((t=>t.name))))}}}dispose(){for(const t in this.registeredVariables)this.registeredVariables[t].dispose()}}class g{constructor(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new p}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const t=this.getSortedBackends();for(let e=0;e<t.length;e++){const n=t[e];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:t,asyncInit:e}=this.initializeBackendsAndReturnBest();if(e)throw new Error(`The highest priority backend '${t}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(t)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(t){if(!(t in this.registry)){if(!(t in this.registryFactory))return null;{const{asyncInit:e}=this.initializeBackend(t);if(e)return null}}return this.registry[t]}findBackendFactory(t){return t in this.registryFactory?this.registryFactory[t].factory:null}registerBackend(t,e,n=1){return t in this.registryFactory?(console.warn(`${t} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[t]={factory:e,priority:n},!0)}async setBackend(t){if(null==this.registryFactory[t])throw new Error(`Backend name '${t}' not found in registry`);if(this.backendName=t,null==this.registry[t]){this.backendInstance=null;const{success:e,asyncInit:n}=this.initializeBackend(t);if(!(n?await e:e))return!1}return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new u.a(this.backendInstance),!0}setupRegisteredKernels(){Object(o.c)(this.backendName).forEach((t=>{null!=t.setupFunc&&t.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(t){Object(o.c)(t).forEach((e=>{null!=e.disposeFunc&&e.disposeFunc(this.registry[t])}))}initializeBackend(t){const e=this.registryFactory[t];if(null==e)throw new Error(`Cannot initialize backend ${t}, no registration found.`);try{const n=e.factory();if(!n||n instanceof r.b||"function"!=typeof n.then)return this.registry[t]=n,{success:!0,asyncInit:!1};{const e=++this.pendingBackendInitId,r=n.then((n=>!(e<this.pendingBackendInitId)&&(this.registry[t]=n,this.pendingBackendInit=null,!0))).catch((n=>(e<this.pendingBackendInitId||(this.pendingBackendInit=null,console.warn(`Initialization of backend ${t} failed`),console.warn(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(e){return console.warn(`Initialization of backend ${t} failed`),console.warn(e.stack||e.message),{success:!1,asyncInit:!1}}}removeBackend(t){if(!(t in this.registryFactory))throw new Error(`${t} backend not found in registry`);this.backendName===t&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((t,e)=>this.registryFactory[e].priority-this.registryFactory[t].priority))}initializeBackendsAndReturnBest(){const t=this.getSortedBackends();for(let e=0;e<t.length;e++){const n=t[e],{success:r,asyncInit:s}=this.initializeBackend(n);if(s||r)return{name:n,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(t,e){const n=this.state.tensorInfo.get(e),r=n.backend,s=this.readSync(e);r.disposeData(e),n.backend=t,t.move(e,s,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(t,e){let n,r=null;if(null==e){if("function"!=typeof t)throw new Error("Please provide a function to tidy()");e=t}else{if("string"!=typeof t&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof e)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=t}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=e(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(t,e,n){t();try{const t=n();return e(),t}catch(t){throw e(),t}}nextTensorId(){return g.nextTensorId++}nextVariableId(){return g.nextVariableId++}clone(t){const e=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),n={x:t};return this.addTapeNode(this.state.activeScope.name,n,[e],(t=>({x:()=>{const e="float32",n={x:t},r={dtype:e};return b.runKernelFunc((n=>n.cast(t,e)),n,null,a.w,r)}})),[],{}),e}runKernel(t,e,n,r,s){return this.runKernelFunc(null,e,null,t,n,r,s)}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(t,e,n){const r=this.backend.numDataIds();let s=0;n.forEach((t=>{s+="complex64"===t.dtype?3:1}));const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-e-s-i;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${t}'`)}runKernelFunc(t,e,n,r,s,i,a){let u,c=[];const d=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");const l=this.state.numBytes,f=this.state.numTensors;let h;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const p=Object(o.b)(r,this.backendName);let g,m;if(null!=p)h=()=>{const t=this.backend.numDataIds();g=p.kernelFunc({inputs:e,attrs:s,backend:this.backend});const n=Array.isArray(g)?g:[g];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(r,t,n);const o=n.map((t=>{if(null!=t.rank)return t;const{dataId:e,shape:n,dtype:r}=t;return this.makeTensorFromDataId(e,n,r)}));if(d){let t=this.getTensorsForGradient(r,e,o);if(null==t){null==a&&(a=[]);const e=o.filter(((t,e)=>a[e]));t=(i||[]).slice().concat(e)}c=this.saveTensorsForBackwardMode(t)}return o};else{if(null==t)throw new Error(`Error running ${r}: Neither modular kernel nor forward func passed`);const e=t=>{d&&(c=t.map((t=>this.keep(this.clone(t)))))};h=()=>{const n=this.backend.numDataIds();g=this.tidy((()=>t(this.backend,e)));const s=Array.isArray(g)?g:[g];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(r,n,s),s}}return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(m=this.profiler.profileKernel(r,e,(()=>h())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(m),u=m.outputs):u=h()})),d&&this.addTapeNode(r,e,u,n,c,s),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-l,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-f,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(e).map((t=>null!=e[t]?e[t].shape:null)),outputShapes:u.map((t=>t.shape)),kernelTimeMs:m.timeMs,extraInfo:m.extraInfo}),Array.isArray(g)?u:u[0]}saveTensorsForBackwardMode(t){return t.map((t=>this.keep(this.clone(t))))}getTensorsForGradient(t,e,n){const r=Object(o.a)(t);if(null!=r){const t=r.inputsToSave||[],s=r.outputsToSave||[];let i;r.saveAllInputs?(f.b(Array.isArray(e),(()=>"saveAllInputs is true, expected inputs to be an array.")),i=Object.keys(e).map((t=>e[t]))):i=t.map((t=>e[t]));const a=n.filter(((t,e)=>s[e]));return i.concat(a)}return null}makeTensor(t,e,n,r){if(null==t)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let s=t;"string"===n&&f.z(t[0])&&(s=t.map((t=>h.encodeString(t))));const i=r.write(s,e,n),a=new d.a(e,n,i,this.nextTensorId());if(this.incRef(a,r),"string"===n){const t=this.state.tensorInfo.get(i),e=Object(f.f)(s);this.state.numBytes+=e-t.bytes,t.bytes=e}return a}makeTensorFromDataId(t,e,n,r){n=n||"float32";const s=new d.a(e,n,t,this.nextTensorId());return this.incRef(s,r),s}makeVariable(t,e=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==t.dtype&&(t=t.cast(r));const s=new d.c(t,e,n,this.nextTensorId());if(null!=this.state.registeredVariables[s.name])throw new Error(`Variable with name ${s.name} was already registered`);return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s}incRef(t,e){const n=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,"string"===t.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;let n=0;"complex64"!==t.dtype&&"string"!==t.dtype&&(n=t.size*f.g(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:e||this.backend,dtype:t.dtype,shape:t.shape,bytes:n,refCount:0}),this.state.numBytes+=n}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof d.c||this.track(t)}disposeTensor(t){if(!this.state.tensorInfo.has(t.dataId))return;this.state.numTensors--,"string"===t.dtype&&this.state.numStringTensors--;const e=this.state.tensorInfo.get(t.dataId);e.refCount<=1?("complex64"!==t.dtype&&(this.state.numBytes-=e.bytes),this.state.numDataBuffers--,e.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):(e.backend.decComplexRef(t.dataId),this.state.tensorInfo.get(t.dataId).refCount--)}disposeVariables(){for(const t in this.state.registeredVariables){const e=this.state.registeredVariables[t];this.disposeVariable(e)}}disposeVariable(t){this.disposeTensor(t),null!=this.state.registeredVariables[t.name]&&delete this.state.registeredVariables[t.name]}memory(){const t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,null==t.reasons&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t}async profile(t){this.state.profiling=!0;const e=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((t=>t.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-e,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const t of this.state.activeProfile.kernels)t.kernelTimeMs=await t.kernelTimeMs,t.extraInfo=await t.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(t,e,n,r,s,i){const a={id:this.state.nextTapeNodeId++,kernelName:t,inputs:e,outputs:n,saved:s},u=Object(o.a)(t);null!=u&&(r=u.gradFunc),null!=r&&(a.gradient=t=>(t=t.map(((t,e)=>{if(null==t){const t=n[e],r=f.F(t.size,t.dtype);return this.makeTensor(r,t.shape,t.dtype)}return t})),r(t.length>1?t:t[0],s,i))),this.state.activeTape.push(a)}keep(t){return t.kept=!0,t}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(t){const e={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(e.name=t),this.state.scopeStack.push(e),this.state.activeScope=e}endScope(t){const e=Object(l.a)(t),n=new Set(e.map((t=>t.id)));for(let t=0;t<this.state.activeScope.track.length;t++){const e=this.state.activeScope.track[t];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],e.forEach((t=>{t.kept||t.scopeId!==r.id||this.track(t)}))}gradients(t,e,n,r=!1){if(f.b(e.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const s=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",t)));f.b(s instanceof d.a,(()=>"The result y returned by f() must be a tensor."));const i=Object(c.b)(this.state.activeTape,e,s);if(!r&&0===i.length&&e.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const t={};t[s.id]=null==n?function(t){const e=Object(f.D)(Object(f.N)(t),"float32");return b.makeTensor(e,t,"float32")}(s.shape):n,Object(c.a)(t,i,(t=>this.tidy(t)),y);const r=e.map((e=>t[e.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((t=>{for(const e of t.saved)e.dispose()})),this.state.activeTape=null),{value:s,grads:r}}))}customGrad(t){return f.b(f.u(t),(()=>"The f passed in customGrad(f) must be a function.")),(...e)=>{let n;f.b(e.every((t=>t instanceof d.a)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const r={};return e.forEach(((t,e)=>{r[e]=t})),this.runKernelFunc(((r,s)=>(n=t(...e,s),f.b(n.value instanceof d.a,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),f.b(f.u(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value)),r,((t,r)=>{const s=n.gradFunc(t,r),i=Array.isArray(s)?s:[s];f.b(i.length===e.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),f.b(i.every((t=>t instanceof d.a)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const a={};return i.forEach(((t,e)=>{a[e]=()=>t})),a}))}}readSync(t){return this.state.tensorInfo.get(t).backend.readSync(t)}read(t){return this.state.tensorInfo.get(t).backend.read(t)}async time(t){const e=Object(h.now)(),n=await this.backend.time(t);return n.wallMs=Object(h.now)()-e,n}track(t){return null!=this.state.activeScope&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new p;for(const t in this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function m(){const t=Object(i.b)();if(null==t._tfengine){const e=new s.a(t);t._tfengine=new g(e)}return Object(s.c)(t._tfengine.ENV),Object(d.f)((()=>t._tfengine)),t._tfengine}g.nextTensorId=0,g.nextVariableId=0;const b=m();function y(t,e){const n={a:t,b:e};return b.runKernel(a.d,n)}},538:function(t,e,n){"use strict";var r=n(4),s=(n(143),n(539),n(543),n(81)),i=n(11),a=n(62),o=n(165),u=n(5);Object(r.b)();const c={buffer:s.a,cast:i.a,clone:a.a,print:o.a};Object(u.e)(c)}}]);
//# sourceMappingURL=bundle~bundle~fb9c722d.825737dc.js.map