/*! For license information please see bundle~bundle~4b2d83a9.0ff5296a.js.LICENSE.txt */
(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[6],{110:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(19),s=n(2),o=n(3);const i=Object(o.a)({floorDiv_:function(t,e){let n=Object(s.a)(t,"a","floorDiv"),o=Object(s.a)(e,"b","floorDiv");[n,o]=Object(c.b)(n,o);const i={a:n,b:o};return a.a.runKernel(r.fb,i)}})},115:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({imag_:function(t){const e={input:Object(c.a)(t,"input","imag")};return a.a.runKernel(r.qb,e)}})},117:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({mean_:function(t,e=null,n=!1){const s={x:Object(c.a)(t,"x","mean")},o={axis:e,keepDims:n};return a.a.runKernel(r.Nb,s,o)}})},118:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n(2),r=n(6),c=n(21),s=n(39),o=n(36),i=n(69),u=n(64),b=n(3),l=n(8),O=n(15),j=n(14);const d=Object(b.a)({logSumExp_:function(t,e=null,n=!1){const b=Object(a.a)(t,"x","logSumExp"),d=Object(r.I)(e,b.shape),p=Object(u.a)(b,d,!0),h=Object(O.a)(b,p),f=Object(o.a)(h),m=Object(j.a)(f,d),g=Object(i.a)(m),k=Object(c.a)(Object(l.a)(p,g.shape),g);if(n){const t=Object(s.e)(k.shape,d);return Object(l.a)(k,t)}return k}})},122:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({leakyRelu_:function(t,e=.2){const n={x:Object(c.a)(t,"x","leakyRelu")},s={alpha:e};return a.a.runKernel(r.wb,n,s)}})},127:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({gather_:function(t,e,n=0,s=0){const o={x:Object(c.a)(t,"x","gather"),indices:Object(c.a)(e,"indices","gather","int32")},i={axis:n,batchDims:s};return a.a.runKernel(r.lb,o,i)}})},128:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(19),s=n(2),o=n(3);const i=Object(o.a)({mod_:function(t,e){let n=Object(s.a)(t,"a","mod"),o=Object(s.a)(e,"b","mod");[n,o]=Object(c.b)(n,o);const i={a:n,b:o};return a.a.runKernel(r.Rb,i)}})},130:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(2),s=n(12),o=n(3);const i=Object(o.a)({logicalOr_:function(t,e){const n=Object(c.a)(t,"a","logicalOr","bool"),o=Object(c.a)(e,"b","logicalOr","bool");Object(s.a)(n.shape,o.shape);const i={a:n,b:o};return a.a.runKernel(r.Fb,i)}})},131:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n(4),r=n(0),c=n(2),s=n(6),o=n(26),i=n(3),u=n(8);const b=Object(i.a)({maxPool_:function(t,e,n,i,b){const l=Object(c.a)(t,"x","maxPool");let O=l,j=!1;3===l.rank&&(j=!0,O=Object(u.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),s.b(4===O.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${O.rank}.`)),s.b(o.h(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),null!=b&&s.b(s.v(i),(()=>`Error in maxPool: pad must be an integer when using, dimRoundingMode ${b} but got pad ${i}.`));const d={x:O},p={filterSize:e,strides:n,pad:i,dimRoundingMode:b},h=a.a.runKernel(r.Hb,d,p);return j?Object(u.a)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}})},163:function(t,e,n){"use strict";n.r(e),n.d(e,"prepareAndValidate",(function(){return r}));var a=n(6);function r(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==e.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(0===Object(a.N)(t.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const c=e.shape,s=c[c.length-1];let o=1;for(let t=0;t<c.length-1;++t)o*=c[t];const i=t.shape,u=c.slice();u.pop();let b=1;for(let t=s;t<n;++t)b*=i[t],u.push(i[t]);const l=[...Object(a.j)(t.shape).map((t=>t/b)),1].slice(0,s);return[u,o,b,l]}},167:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(4),r=n(0);function c(t,e,n){const c={shape:t,value:e,dtype:n};return a.a.runKernel(r.cb,{},c)}},169:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({log1p_:function(t){const e={x:Object(c.a)(t,"x","log1p")};return a.a.runKernel(r.Bb,e)}})},175:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({floor_:function(t){const e={x:Object(c.a)(t,"x","floor")};return a.a.runKernel(r.eb,e)}})},188:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(4),r=n(0),c=n(2),s=n(6),o=n(3),i=n(8);const u=Object(o.a)({localResponseNormalization_:function(t,e=5,n=1,o=1,u=.5){const b=Object(c.a)(t,"x","localResponseNormalization");s.b(4===b.rank||3===b.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${b.rank}.`)),s.b(s.v(e),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`));let l=b,O=!1;3===b.rank&&(O=!0,l=Object(i.a)(b,[1,b.shape[0],b.shape[1],b.shape[2]]));const j={x:l},d={depthRadius:e,bias:n,alpha:o,beta:u},p=a.a.runKernel(r.ub,j,d);return O?Object(i.a)(p,[p.shape[1],p.shape[2],p.shape[3]]):p}})},190:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(2),r=n(12),c=n(56),s=n(91),o=n(130),i=n(3);const u=Object(i.a)({logicalXor_:function(t,e){const n=Object(a.a)(t,"a","logicalXor","bool"),i=Object(a.a)(e,"b","logicalXor","bool");return Object(r.a)(n.shape,i.shape),Object(c.a)(Object(o.a)(t,e),Object(s.a)(Object(c.a)(t,e)))}})},191:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(2),s=n(6),o=n(3);const i=Object(o.a)({mirrorPad_:function(t,e,n){s.b("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const o=Object(c.a)(t,"x","mirrorPad");if(0===o.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");s.b(e.length===o.rank,(()=>`Padding doesn't match input. Must be ${o.rank}. Got ${e.length}.`));const i="reflect"===n?1:0;for(let t=0;t<o.rank;t++)s.b(2===e[t].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),s.b(e[t][0]>=0&&e[t][0]<=o.shape[t]-i&&e[t][1]>=0&&e[t][1]<=o.shape[t]-i,(()=>`Padding in dimension ${t} cannot be greater than or equal to ${o.shape[t]-i} or less than 0 for input of shape ${o.shape}`));const u={paddings:e,mode:n},b={x:o};return a.a.runKernel(r.Qb,b,u)}})},202:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(4),r=n(0),c=n(2),s=n(6),o=n(3),i=n(8);const u=Object(o.a)({resizeNearestNeighbor_:function(t,e,n=!1,o=!1){const u=Object(c.a)(t,"images","resizeNearestNeighbor");s.b(3===u.rank||4===u.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${u.rank}.`)),s.b(2===e.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`)),s.b("float32"===u.dtype||"int32"===u.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),s.b(!1===o||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let b=u,l=!1;3===u.rank&&(l=!0,b=Object(i.a)(u,[1,u.shape[0],u.shape[1],u.shape[2]]));const[]=e,O={images:b},j={alignCorners:n,halfPixelCenters:o,size:e},d=a.a.runKernel(r.pc,O,j);return l?Object(i.a)(d,[d.shape[1],d.shape[2],d.shape[3]]):d}})},203:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(4),r=n(0),c=n(2),s=n(6),o=n(3),i=n(8);const u=Object(o.a)({resizeBilinear_:function(t,e,n=!1,o=!1){const u=Object(c.a)(t,"images","resizeBilinear");s.b(3===u.rank||4===u.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${u.rank}.`)),s.b(2===e.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`)),s.b(!1===o||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let b=u,l=!1;3===u.rank&&(l=!0,b=Object(i.a)(u,[1,u.shape[0],u.shape[1],u.shape[2]]));const[]=e,O={images:b},j={alignCorners:n,halfPixelCenters:o,size:e},d=a.a.runKernel(r.nc,O,j);return l?Object(i.a)(d,[d.shape[1],d.shape[2],d.shape[3]]):d}})},22:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(19),s=n(2),o=n(3);const i=Object(o.a)({matMul_:function(t,e,n=!1,o=!1){let i=Object(s.a)(t,"a","matMul"),u=Object(s.a)(e,"b","matMul");[i,u]=Object(c.b)(i,u);const b={a:i,b:u},l={transposeA:n,transposeB:o};return a.a.runKernel(r.s,b,l)}})},23:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({neg_:function(t){const e={x:Object(c.a)(t,"x","neg")};return a.a.runKernel(r.Ub,e)}})},29:function(t,e,n){"use strict";var a;n.d(e,"a",(function(){return a})),function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(a||(a={}))},293:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({isFinite_:function(t){const e={x:Object(c.a)(t,"x","isFinite")};return a.a.runKernel(r.rb,e)}})},294:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({isInf_:function(t){const e={x:Object(c.a)(t,"x","isInf")};return a.a.runKernel(r.sb,e)}})},295:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({isNaN_:function(t){const e={x:Object(c.a)(t,"x","isNaN")};return a.a.runKernel(r.tb,e)}})},296:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n(32),r=n(2),c=n(9),s=n(23),o=n(3),i=n(111),u=n(189);const b=Object(o.a)({logSigmoid_:function(t){const e=Object(r.a)(t,"x","logSigmoid");return Object(a.a)((t=>({value:Object(s.a)(Object(u.a)(Object(s.a)(t))),gradFunc:e=>Object(c.a)(e,Object(i.a)(Object(s.a)(t)))})))(e)}})},297:function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var a=n(32),r=n(2),c=n(11),s=n(36),o=n(69),i=n(64),u=n(9),b=n(3),l=n(15),O=n(14);const j=Object(b.a)({logSoftmax_:function(t,e=-1){const n=Object(r.a)(t,"logits","logSoftmax");if(-1===e&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return Object(a.a)(((t,n)=>{const a=Object(i.a)(t,e,!0),r=Object(l.a)(t,a),b=Object(l.a)(Object(c.a)(r,"float32"),Object(o.a)(Object(O.a)(Object(s.a)(r),e,!0)));n([b]);return{value:b,gradFunc:(t,n)=>{const[a]=n,r=Object(s.a)(a);return Object(l.a)(t,Object(u.a)(Object(O.a)(t,e,!0),r))}}}))(n)}})},307:function(t,e,n){"use strict";n.r(e),n.d(e,"conv2d",(function(){return m})),n.d(e,"depthwiseConv2d",(function(){return E})),n.d(e,"matMul",(function(){return _}));var a=n(4),r=n(32),c=n(0),s=n(19),o=n(2),i=n(6),u=n(21),b=n(12),l=n(61),O=n(134),j=n(133),d=n(26),p=n(40),h=n(3),f=n(8);const m=Object(h.a)({fusedConv2d_:function({x:t,filter:e,strides:n,pad:h,dataFormat:m="NHWC",dilations:g=[1,1],dimRoundingMode:k,bias:v,activation:E="linear",preluActivationWeights:x,leakyreluAlpha:_}){if(E=E||"linear",!1===Object(p.d)(a.a.state.gradientDepth,E)){let a=Object(l.a)(t,e,n,h,m,g,k);return null!=v&&(a=Object(u.a)(a,v)),Object(p.a)(a,E,x,_)}const $=Object(o.a)(t,"x","conv2d"),N=Object(o.a)(e,"filter","conv2d");let S=$,w=!1;3===$.rank&&(w=!0,S=Object(f.a)($,[1,$.shape[0],$.shape[1],$.shape[2]])),i.b(4===S.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${S.rank}.`)),i.b(4===N.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${N.rank}.`)),null!=k&&i.b(i.v(h),(()=>`Error in fused conv2d: pad must be an integer when using, dimRoundingMode ${k} but got pad ${h}.`)),i.b(S.shape[3]===N.shape[2],(()=>`Error in conv2d: depth of input (${S.shape[3]}) must match input depth for filter ${N.shape[2]}.`)),i.b(d.h(n,g),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${g}'`)),i.b("NHWC"===m,(()=>`Error in conv2d: got dataFormat of ${m} but only NHWC is currently supported.`));const y=d.a(S.shape,N.shape,n,g,h,k);let M,I;null!=v&&(M=Object(o.a)(v,"bias","fused conv2d"),[M]=Object(s.b)(M,$),b.a(y.outShape,M.shape)),null!=x&&(I=Object(o.a)(x,"prelu weights","fused conv2d"));const R=(t,e)=>{const[a,r,c,s]=e,o=Object(p.c)(t,c,E);i.b(d.i(g),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${g}'`));const u=[Object(j.a)(r.shape,o,a,n,h),Object(O.a)(r,o,a.shape,n,h)];if(null!=s){const t=Object(p.b)(s,o);u.push(t)}return u},K={x:S,filter:N,bias:M,preluActivationWeights:I},T={strides:n,pad:h,dataFormat:m,dilations:g,dimRoundingMode:k,activation:E,leakyreluAlpha:_};if(null==v){return Object(r.a)(((t,e,n)=>{let r=a.a.runKernel(c.ib,K,T);return n([e,t,r]),w&&(r=Object(f.a)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:R}}))(S,N)}return Object(r.a)(((t,e,n,r)=>{let s=a.a.runKernel(c.ib,K,T);return r([e,t,s,n]),w&&(s=Object(f.a)(s,[s.shape[1],s.shape[2],s.shape[3]])),{value:s,gradFunc:R}}))(S,N,M)}});var g=n(76),k=n(205),v=n(204);const E=Object(h.a)({fusedDepthwiseConv2d_:function({x:t,filter:e,strides:n,pad:l,dataFormat:O="NHWC",dilations:j=[1,1],dimRoundingMode:h,bias:m,activation:E="linear",preluActivationWeights:x,leakyreluAlpha:_}){if(!1===Object(p.d)(a.a.state.gradientDepth,E)){let a=Object(g.a)(t,e,n,l,O,j,h);return null!=m&&(a=Object(u.a)(a,m)),Object(p.a)(a,E,x,_)}const $=Object(o.a)(t,"x","depthwiseConv2d"),N=Object(o.a)(e,"filter","depthwiseConv2d");let S=$,w=!1;3===$.rank&&(w=!0,S=Object(f.a)($,[1,$.shape[0],$.shape[1],$.shape[2]])),i.b(4===S.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${S.rank}.`)),i.b(4===N.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${N.rank}.`)),i.b(S.shape[3]===N.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${S.shape[3]}) must match the inChannels dimension in filter ${N.shape[2]}.`)),null==j&&(j=[1,1]),i.b(d.h(n,j),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${j}'`)),null!=h&&i.b(i.v(l),(()=>`Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode ${h} but got pad ${l}.`));const y=d.a(S.shape,N.shape,n,j,l,h,!0);let M,I;null!=m&&(M=Object(o.a)(m,"bias","fused conv2d"),[M]=Object(s.b)(M,$),b.a(y.outShape,M.shape)),null!=x&&(I=Object(o.a)(x,"prelu weights","fused depthwiseConv2d"));const R=(t,e)=>{i.b(d.i(j),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${j}'`));const[a,r,c,s]=e,o=Object(p.c)(t,c,E),u=Object(v.a)(r.shape,o,a,n,l,j,h),b=Object(k.a)(r,o,a.shape,n,l,j,h);if(null!=s){return[u,b,Object(p.b)(M,o)]}return[u,b]},K={x:S,filter:N,bias:M,preluActivationWeights:I},T={strides:n,pad:l,dataFormat:O,dilations:j,dimRoundingMode:h,activation:E,leakyreluAlpha:_};if(null==m){return Object(r.a)(((t,e,n)=>{let r=a.a.runKernel(c.jb,K,T);return n([e,t,r]),w&&(r=Object(f.a)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:R}}))(S,N)}return Object(r.a)(((t,e,n,r)=>{let s=a.a.runKernel(c.jb,K,T);return r([e,t,s,n]),w&&(s=Object(f.a)(s,[s.shape[1],s.shape[2],s.shape[3]])),{value:s,gradFunc:R}}))(S,N,M)}});var x=n(22);const _=Object(h.a)({fusedMatMul_:function({a:t,b:e,transposeA:n=!1,transposeB:l=!1,bias:O,activation:j="linear",preluActivationWeights:d,leakyreluAlpha:h}){if(!1===Object(p.d)(a.a.state.gradientDepth,j)){let a=Object(x.a)(t,e,n,l);return null!=O&&(a=Object(u.a)(a,O)),Object(p.a)(a,j,d,h)}let m=Object(o.a)(t,"a","fused matMul"),g=Object(o.a)(e,"b","fused matMul");[m,g]=Object(s.b)(m,g);const k=n?m.shape[m.rank-2]:m.shape[m.rank-1],v=l?g.shape[g.rank-1]:g.shape[g.rank-2],E=n?m.shape[m.rank-1]:m.shape[m.rank-2],_=l?g.shape[g.rank-2]:g.shape[g.rank-1],$=m.shape.slice(0,-2),N=g.shape.slice(0,-2),S=i.N($),w=i.N(N);i.b(m.rank>=2&&g.rank>=2&&m.rank===g.rank,(()=>`Error in fused matMul: inputs must have the same rank of at least 2, got ranks ${m.rank} and ${g.rank}.`)),i.b(i.a($,N),(()=>`Error in fused matMul: outer dimensions (${$}) and (${N}) of Tensors with shapes ${m.shape} and ${g.shape} must match.`)),i.b(k===v,(()=>`Error in fused matMul: inner shapes (${k}) and (${v}) of Tensors with shapes ${m.shape} and ${g.shape} and transposeA=${n} and transposeB=${l} must match.`));const y=m.shape.slice(0,-2).concat([E,_]),M=n?Object(f.a)(m,[S,k,E]):Object(f.a)(m,[S,E,k]),I=l?Object(f.a)(g,[w,_,v]):Object(f.a)(g,[w,v,_]);let R,K;null!=O&&(R=Object(o.a)(O,"bias","fused matMul"),[R]=Object(s.b)(R,m),b.a(y,R.shape)),null!=d&&(K=Object(o.a)(d,"prelu weights","fused matMul"));const T=(t,e)=>{const[a,r,c,s]=e,o=Object(p.c)(Object(f.a)(t,c.shape),c,j);let i,u;if(n||l?!n&&l?(i=Object(x.a)(o,r,!1,!1),u=Object(x.a)(o,a,!0,!1)):n&&!l?(i=Object(x.a)(r,o,!1,!0),u=Object(x.a)(a,o,!1,!1)):(i=Object(x.a)(r,o,!0,!0),u=Object(x.a)(o,a,!0,!0)):(i=Object(x.a)(o,r,!1,!0),u=Object(x.a)(a,o,!0,!1)),null!=O){return[i,u,Object(p.b)(s,o)]}return[i,u]},z={a:M,b:I,bias:R,preluActivationWeights:K},A={transposeA:n,transposeB:l,activation:j,leakyreluAlpha:h};if(null==O){return Object(r.a)(((t,e,n)=>{const r=a.a.runKernel(c.Yc,z,A);return n([t,e,r]),{value:Object(f.a)(r,y),gradFunc:T}}))(M,I)}return Object(r.a)(((t,e,n,r)=>{const s=a.a.runKernel(c.Yc,z,A);return r([t,e,s,n]),{value:Object(f.a)(s,y),gradFunc:T}}))(M,I,R)}})},310:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(2),s=n(6),o=n(3);const i=Object(o.a)({flipLeftRight_:function(t){const e=Object(c.a)(t,"image","flipLeftRight","float32");s.b(4===e.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`));const n={image:e};return a.a.runKernel(r.db,n,{})}})},311:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(2),s=n(6),o=n(3);const i=Object(o.a)({rotateWithOffset_:function(t,e,n=0,o=.5){const i=Object(c.a)(t,"image","rotateWithOffset","float32");s.b(4===i.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${i.rank}.`));const u={image:i},b={radians:e,fillValue:n,center:o};return a.a.runKernel(r.sc,u,b)}})},312:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(2),s=n(6),o=n(3);const i=Object(o.a)({cropAndResize_:function(t,e,n,o,i="bilinear",u=0){const b=Object(c.a)(t,"image","cropAndResize"),l=Object(c.a)(e,"boxes","cropAndResize","float32"),O=Object(c.a)(n,"boxInd","cropAndResize","int32"),j=l.shape[0];s.b(4===b.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${b.rank}.`)),s.b(2===l.rank&&4===l.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${j},4] but had shape ${l.shape}.`)),s.b(1===O.rank&&O.shape[0]===j,(()=>`Error in cropAndResize: boxInd must be have size [${j}] but had shape ${l.shape}.`)),s.b(2===o.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${o.length}.`)),s.b(o[0]>=1&&o[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${o}`)),s.b("bilinear"===i||"nearest"===i,(()=>`method must be bilinear or nearest, but was ${i}`));const d={image:b,boxes:l,boxInd:O},p={method:i,extrapolationValue:u,cropSize:o};return a.a.runKernel(r.K,d,p)}})},313:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(2),s=n(63),o=n(3);const i=Object(o.a)({nonMaxSuppression_:function(t,e,n,o=.5,i=Number.NEGATIVE_INFINITY){const u=Object(c.a)(t,"boxes","nonMaxSuppression"),b=Object(c.a)(e,"scores","nonMaxSuppression"),l=Object(s.a)(u,b,n,o,i),O={maxOutputSize:n=l.maxOutputSize,iouThreshold:o=l.iouThreshold,scoreThreshold:i=l.scoreThreshold};return a.a.runKernel(r.Vb,{boxes:u,scores:b},O)}})},314:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(135),r=n(2),c=n(63),s=n(67);const o=async function(t,e,n,o=.5,i=Number.NEGATIVE_INFINITY){const u=Object(r.a)(t,"boxes","nonMaxSuppressionAsync"),b=Object(r.a)(e,"scores","nonMaxSuppressionAsync"),l=Object(c.a)(u,b,n,o,i);n=l.maxOutputSize,o=l.iouThreshold,i=l.scoreThreshold;const O=await Promise.all([u.data(),b.data()]),j=O[0],d=O[1],{selectedIndices:p}=Object(a.a)(j,d,n,o,i);return u!==t&&u.dispose(),b!==e&&b.dispose(),Object(s.a)(p,"int32")}},315:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(2),s=n(63),o=n(3);const i=Object(o.a)({nonMaxSuppressionWithScore_:function(t,e,n,o=.5,i=Number.NEGATIVE_INFINITY,u=0){const b=Object(c.a)(t,"boxes","nonMaxSuppression"),l=Object(c.a)(e,"scores","nonMaxSuppression"),O=Object(s.a)(b,l,n,o,i,u),j={boxes:b,scores:l},d={maxOutputSize:n=O.maxOutputSize,iouThreshold:o=O.iouThreshold,scoreThreshold:i=O.scoreThreshold,softNmsSigma:u=O.softNmsSigma},p=a.a.runKernel(r.Xb,j,d);return{selectedIndices:p[0],selectedScores:p[1]}}})},316:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(135),r=n(2),c=n(63),s=n(67);const o=async function(t,e,n,o=.5,i=Number.NEGATIVE_INFINITY,u=0){const b=Object(r.a)(t,"boxes","nonMaxSuppressionAsync"),l=Object(r.a)(e,"scores","nonMaxSuppressionAsync"),O=Object(c.a)(b,l,n,o,i,u);n=O.maxOutputSize,o=O.iouThreshold,i=O.scoreThreshold,u=O.softNmsSigma;const j=await Promise.all([b.data(),l.data()]),d=j[0],p=j[1],{selectedIndices:h,selectedScores:f}=Object(a.c)(d,p,n,o,i,u);return b!==t&&b.dispose(),l!==e&&l.dispose(),{selectedIndices:Object(s.a)(h,"int32"),selectedScores:Object(s.a)(f)}}},317:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(2),s=n(63),o=n(3);const i=Object(o.a)({nonMaxSuppressionPadded_:function(t,e,n,o=.5,i=Number.NEGATIVE_INFINITY,u=!1){const b=Object(c.a)(t,"boxes","nonMaxSuppression"),l=Object(c.a)(e,"scores","nonMaxSuppression"),O=Object(s.a)(b,l,n,o,i,null),j={boxes:b,scores:l},d={maxOutputSize:O.maxOutputSize,iouThreshold:O.iouThreshold,scoreThreshold:O.scoreThreshold,padToMaxOutputSize:u},p=a.a.runKernel(r.Wb,j,d);return{selectedIndices:p[0],validOutputs:p[1]}}})},318:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(135),r=n(2),c=n(63),s=n(16),o=n(67);const i=async function(t,e,n,i=.5,u=Number.NEGATIVE_INFINITY,b=!1){const l=Object(r.a)(t,"boxes","nonMaxSuppressionAsync"),O=Object(r.a)(e,"scores","nonMaxSuppressionAsync"),j=Object(c.a)(l,O,n,i,u,null),d=j.maxOutputSize,p=j.iouThreshold,h=j.scoreThreshold,[f,m]=await Promise.all([l.data(),O.data()]),{selectedIndices:g,validOutputs:k}=Object(a.b)(f,m,d,p,h,b);return l!==t&&l.dispose(),O!==e&&O.dispose(),{selectedIndices:Object(o.a)(g,"int32"),validOutputs:Object(s.a)(k,"int32")}}},319:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a=n(2),r=n(6),c=n(50),s=n(49),o=n(56),i=n(3),u=n(147),b=n(8),l=n(16),O=n(55),j=n(15),d=n(72),p=n(31),h=n(59);const f=Object(i.a)({bandPart_:function(t,e,n){Object(r.b)(e%1==0,(()=>`bandPart(): numLower must be an integer, got ${e}.`)),Object(r.b)(n%1==0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`));const i=Object(a.a)(t,"a","bandPart");Object(r.b)(i.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${i.rank}.`));const f=i.shape,[m,g]=i.shape.slice(-2);if(!(e<=m))throw new Error(`bandPart(): numLower (${e}) must not be greater than the number of rows (${m}).`);if(!(n<=g))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${g}).`);e<0&&(e=m),n<0&&(n=g);const k=Object(b.a)(Object(u.a)(0,m,1,"int32"),[-1,1]),v=Object(u.a)(0,g,1,"int32"),E=Object(j.a)(k,v),x=Object(o.a)(Object(s.a)(E,Object(l.a)(+e,"int32")),Object(c.a)(E,Object(l.a)(-n,"int32"))),_=Object(h.a)([m,g],i.dtype);return Object(b.a)(Object(O.a)(Object(d.a)(Object(b.a)(i,[-1,m,g])).map((t=>Object(p.a)(x,t,_)))),f)}})},320:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n(4),r=n(6),c=n(17),s=n(9),o=n(116),i=n(3),u=n(68),b=n(112),l=n(55),O=n(15),j=n(14);const d=Object(i.a)({gramSchmidt_:function(t){let e;if(Array.isArray(t)){e=!1,Object(r.b)(null!=t&&t.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=t[0].shape[0];for(let e=1;e<t.length;++e)Object(r.b)(t[e].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[e].shape[0]} vs. ${n})`))}else e=!0,t=Object(u.a)(t,t.shape[0],0).map((t=>Object(b.a)(t,[0])));Object(r.b)(t.length<=t[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`));const n=[],i=t;for(let e=0;e<t.length;++e)n.push(a.a.tidy((()=>{let t=i[e];if(e>0)for(let a=0;a<e;++a){const e=Object(s.a)(Object(j.a)(Object(s.a)(n[a],t)),n[a]);t=Object(O.a)(t,e)}return Object(c.a)(t,Object(o.a)(t,"euclidean"))})));return e?Object(l.a)(n,0):n}})},321:function(t,e,n){"use strict";n.d(e,"a",(function(){return $}));var a=n(4),r=n(28),c=n(6),s=n(62),o=n(33),i=n(17),u=n(168),b=n(41),l=n(22),O=n(9),j=n(23),d=n(116),p=n(3),h=n(8),f=n(27),m=n(55),g=n(15),k=n(94),v=n(51),E=n(72),x=n(31);function _(t,e=!1){return a.a.tidy((()=>{Object(c.b)(2===t.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`));const n=t.shape[0],p=t.shape[1];let h=Object(u.a)(n),m=Object(s.a)(t);const E=Object(k.a)([[1]],[1,1]);let _=Object(s.a)(E);const $=n>=p?p:n;for(let t=0;t<$;++t){const e=m,c=_,u=h;[_,m,h]=a.a.tidy((()=>{const e=Object(f.a)(m,[t,t],[n-t,1]),a=Object(d.a)(e),r=Object(f.a)(m,[t,t],[1,1]),c=Object(x.a)(Object(b.a)(r,0),Object(k.a)([[-1]]),Object(k.a)([[1]])),u=Object(g.a)(r,Object(O.a)(c,a)),$=Object(i.a)(e,u);_=1===$.shape[0]?Object(s.a)(E):Object(o.a)([E,Object(f.a)($,[1,0],[$.shape[0]-1,$.shape[1]])],0);const N=Object(j.a)(Object(i.a)(Object(l.a)(c,u),a)),S=Object(f.a)(m,[t,0],[n-t,p]),w=Object(O.a)(N,_),y=Object(v.a)(_);if(0===t)m=Object(g.a)(S,Object(l.a)(w,Object(l.a)(y,S)));else{const e=Object(g.a)(S,Object(l.a)(w,Object(l.a)(y,S)));m=Object(o.a)([Object(f.a)(m,[0,0],[t,p]),e],0)}const M=Object(v.a)(w),I=Object(f.a)(h,[0,t],[n,h.shape[1]-t]);if(0===t)h=Object(g.a)(I,Object(l.a)(Object(l.a)(I,_),M));else{const e=Object(g.a)(I,Object(l.a)(Object(l.a)(I,_),M));h=Object(o.a)([Object(f.a)(h,[0,0],[n,t]),e],1)}return[_,m,h]})),Object(r.b)([e,c,u])}return!e&&n>p&&(h=Object(f.a)(h,[0,0],[n,p]),m=Object(f.a)(m,[0,0],[p,p])),[h,m]}))}const $=Object(p.a)({qr_:function(t,e=!1){if(Object(c.b)(t.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`)),2===t.rank)return _(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce(((t,e)=>t*e)),a=Object(E.a)(Object(h.a)(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),r=[],c=[];a.forEach((t=>{const[n,a]=_(t,e);r.push(n),c.push(a)}));return[Object(h.a)(Object(m.a)(r,0),t.shape),Object(h.a)(Object(m.a)(c,0),t.shape)]}}})},322:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n(2),r=n(6),c=n(43),s=n(29),o=n(3),i=n(15),u=n(42);const b=Object(o.a)({absoluteDifference_:function(t,e,n,o=s.a.SUM_BY_NONZERO_WEIGHTS){const b=Object(a.a)(t,"labels","absoluteDifference"),l=Object(a.a)(e,"predictions","absoluteDifference");let O=null;null!=n&&(O=Object(a.a)(n,"weights","absoluteDifference")),Object(r.e)(b.shape,l.shape,"Error in absoluteDifference: ");const j=Object(c.a)(Object(i.a)(b,l));return Object(u.a)(j,O,o)}})},323:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var a=n(2),r=n(6),c=n(29),s=n(9),o=n(3),i=n(16),u=n(15),b=n(14),l=n(42);const O=Object(o.a)({cosineDistance_:function(t,e,n,o,O=c.a.SUM_BY_NONZERO_WEIGHTS){const j=Object(a.a)(t,"labels","cosineDistance"),d=Object(a.a)(e,"predictions","cosineDistance");let p=null;null!=o&&(p=Object(a.a)(o,"weights","cosineDistance")),Object(r.e)(j.shape,d.shape,"Error in cosineDistance: ");const h=Object(i.a)(1),f=Object(u.a)(h,Object(b.a)(Object(s.a)(j,d),n,!0));return Object(l.a)(f,p,O)}})},324:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var a=n(2),r=n(6),c=n(29),s=n(9),o=n(3),i=n(74),u=n(16),b=n(15),l=n(42);const O=Object(o.a)({hingeLoss_:function(t,e,n,o=c.a.SUM_BY_NONZERO_WEIGHTS){let O=Object(a.a)(t,"labels","hingeLoss");const j=Object(a.a)(e,"predictions","hingeLoss");let d=null;null!=n&&(d=Object(a.a)(n,"weights","hingeLoss")),Object(r.e)(O.shape,j.shape,"Error in hingeLoss: ");const p=Object(u.a)(1);O=Object(b.a)(Object(s.a)(Object(u.a)(2),O),p);const h=Object(i.a)(Object(b.a)(p,Object(s.a)(O,j)));return Object(l.a)(h,d,o)}})},325:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var a=n(2),r=n(6),c=n(43),s=n(21),o=n(29),i=n(87),u=n(9),b=n(3),l=n(16),O=n(25),j=n(15),d=n(42);const p=Object(b.a)({huberLoss_:function(t,e,n,b=1,p=o.a.SUM_BY_NONZERO_WEIGHTS){const h=Object(a.a)(t,"labels","huberLoss"),f=Object(a.a)(e,"predictions","huberLoss");let m=null;null!=n&&(m=Object(a.a)(n,"weights","huberLoss")),Object(r.e)(h.shape,f.shape,"Error in huberLoss: ");const g=Object(l.a)(b),k=Object(c.a)(Object(j.a)(f,h)),v=Object(i.a)(k,g),E=Object(j.a)(k,v),x=Object(s.a)(Object(u.a)(Object(l.a)(.5),Object(O.a)(v)),Object(u.a)(g,E));return Object(d.a)(x,m,p)}})},326:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n(2),r=n(6),c=n(21),s=n(69),o=n(29),i=n(9),u=n(23),b=n(3),l=n(16),O=n(15),j=n(42);const d=Object(b.a)({logLoss_:function(t,e,n,b=1e-7,d=o.a.SUM_BY_NONZERO_WEIGHTS){const p=Object(a.a)(t,"labels","logLoss"),h=Object(a.a)(e,"predictions","logLoss");let f=null;null!=n&&(f=Object(a.a)(n,"weights","logLoss")),Object(r.e)(p.shape,h.shape,"Error in logLoss: ");const m=Object(l.a)(1),g=Object(l.a)(b),k=Object(u.a)(Object(i.a)(p,Object(s.a)(Object(c.a)(h,g)))),v=Object(i.a)(Object(O.a)(m,p),Object(s.a)(Object(c.a)(Object(O.a)(m,h),g))),E=Object(O.a)(k,v);return Object(j.a)(E,f,d)}})},327:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(2),r=n(6),c=n(29),s=n(3),o=n(88),i=n(42);const u=Object(s.a)({meanSquaredError_:function(t,e,n,s=c.a.SUM_BY_NONZERO_WEIGHTS){const u=Object(a.a)(t,"labels","meanSquaredError"),b=Object(a.a)(e,"predictions","meanSquaredError");let l=null;null!=n&&(l=Object(a.a)(n,"weights","meanSquaredError")),Object(r.e)(u.shape,b.shape,"Error in meanSquaredError: ");const O=Object(o.a)(u,b);return Object(i.a)(O,l,s)}})},328:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a=n(2),r=n(6),c=n(43),s=n(21),o=n(36),i=n(169),u=n(29),b=n(9),l=n(23),O=n(3),j=n(74),d=n(16),p=n(15),h=n(42);const f=Object(O.a)({sigmoidCrossEntropy_:function(t,e,n,O=0,f=u.a.SUM_BY_NONZERO_WEIGHTS){let m=Object(a.a)(t,"multiClassLabels","sigmoidCrossEntropy");const g=Object(a.a)(e,"logits","sigmoidCrossEntropy");let k=null;if(null!=n&&(k=Object(a.a)(n,"weights","sigmoidCrossEntropy")),Object(r.e)(m.shape,g.shape,"Error in sigmoidCrossEntropy: "),O>0){const t=Object(d.a)(O),e=Object(d.a)(1),n=Object(d.a)(.5);m=Object(s.a)(Object(b.a)(m,Object(p.a)(e,t)),Object(b.a)(n,t))}const v=function(t,e){const n=Object(a.a)(t,"labels","sigmoidCrossEntropyWithLogits"),u=Object(a.a)(e,"logits","sigmoidCrossEntropyWithLogits");Object(r.e)(n.shape,u.shape,"Error in sigmoidCrossEntropyWithLogits: ");const O=Object(j.a)(u),d=Object(b.a)(u,n),h=Object(i.a)(Object(o.a)(Object(l.a)(Object(c.a)(u))));return Object(s.a)(Object(p.a)(O,d),h)}(m,g);return Object(h.a)(v,k,f)}})},329:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var a=n(32),r=n(2),c=n(6),s=n(21),o=n(39),i=n(11),u=n(17),b=n(36),l=n(118),O=n(29),j=n(9),d=n(23),p=n(3),h=n(8),f=n(16),m=n(15),g=n(14),k=n(42);const v=Object(p.a)({softmaxCrossEntropy_:function(t,e,n,p=0,v=O.a.SUM_BY_NONZERO_WEIGHTS){let E=Object(r.a)(t,"onehotLabels","softmaxCrossEntropy");const x=Object(r.a)(e,"logits","softmaxCrossEntropy");let _=null;if(null!=n&&(_=Object(r.a)(n,"weights","softmaxCrossEntropy")),Object(c.e)(E.shape,x.shape,"Error in softmaxCrossEntropy: "),p>0){const t=Object(f.a)(p),e=Object(f.a)(1),n=Object(f.a)(E.shape[1]);E=Object(s.a)(Object(j.a)(E,Object(m.a)(e,t)),Object(u.a)(t,n))}const $=function(t,e,n=-1){if(-1===n&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return Object(a.a)(((t,e,a)=>{const r=Object(l.a)(e,[n],!0),c=Object(m.a)(Object(i.a)(e,"float32"),r);a([t,c]);const s=Object(d.a)(Object(j.a)(c,t));return{value:Object(g.a)(s,[n]),gradFunc:(t,e)=>{const[a,r]=e,c=Object(o.e)(t.shape,[n]);return[Object(j.a)(Object(h.a)(t,c),Object(m.a)(Object(i.a)(a,"float32"),Object(b.a)(r))),Object(j.a)(Object(h.a)(t,c),Object(m.a)(Object(b.a)(r),Object(i.a)(a,"float32")))]}}}))(t,e)}(E,x);return Object(k.a)($,_,v)}})},383:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(4),r=n(0),c=n(3);const s=Object(c.a)({localResponseNormalizationBackprop_:function(t,e,n,c=5,s=1,o=1,i=.5){const u={x:t,y:e,dy:n},b={depthRadius:c,bias:s,alpha:o,beta:i};return a.a.runKernel(r.vb,u,b)}})},386:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n(4),r=n(0),c=n(2),s=n(6),o=n(26),i=n(3),u=n(8);const b=Object(i.a)({maxPool3dGrad_:function(t,e,n,i,b,l=[1,1,1],O,j){const d=Object(c.a)(t,"dy","maxPool3dGrad"),p=Object(c.a)(e,"input","maxPool3dGrad"),h=Object(c.a)(n,"output","maxPool3dGrad");let f=d,m=p,g=h,k=!1;4===p.rank&&(k=!0,f=Object(u.a)(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]]),m=Object(u.a)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]]),g=Object(u.a)(h,[1,h.shape[0],h.shape[1],h.shape[2],h.shape[3]])),s.b(5===f.rank,(()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${f.rank}.`)),s.b(5===m.rank,(()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${m.rank}.`)),s.b(5===g.rank,(()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${g.rank}.`)),s.b(o.h(b,l),(()=>`Error in maxPool3dGrad: Either strides or dilations must be 1. Got strides ${b} and dilations '${l}'`)),null!=j&&s.b(s.v(O),(()=>`Error in maxPool3dGrad: pad must be an integer when using, dimRoundingMode ${j} but got pad ${O}.`));const v={dy:f,input:m,output:g},E={filterSize:i,strides:b,dilations:l,pad:O,dimRoundingMode:j},x=a.a.runKernel(r.Jb,v,E);return k?Object(u.a)(x,[x.shape[1],x.shape[2],x.shape[3],x.shape[4]]):x}})},388:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(2),s=n(6),o=n(3);const i=Object(o.a)({maxPoolGrad_:function(t,e,n,o,i,u,b){const l=Object(c.a)(t,"dy","maxPoolGrad"),O=Object(c.a)(e,"input","maxPoolGrad"),j=Object(c.a)(n,"output","maxPoolGrad");s.b(O.rank===l.rank,(()=>`Rank of input (${O.rank}) does not match rank of dy (${l.rank})`)),s.b(4===l.rank,(()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${l.rank}.`)),s.b(4===O.rank,(()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${O.rank}.`)),null!=b&&s.b(s.v(u),(()=>`Error in maxPoolGrad: pad must be an integer when using, dimRoundingMode ${b} but got pad ${u}.`));const d={dy:l,input:O,output:j},p={filterSize:o,strides:i,pad:u,dimRoundingMode:b};return a.a.runKernel(r.Kb,d,p)}})},40:function(t,e,n){"use strict";n.d(e,"c",(function(){return j})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"d",(function(){return h}));var a=n(12),r=n(119),c=n(122),s=n(9),o=n(121),i=n(74),u=n(120),b=n(8),l=n(75),O=n(14);function j(t,e,n){if(null==n||"linear"===n)return t;if("relu"===n)return Object(s.a)(t,Object(l.a)(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function d(t,e){let n=e;const r=a.c(t.shape,e.shape);return r.length>0&&(n=Object(O.a)(n,r)),Object(b.a)(n,t.shape)}function p(t,e,n,a){if("linear"===e)return t;if("relu"===e)return Object(i.a)(t);if("elu"===e)return Object(r.a)(t);if("relu6"===e)return Object(u.a)(t);if("prelu"===e)return Object(o.a)(t,n);if("leakyrelu"===e)return Object(c.a)(t,a);throw new Error(`Unknown fused activation ${e}.`)}const h=(t,e)=>!(t>0)||"linear"===e},41:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(4),r=n(0),c=n(19),s=n(2),o=n(12),i=n(3);const u=Object(i.a)({greater_:function(t,e){let n=Object(s.a)(t,"a","greater"),i=Object(s.a)(e,"b","greater");[n,i]=Object(c.b)(n,i),Object(o.a)(n.shape,i.shape);const u={a:n,b:i};return a.a.runKernel(r.mb,u)}})},42:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n(2),r=n(11),c=n(17),s=n(29),o=n(117),i=n(9),u=n(86),b=n(73),l=n(3),O=n(16),j=n(14);const d=Object(l.a)({computeWeightedLoss_:function(t,e,n=s.a.SUM_BY_NONZERO_WEIGHTS){const l=Object(a.a)(t,"losses","computeWeightedLoss");let d=null;null!=e&&(d=Object(a.a)(e,"weights","computeWeightedLoss"));const p=null==d?l:Object(i.a)(l,d);if(n===s.a.NONE)return p;if(n===s.a.SUM)return Object(j.a)(p);if(n===s.a.MEAN){if(null==d)return Object(o.a)(p);{const t=l.size/d.size,e=Object(c.a)(Object(j.a)(p),Object(j.a)(d));return t>1?Object(c.a)(e,Object(O.a)(t)):e}}if(n===s.a.SUM_BY_NONZERO_WEIGHTS){if(null==d)return Object(c.a)(Object(j.a)(p),Object(O.a)(l.size));{const t=Object(i.a)(d,Object(b.a)(l.shape)),e=Object(r.a)(Object(j.a)(Object(u.a)(t,Object(O.a)(0))),"float32");return Object(c.a)(Object(j.a)(p),e)}}throw Error(`Unknown reduction: ${n}`)}})},49:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(4),r=n(0),c=n(19),s=n(2),o=n(12),i=n(3);const u=Object(i.a)({lessEqual_:function(t,e){let n=Object(s.a)(t,"a","lessEqual"),i=Object(s.a)(e,"b","lessEqual");[n,i]=Object(c.b)(n,i),Object(o.a)(n.shape,i.shape);const u={a:n,b:i};return a.a.runKernel(r.yb,u)}})},50:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(4),r=n(0),c=n(19),s=n(2),o=n(12),i=n(3);const u=Object(i.a)({greaterEqual_:function(t,e){let n=Object(s.a)(t,"a","greaterEqual"),i=Object(s.a)(e,"b","greaterEqual");[n,i]=Object(c.b)(n,i),Object(o.a)(n.shape,i.shape);const u={a:n,b:i};return a.a.runKernel(r.nb,u)}})},56:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(2),s=n(12),o=n(3);const i=Object(o.a)({logicalAnd_:function(t,e){const n=Object(c.a)(t,"a","logicalAnd","bool"),o=Object(c.a)(e,"b","logicalAnd","bool");Object(s.a)(n.shape,o.shape);const i={a:n,b:o};return a.a.runKernel(r.Db,i)}})},64:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({max_:function(t,e=null,n=!1){const s={x:Object(c.a)(t,"x","max")},o={reductionIndices:e,keepDims:n};return a.a.runKernel(r.Gb,s,o)}})},69:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({log_:function(t){const e={x:Object(c.a)(t,"x","log")};return a.a.runKernel(r.Ab,e)}})},87:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n(4),r=n(0),c=n(19),s=n(2),o=n(12),i=n(11),u=n(3);const b=Object(u.a)({minimum_:function(t,e){let n=Object(s.a)(t,"a","minimum"),u=Object(s.a)(e,"b","minimum");[n,u]=Object(c.b)(n,u),"bool"===n.dtype&&(n=Object(i.a)(n,"int32"),u=Object(i.a)(u,"int32")),Object(o.a)(n.shape,u.shape);const b={a:n,b:u};return a.a.runKernel(r.Pb,b)}})},9:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(4),r=n(0),c=n(19),s=n(2),o=n(3);const i=Object(o.a)({mul_:function(t,e){let n=Object(s.a)(t,"a","mul"),o=Object(s.a)(e,"b","mul");[n,o]=Object(c.b)(n,o);const i={a:n,b:o};return a.a.runKernel(r.Tb,i)}})},90:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(4),r=n(0),c=n(19),s=n(2),o=n(12),i=n(3);const u=Object(i.a)({less_:function(t,e){let n=Object(s.a)(t,"a","less"),i=Object(s.a)(e,"b","less");[n,i]=Object(c.b)(n,i),Object(o.a)(n.shape,i.shape);const u={a:n,b:i};return a.a.runKernel(r.xb,u)}})},91:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({logicalNot_:function(t){const e={x:Object(c.a)(t,"x","logicalNot","bool")};return a.a.runKernel(r.Eb,e)}})},93:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n(4),r=n(0),c=n(19),s=n(2),o=n(12),i=n(11),u=n(3);const b=Object(u.a)({maximum_:function(t,e){let n=Object(s.a)(t,"a","maximum"),u=Object(s.a)(e,"b","maximum");[n,u]=Object(c.b)(n,u),"bool"===n.dtype&&(n=Object(i.a)(n,"int32"),u=Object(i.a)(u,"int32")),Object(o.a)(n.shape,u.shape);const b={a:n,b:u};return a.a.runKernel(r.Mb,b)}})},99:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(4),r=n(0),c=n(2),s=n(3);const o=Object(s.a)({min_:function(t,e=null,n=!1){const s={x:Object(c.a)(t,"x","min")},o={axis:e,keepDims:n};return a.a.runKernel(r.Ob,s,o)}})}}]);
//# sourceMappingURL=bundle~bundle~4b2d83a9.0ff5296a.js.map