"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[376],{4376:function(a,b,c){function d(a,b){var c=a.__state.conversionName.toString(),d=Math.round(a.r),e=Math.round(a.g),f=Math.round(a.b),g=a.a,h=Math.round(a.h),i=a.s.toFixed(1),j=a.v.toFixed(1);if(b||"THREE_CHAR_HEX"===c||"SIX_CHAR_HEX"===c){for(var k=a.hex.toString(16);k.length<6;)k="0"+k;return"#"+k}return"CSS_RGB"===c?"rgb("+d+","+e+","+f+")":"CSS_RGBA"===c?"rgba("+d+","+e+","+f+","+g+")":"HEX"===c?"0x"+a.hex.toString(16):"RGB_ARRAY"===c?"["+d+","+e+","+f+"]":"RGBA_ARRAY"===c?"["+d+","+e+","+f+","+g+"]":"RGB_OBJ"===c?"{r:"+d+",g:"+e+",b:"+f+"}":"RGBA_OBJ"===c?"{r:"+d+",g:"+e+",b:"+f+",a:"+g+"}":"HSV_OBJ"===c?"{h:"+h+",s:"+i+",v:"+j+"}":"HSVA_OBJ"===c?"{h:"+h+",s:"+i+",v:"+j+",a:"+g+"}":"unknown format"}c.r(b),c.d(b,{color:function(){return la},controllers:function(){return ma},dom:function(){return na},gui:function(){return oa},GUI:function(){return pa}});var e=Array.prototype.forEach,f=Array.prototype.slice,g={BREAK:{},extend:function(a){return this.each(f.call(arguments,1),function(b){(this.isObject(b)?Object.keys(b):[]).forEach((function(c){this.isUndefined(b[c])||(a[c]=b[c])}).bind(this))},this),a},defaults:function(a){return this.each(f.call(arguments,1),function(b){(this.isObject(b)?Object.keys(b):[]).forEach((function(c){this.isUndefined(a[c])&&(a[c]=b[c])}).bind(this))},this),a},compose:function(){var a=f.call(arguments);return function(){for(var b=f.call(arguments),c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},each:function(a,b,c){if(a){if(e&&a.forEach&&a.forEach===e)a.forEach(b,c);else if(a.length===a.length+0){var d=void 0,f=void 0;for(d=0,f=a.length;d<f;d++)if(d in a&&b.call(c,a[d],d)===this.BREAK)return}else for(var g in a)if(b.call(c,a[g],g)===this.BREAK)return}},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d=void 0;return function(){var e=this,f=arguments,g=c||!d;clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b),g&&a.apply(e,f)}},toArray:function(a){return a.toArray?a.toArray():f.call(a)},isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},isNaN:function(a){function b(b){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a){return isNaN(a)}),isArray:Array.isArray||function(a){return a.constructor===Array},isObject:function(a){return a===Object(a)},isNumber:function(a){return a===a+0},isString:function(a){return a===a+""},isBoolean:function(a){return!1===a|| !0===a},isFunction:function(a){return a instanceof Function}},h=[{litmus:g.isString,conversions:{THREE_CHAR_HEX:{read:function(a){var b=a.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==b&&{space:"HEX",hex:parseInt("0x"+b[1].toString()+b[1].toString()+b[2].toString()+b[2].toString()+b[3].toString()+b[3].toString(),0)}},write:d},SIX_CHAR_HEX:{read:function(a){var b=a.match(/^#([A-F0-9]{6})$/i);return null!==b&&{space:"HEX",hex:parseInt("0x"+b[1].toString(),0)}},write:d},CSS_RGB:{read:function(a){var b=a.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==b&&{space:"RGB",r:parseFloat(b[1]),g:parseFloat(b[2]),b:parseFloat(b[3])}},write:d},CSS_RGBA:{read:function(a){var b=a.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==b&&{space:"RGB",r:parseFloat(b[1]),g:parseFloat(b[2]),b:parseFloat(b[3]),a:parseFloat(b[4])}},write:d}}},{litmus:g.isNumber,conversions:{HEX:{read:function(a){return{space:"HEX",hex:a,conversionName:"HEX"}},write:function(a){return a.hex}}}},{litmus:g.isArray,conversions:{RGB_ARRAY:{read:function(a){return 3===a.length&&{space:"RGB",r:a[0],g:a[1],b:a[2]}},write:function(a){return[a.r,a.g,a.b]}},RGBA_ARRAY:{read:function(a){return 4===a.length&&{space:"RGB",r:a[0],g:a[1],b:a[2],a:a[3]}},write:function(a){return[a.r,a.g,a.b,a.a]}}}},{litmus:g.isObject,conversions:{RGBA_OBJ:{read:function(a){return!!(g.isNumber(a.r)&&g.isNumber(a.g)&&g.isNumber(a.b)&&g.isNumber(a.a))&&{space:"RGB",r:a.r,g:a.g,b:a.b,a:a.a}},write:function(a){return{r:a.r,g:a.g,b:a.b,a:a.a}}},RGB_OBJ:{read:function(a){return!!(g.isNumber(a.r)&&g.isNumber(a.g)&&g.isNumber(a.b))&&{space:"RGB",r:a.r,g:a.g,b:a.b}},write:function(a){return{r:a.r,g:a.g,b:a.b}}},HSVA_OBJ:{read:function(a){return!!(g.isNumber(a.h)&&g.isNumber(a.s)&&g.isNumber(a.v)&&g.isNumber(a.a))&&{space:"HSV",h:a.h,s:a.s,v:a.v,a:a.a}},write:function(a){return{h:a.h,s:a.s,v:a.v,a:a.a}}},HSV_OBJ:{read:function(a){return!!(g.isNumber(a.h)&&g.isNumber(a.s)&&g.isNumber(a.v))&&{space:"HSV",h:a.h,s:a.s,v:a.v}},write:function(a){return{h:a.h,s:a.s,v:a.v}}}}}],i=void 0,j=void 0,k=function(){j=!1;var a=arguments.length>1?g.toArray(arguments):arguments[0];return g.each(h,function(b){if(b.litmus(a))return g.each(b.conversions,function(b,c){if(i=b.read(a),!1===j&& !1!==i)return j=i,i.conversionName=c,i.conversion=b,g.BREAK}),g.BREAK}),j},l=void 0,m={hsv_to_rgb:function(a,b,c){var d=a/60-Math.floor(a/60),e=c*(1-b),f=c*(1-d*b),g=c*(1-(1-d)*b),h=[[c,g,e],[f,c,e],[e,c,g],[e,f,c],[g,e,c],[c,e,f]][Math.floor(a/60)%6];return{r:255*h[0],g:255*h[1],b:255*h[2]}},rgb_to_hsv:function(a,b,c){var d=Math.max(a,b,c),e=d-Math.min(a,b,c),f=void 0,g=void 0;return 0===d?{h:NaN,s:0,v:0}:(g=e/d,f=a===d?(b-c)/e:b===d?2+(c-a)/e:4+(a-b)/e,(f/=6)<0&&(f+=1),{h:360*f,s:g,v:d/255})},rgb_to_hex:function(a,b,c){var d=this.hex_with_component(0,2,a);return d=this.hex_with_component(d,1,b),d=this.hex_with_component(d,0,c)},component_from_hex:function(a,b){return a>>8*b&255},hex_with_component:function(a,b,c){return c<<(l=8*b)|a& ~(255<<l)}},n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},o=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},p=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),q=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);if(null===f)return;return a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},r=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},s=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a},t=function(){function a(){if(o(this,a),this.__state=k.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return p(a,[{key:"toString",value:function(){return d(this)}},{key:"toHexString",value:function(){return d(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),a}();function u(a,b,c){Object.defineProperty(a,b,{get:function(){return"RGB"===this.__state.space||t.recalculateRGB(this,b,c),this.__state[b]},set:function(a){"RGB"!==this.__state.space&&(t.recalculateRGB(this,b,c),this.__state.space="RGB"),this.__state[b]=a}})}function v(a,b){Object.defineProperty(a,b,{get:function(){return"HSV"===this.__state.space||t.recalculateHSV(this),this.__state[b]},set:function(a){"HSV"!==this.__state.space&&(t.recalculateHSV(this),this.__state.space="HSV"),this.__state[b]=a}})}t.recalculateRGB=function(a,b,c){if("HEX"===a.__state.space)a.__state[b]=m.component_from_hex(a.__state.hex,c);else if("HSV"===a.__state.space)g.extend(a.__state,m.hsv_to_rgb(a.__state.h,a.__state.s,a.__state.v));else throw new Error("Corrupted color state")},t.recalculateHSV=function(a){var b=m.rgb_to_hsv(a.r,a.g,a.b);g.extend(a.__state,{s:b.s,v:b.v}),g.isNaN(b.h)?g.isUndefined(a.__state.h)&&(a.__state.h=0):a.__state.h=b.h},t.COMPONENTS=["r","g","b","h","s","v","hex","a"],u(t.prototype,"r",2),u(t.prototype,"g",1),u(t.prototype,"b",0),v(t.prototype,"h"),v(t.prototype,"s"),v(t.prototype,"v"),Object.defineProperty(t.prototype,"a",{get:function(){return this.__state.a},set:function(a){this.__state.a=a}}),Object.defineProperty(t.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=m.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(a){this.__state.space="HEX",this.__state.hex=a}});var w=function(){function a(b,c){o(this,a),this.initialValue=b[c],this.domElement=document.createElement("div"),this.object=b,this.property=c,this.__onChange=void 0,this.__onFinishChange=void 0}return p(a,[{key:"onChange",value:function(a){return this.__onChange=a,this}},{key:"onFinishChange",value:function(a){return this.__onFinishChange=a,this}},{key:"setValue",value:function(a){return this.object[this.property]=a,this.__onChange&&this.__onChange.call(this,a),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),a}(),x={};g.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(a,b){g.each(a,function(a){x[a]=b})});var y=/(\d+(\.\d+)?)px/;function z(a){if("0"===a||g.isUndefined(a))return 0;var b=a.match(y);return g.isNull(b)?0:parseFloat(b[1])}var A={makeSelectable:function(a,b){void 0!==a&& void 0!==a.style&&(a.onselectstart=b?function(){return!1}:function(){},a.style.MozUserSelect=b?"auto":"none",a.style.KhtmlUserSelect=b?"auto":"none",a.unselectable=b?"on":"off")},makeFullscreen:function(a,b,c){var d=c,e=b;g.isUndefined(e)&&(e=!0),g.isUndefined(d)&&(d=!0),a.style.position="absolute",e&&(a.style.left=0,a.style.right=0),d&&(a.style.top=0,a.style.bottom=0)},fakeEvent:function(a,b,c,d){var e=c||{},f=x[b];if(!f)throw new Error("Event type "+b+" not supported.");var h=document.createEvent(f);switch(f){case"MouseEvents":var i=e.x||e.clientX||0,j=e.y||e.clientY||0;h.initMouseEvent(b,e.bubbles||!1,e.cancelable||!0,window,e.clickCount||1,0,0,i,j,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var k=h.initKeyboardEvent||h.initKeyEvent;g.defaults(e,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),k(b,e.bubbles||!1,e.cancelable,window,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.keyCode,e.charCode);break;default:h.initEvent(b,e.bubbles||!1,e.cancelable||!0);break}g.defaults(h,d),a.dispatchEvent(h)},bind:function(a,b,c,d){return a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c),A},unbind:function(a,b,c,d){return a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent&&a.detachEvent("on"+b,c),A},addClass:function(a,b){if(void 0===a.className)a.className=b;else if(a.className!==b){var c=a.className.split(/ +/);-1===c.indexOf(b)&&(c.push(b),a.className=c.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return A},removeClass:function(a,b){if(b)if(a.className===b)a.removeAttribute("class");else{var c=a.className.split(/ +/),d=c.indexOf(b);-1!==d&&(c.splice(d,1),a.className=c.join(" "))}else a.className=void 0;return A},hasClass:function(a,b){return new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)").test(a.className)||!1},getWidth:function(a){var b=getComputedStyle(a);return z(b["border-left-width"])+z(b["border-right-width"])+z(b["padding-left"])+z(b["padding-right"])+z(b.width)},getHeight:function(a){var b=getComputedStyle(a);return z(b["border-top-width"])+z(b["border-bottom-width"])+z(b["padding-top"])+z(b["padding-bottom"])+z(b.height)},getOffset:function(a){var b=a,c={left:0,top:0};if(b.offsetParent)do c.left+=b.offsetLeft,c.top+=b.offsetTop,b=b.offsetParent;while(b)return c},isActive:function(a){return a===document.activeElement&&(a.type||a.href)}},B=function(a){function b(a,c){o(this,b);var d=s(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c)),e=d;return d.__prev=d.getValue(),d.__checkbox=document.createElement("input"),d.__checkbox.setAttribute("type","checkbox"),A.bind(d.__checkbox,"change",function(){e.setValue(!e.__prev)},!1),d.domElement.appendChild(d.__checkbox),d.updateDisplay(),d}return r(b,a),p(b,[{key:"setValue",value:function(a){var c=q(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setValue",this).call(this,a);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),c}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),q(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"updateDisplay",this).call(this)}}]),b}(w),C=function(a){function b(a,c,d){o(this,b);var e=s(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c)),f=d,h=e;if(e.__select=document.createElement("select"),g.isArray(f)){var i={};g.each(f,function(a){i[a]=a}),f=i}return g.each(f,function(a,b){var c=document.createElement("option");c.innerHTML=b,c.setAttribute("value",a),h.__select.appendChild(c)}),e.updateDisplay(),A.bind(e.__select,"change",function(){var a=this.options[this.selectedIndex].value;h.setValue(a)}),e.domElement.appendChild(e.__select),e}return r(b,a),p(b,[{key:"setValue",value:function(a){var c=q(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setValue",this).call(this,a);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),c}},{key:"updateDisplay",value:function(){return A.isActive(this.__select)?this:(this.__select.value=this.getValue(),q(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"updateDisplay",this).call(this))}}]),b}(w),D=function(a){function b(a,c){o(this,b);var d=s(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c)),e=d;function f(){e.setValue(e.__input.value)}return d.__input=document.createElement("input"),d.__input.setAttribute("type","text"),A.bind(d.__input,"keyup",f),A.bind(d.__input,"change",f),A.bind(d.__input,"blur",function(){e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())}),A.bind(d.__input,"keydown",function(a){13===a.keyCode&&this.blur()}),d.updateDisplay(),d.domElement.appendChild(d.__input),d}return r(b,a),p(b,[{key:"updateDisplay",value:function(){return A.isActive(this.__input)||(this.__input.value=this.getValue()),q(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"updateDisplay",this).call(this)}}]),b}(w);function E(a){var b=a.toString();return b.indexOf(".")> -1?b.length-b.indexOf(".")-1:0}var F=function(a){function b(a,c,d){o(this,b);var e=s(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c)),f=d||{};return e.__min=f.min,e.__max=f.max,e.__step=f.step,g.isUndefined(e.__step)?0===e.initialValue?e.__impliedStep=1:e.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(e.initialValue))/Math.LN10))/10:e.__impliedStep=e.__step,e.__precision=E(e.__impliedStep),e}return r(b,a),p(b,[{key:"setValue",value:function(a){var c=a;return void 0!==this.__min&&c<this.__min?c=this.__min:void 0!==this.__max&&c>this.__max&&(c=this.__max),void 0!==this.__step&&c%this.__step!=0&&(c=Math.round(c/this.__step)*this.__step),q(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"setValue",this).call(this,c)}},{key:"min",value:function(a){return this.__min=a,this}},{key:"max",value:function(a){return this.__max=a,this}},{key:"step",value:function(a){return this.__step=a,this.__impliedStep=a,this.__precision=E(a),this}}]),b}(w),G=function(a){function b(a,c,d){o(this,b);var e=s(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,d));e.__truncationSuspended=!1;var f=e,h=void 0;function i(){f.__onFinishChange&&f.__onFinishChange.call(f,f.getValue())}function j(a){var b=h-a.clientY;f.setValue(f.getValue()+b*f.__impliedStep),h=a.clientY}function k(){A.unbind(window,"mousemove",j),A.unbind(window,"mouseup",k),i()}return e.__input=document.createElement("input"),e.__input.setAttribute("type","text"),A.bind(e.__input,"change",function(){var a=parseFloat(f.__input.value);g.isNaN(a)||f.setValue(a)}),A.bind(e.__input,"blur",function(){i()}),A.bind(e.__input,"mousedown",function(a){A.bind(window,"mousemove",j),A.bind(window,"mouseup",k),h=a.clientY}),A.bind(e.__input,"keydown",function(a){13===a.keyCode&&(f.__truncationSuspended=!0,this.blur(),f.__truncationSuspended=!1,i())}),e.updateDisplay(),e.domElement.appendChild(e.__input),e}return r(b,a),p(b,[{key:"updateDisplay",value:function(){var a,c;return this.__input.value=this.__truncationSuspended?this.getValue():(a=this.getValue(),c=Math.pow(10,this.__precision),Math.round(a*c)/c),q(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"updateDisplay",this).call(this)}}]),b}(F);function H(a,b,c,d,e){return d+(e-d)*((a-b)/(c-b))}var I=function(a){function b(a,c,d,e,f){o(this,b);var g=s(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c,{min:d,max:e,step:f})),h=g;function i(a){a.preventDefault();var b=h.__background.getBoundingClientRect();return h.setValue(H(a.clientX,b.left,b.right,h.__min,h.__max)),!1}function j(){A.unbind(window,"mousemove",i),A.unbind(window,"mouseup",j),h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())}function k(a){var b=a.touches[0].clientX,c=h.__background.getBoundingClientRect();h.setValue(H(b,c.left,c.right,h.__min,h.__max))}function l(){A.unbind(window,"touchmove",k),A.unbind(window,"touchend",l),h.__onFinishChange&&h.__onFinishChange.call(h,h.getValue())}return g.__background=document.createElement("div"),g.__foreground=document.createElement("div"),A.bind(g.__background,"mousedown",function(a){document.activeElement.blur(),A.bind(window,"mousemove",i),A.bind(window,"mouseup",j),i(a)}),A.bind(g.__background,"touchstart",function(a){1===a.touches.length&&(A.bind(window,"touchmove",k),A.bind(window,"touchend",l),k(a))}),A.addClass(g.__background,"slider"),A.addClass(g.__foreground,"slider-fg"),g.updateDisplay(),g.__background.appendChild(g.__foreground),g.domElement.appendChild(g.__background),g}return r(b,a),p(b,[{key:"updateDisplay",value:function(){var a=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*a+"%",q(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"updateDisplay",this).call(this)}}]),b}(F),J=function(a){function b(a,c,d){o(this,b);var e=s(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c)),f=e;return e.__button=document.createElement("div"),e.__button.innerHTML=void 0===d?"Fire":d,A.bind(e.__button,"click",function(a){return a.preventDefault(),f.fire(),!1}),A.addClass(e.__button,"button"),e.domElement.appendChild(e.__button),e}return r(b,a),p(b,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),b}(w),K=function(a){function b(a,c){o(this,b);var d=s(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));d.__color=new t(d.getValue()),d.__temp=new t(0);var e=d;d.domElement=document.createElement("div"),A.makeSelectable(d.domElement,!1),d.__selector=document.createElement("div"),d.__selector.className="selector",d.__saturation_field=document.createElement("div"),d.__saturation_field.className="saturation-field",d.__field_knob=document.createElement("div"),d.__field_knob.className="field-knob",d.__field_knob_border="2px solid ",d.__hue_knob=document.createElement("div"),d.__hue_knob.className="hue-knob",d.__hue_field=document.createElement("div"),d.__hue_field.className="hue-field",d.__input=document.createElement("input"),d.__input.type="text",d.__input_textShadow="0 1px 1px ",A.bind(d.__input,"keydown",function(a){13===a.keyCode&&m.call(this)}),A.bind(d.__input,"blur",m),A.bind(d.__selector,"mousedown",function(){A.addClass(this,"drag").bind(window,"mouseup",function(){A.removeClass(e.__selector,"drag")})}),A.bind(d.__selector,"touchstart",function(){A.addClass(this,"drag").bind(window,"touchend",function(){A.removeClass(e.__selector,"drag")})});var f=document.createElement("div");function h(a){p(a),A.bind(window,"mousemove",p),A.bind(window,"touchmove",p),A.bind(window,"mouseup",j),A.bind(window,"touchend",j)}function i(a){q(a),A.bind(window,"mousemove",q),A.bind(window,"touchmove",q),A.bind(window,"mouseup",l),A.bind(window,"touchend",l)}function j(){A.unbind(window,"mousemove",p),A.unbind(window,"touchmove",p),A.unbind(window,"mouseup",j),A.unbind(window,"touchend",j),n()}function l(){A.unbind(window,"mousemove",q),A.unbind(window,"touchmove",q),A.unbind(window,"mouseup",l),A.unbind(window,"touchend",l),n()}function m(){var a=k(this.value);!1!==a?(e.__color.__state=a,e.setValue(e.__color.toOriginal())):this.value=e.__color.toString()}function n(){e.__onFinishChange&&e.__onFinishChange.call(e,e.__color.toOriginal())}function p(a){-1===a.type.indexOf("touch")&&a.preventDefault();var b=e.__saturation_field.getBoundingClientRect(),c=a.touches&&a.touches[0]||a,d=c.clientX,f=c.clientY,g=(d-b.left)/(b.right-b.left),h=1-(f-b.top)/(b.bottom-b.top);return h>1?h=1:h<0&&(h=0),g>1?g=1:g<0&&(g=0),e.__color.v=h,e.__color.s=g,e.setValue(e.__color.toOriginal()),!1}function q(a){-1===a.type.indexOf("touch")&&a.preventDefault();var b=e.__hue_field.getBoundingClientRect(),c=1-((a.touches&&a.touches[0]||a).clientY-b.top)/(b.bottom-b.top);return c>1?c=1:c<0&&(c=0),e.__color.h=360*c,e.setValue(e.__color.toOriginal()),!1}return g.extend(d.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),g.extend(d.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:d.__field_knob_border+(d.__color.v<0.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),g.extend(d.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),g.extend(d.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),g.extend(f.style,{width:"100%",height:"100%",background:"none"}),M(f,"top","rgba(0,0,0,0)","#000"),g.extend(d.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),N(d.__hue_field),g.extend(d.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:d.__input_textShadow+"rgba(0,0,0,0.7)"}),A.bind(d.__saturation_field,"mousedown",h),A.bind(d.__saturation_field,"touchstart",h),A.bind(d.__field_knob,"mousedown",h),A.bind(d.__field_knob,"touchstart",h),A.bind(d.__hue_field,"mousedown",i),A.bind(d.__hue_field,"touchstart",i),d.__saturation_field.appendChild(f),d.__selector.appendChild(d.__field_knob),d.__selector.appendChild(d.__saturation_field),d.__selector.appendChild(d.__hue_field),d.__hue_field.appendChild(d.__hue_knob),d.domElement.appendChild(d.__input),d.domElement.appendChild(d.__selector),d.updateDisplay(),d}return r(b,a),p(b,[{key:"updateDisplay",value:function(){var a=k(this.getValue());if(!1!==a){var b=!1;g.each(t.COMPONENTS,function(c){if(!g.isUndefined(a[c])&&!g.isUndefined(this.__color.__state[c])&&a[c]!==this.__color.__state[c])return b=!0,{}},this),b&&g.extend(this.__color.__state,a)}g.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var c=this.__color.v<0.5||this.__color.s>0.5?255:0,d=255-c;g.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+c+","+c+","+c+")"}),this.__hue_knob.style.marginTop=(1-this.__color.h/360)*100+"px",this.__temp.s=1,this.__temp.v=1,M(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),g.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+c+","+c+","+c+")",textShadow:this.__input_textShadow+"rgba("+d+","+d+","+d+",.7)"})}}]),b}(w),L=["-moz-","-o-","-webkit-","-ms-",""];function M(a,b,c,d){a.style.background="",g.each(L,function(e){a.style.cssText+="background: "+e+"linear-gradient("+b+", "+c+" 0%, "+d+" 100%); "})}function N(a){a.style.background="",a.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",a.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var O=function(a,b){var c=a[b];return g.isArray(arguments[2])||g.isObject(arguments[2])?new C(a,b,arguments[2]):g.isNumber(c)?g.isNumber(arguments[2])&&g.isNumber(arguments[3])?g.isNumber(arguments[4])?new I(a,b,arguments[2],arguments[3],arguments[4]):new I(a,b,arguments[2],arguments[3]):g.isNumber(arguments[4])?new G(a,b,{min:arguments[2],max:arguments[3],step:arguments[4]}):new G(a,b,{min:arguments[2],max:arguments[3]}):g.isString(c)?new D(a,b):g.isFunction(c)?new J(a,b,""):g.isBoolean(c)?new B(a,b):null},P=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1000/60)},Q=function(){function a(){o(this,a),this.backgroundElement=document.createElement("div"),g.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),A.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),g.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var b=this;A.bind(this.backgroundElement,"click",function(){b.hide()})}return p(a,[{key:"show",value:function(){var a=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),g.defer(function(){a.backgroundElement.style.opacity=1,a.domElement.style.opacity=1,a.domElement.style.webkitTransform="scale(1)"})}},{key:"hide",value:function(){var a=this,b=function b(){a.domElement.style.display="none",a.backgroundElement.style.display="none",A.unbind(a.domElement,"webkitTransitionEnd",b),A.unbind(a.domElement,"transitionend",b),A.unbind(a.domElement,"oTransitionEnd",b)};A.bind(this.domElement,"webkitTransitionEnd",b),A.bind(this.domElement,"transitionend",b),A.bind(this.domElement,"oTransitionEnd",b),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-A.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-A.getHeight(this.domElement)/2+"px"}}]),a}(),R=function(a){if(a&&"undefined"!=typeof window){var b=document.createElement("style");return b.setAttribute("type","text/css"),b.innerHTML=a,document.head.appendChild(b),a}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");({load:function(a,b){var c=b||document,d=c.createElement("link");d.type="text/css",d.rel="stylesheet",d.href=a,c.getElementsByTagName("head")[0].appendChild(d)},inject:function(a,b){var c=document.createElement("style");c.type="text/css",c.innerHTML=a;var d=(b||document).getElementsByTagName("head")[0];try{d.appendChild(c)}catch(e){}}}).inject(R);var S="Default",T=function(){try{return!!window.localStorage}catch(a){return!1}}(),U=void 0,V=!0,W=void 0,X=!1,Y=[],Z=function a(b){var c,d=this,e=b||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),A.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],e=g.defaults(e,{closeOnTop:!1,autoPlace:!0,width:a.DEFAULT_WIDTH}),e=g.defaults(e,{resizable:e.autoPlace,hideable:e.autoPlace}),g.isUndefined(e.load)?e.load={preset:S}:e.preset&&(e.load.preset=e.preset),g.isUndefined(e.parent)&&e.hideable&&Y.push(this),e.resizable=g.isUndefined(e.parent)&&e.resizable,e.autoPlace&&g.isUndefined(e.scrollable)&&(e.scrollable=!0);var f=T&&"true"===localStorage.getItem(da(this,"isLocal")),h=void 0,i=void 0;if(Object.defineProperties(this,{parent:{get:function(){return e.parent}},scrollable:{get:function(){return e.scrollable}},autoPlace:{get:function(){return e.autoPlace}},closeOnTop:{get:function(){return e.closeOnTop}},preset:{get:function(){return d.parent?d.getRoot().preset:e.load.preset},set:function(a){d.parent?d.getRoot().preset=a:e.load.preset=a,ja(this),d.revert()}},width:{get:function(){return e.width},set:function(a){e.width=a,ha(d,a)}},name:{get:function(){return e.name},set:function(a){e.name=a,i&&(i.innerHTML=e.name)}},closed:{get:function(){return e.closed},set:function(b){e.closed=b,e.closed?A.addClass(d.__ul,a.CLASS_CLOSED):A.removeClass(d.__ul,a.CLASS_CLOSED),this.onResize(),d.__closeButton&&(d.__closeButton.innerHTML=b?a.TEXT_OPEN:a.TEXT_CLOSED)}},load:{get:function(){return e.load}},useLocalStorage:{get:function(){return f},set:function(a){T&&(f=a,a?A.bind(window,"unload",h):A.unbind(window,"unload",h),localStorage.setItem(da(d,"isLocal"),a))}}}),g.isUndefined(e.parent)){if(this.closed=e.closed||!1,A.addClass(this.domElement,a.CLASS_MAIN),A.makeSelectable(this.domElement,!1),T&&f){d.useLocalStorage=!0;var j=localStorage.getItem(da(this,"gui"));j&&(e.load=JSON.parse(j))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=a.TEXT_CLOSED,A.addClass(this.__closeButton,a.CLASS_CLOSE_BUTTON),e.closeOnTop?(A.addClass(this.__closeButton,a.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(A.addClass(this.__closeButton,a.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),A.bind(this.__closeButton,"click",function(){d.closed=!d.closed})}else{void 0===e.closed&&(e.closed=!0);var k=document.createTextNode(e.name);A.addClass(k,"controller-name"),i=$(d,k);var l=function(a){return a.preventDefault(),d.closed=!d.closed,!1};A.addClass(this.__ul,a.CLASS_CLOSED),A.addClass(i,"title"),A.bind(i,"click",l),e.closed||(this.closed=!1)}e.autoPlace&&(g.isUndefined(e.parent)&&(V&&(W=document.createElement("div"),A.addClass(W,"dg"),A.addClass(W,a.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(W),V=!1),W.appendChild(this.domElement),A.addClass(this.domElement,a.CLASS_AUTO_PLACE)),this.parent||ha(d,e.width)),this.__resizeHandler=function(){d.onResizeDebounced()},A.bind(window,"resize",this.__resizeHandler),A.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),A.bind(this.__ul,"transitionend",this.__resizeHandler),A.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),e.resizable&&ga(this),h=function(){T&&"true"===localStorage.getItem(da(d,"isLocal"))&&localStorage.setItem(da(d,"gui"),JSON.stringify(d.getSaveObject()))},this.saveToLocalStorageIfPossible=h,e.parent||(c=d.getRoot(),c.width+=1,g.defer(function(){c.width-=1}))};function $(a,b,c){var d=document.createElement("li");return b&&d.appendChild(b),c?a.__ul.insertBefore(d,c):a.__ul.appendChild(d),a.onResize(),d}function _(a){A.unbind(window,"resize",a.__resizeHandler),a.saveToLocalStorageIfPossible&&A.unbind(window,"unload",a.saveToLocalStorageIfPossible)}function aa(a,b){var c=a.__preset_select[a.__preset_select.selectedIndex];b?c.innerHTML=c.value+"*":c.innerHTML=c.value}function ba(a,b){var c=a.getRoot(),d=c.__rememberedObjects.indexOf(b.object);if(-1!==d){var e=c.__rememberedObjectIndecesToControllers[d];if(void 0===e&&(e={},c.__rememberedObjectIndecesToControllers[d]=e),e[b.property]=b,c.load&&c.load.remembered){var f=c.load.remembered,g=void 0;if(f[a.preset])g=f[a.preset];else{if(!f[S])return;g=f[S]}if(g[d]&& void 0!==g[d][b.property]){var h=g[d][b.property];b.initialValue=h,b.setValue(h)}}}}function ca(a,b,c,d){if(void 0===b[c])throw new Error("Object \""+b+"\" has no property \""+c+"\"");var e=void 0;if(d.color)e=new K(b,c);else{var f=[b,c].concat(d.factoryArgs);e=O.apply(a,f)}d.before instanceof w&&(d.before=d.before.__li),ba(a,e),A.addClass(e.domElement,"c");var h=document.createElement("span");A.addClass(h,"property-name"),h.innerHTML=e.property;var i=document.createElement("div");i.appendChild(h),i.appendChild(e.domElement);var j=$(a,i,d.before);return A.addClass(j,Z.CLASS_CONTROLLER_ROW),e instanceof K?A.addClass(j,"color"):A.addClass(j,n(e.getValue())),!function(a,b,c){if(c.__li=b,c.__gui=a,g.extend(c,{options:function(b){if(arguments.length>1){var d=c.__li.nextElementSibling;return c.remove(),ca(a,c.object,c.property,{before:d,factoryArgs:[g.toArray(arguments)]})}if(g.isArray(b)||g.isObject(b)){var e=c.__li.nextElementSibling;return c.remove(),ca(a,c.object,c.property,{before:e,factoryArgs:[b]})}},name:function(a){return c.__li.firstElementChild.firstElementChild.innerHTML=a,c},listen:function(){return c.__gui.listen(c),c},remove:function(){return c.__gui.remove(c),c}}),c instanceof I){var d=new G(c.object,c.property,{min:c.__min,max:c.__max,step:c.__step});g.each(["updateDisplay","onChange","onFinishChange","step","min","max"],function(a){var b=c[a],e=d[a];c[a]=d[a]=function(){var a=Array.prototype.slice.call(arguments);return e.apply(d,a),b.apply(c,a)}}),A.addClass(b,"has-slider"),c.domElement.insertBefore(d.domElement,c.domElement.firstElementChild)}else if(c instanceof G){var e=function(b){if(g.isNumber(c.__min)&&g.isNumber(c.__max)){var d=c.__li.firstElementChild.firstElementChild.innerHTML,e=c.__gui.__listening.indexOf(c)> -1;c.remove();var f=ca(a,c.object,c.property,{before:c.__li.nextElementSibling,factoryArgs:[c.__min,c.__max,c.__step]});return f.name(d),e&&f.listen(),f}return b};c.min=g.compose(e,c.min),c.max=g.compose(e,c.max)}else c instanceof B?(A.bind(b,"click",function(){A.fakeEvent(c.__checkbox,"click")}),A.bind(c.__checkbox,"click",function(a){a.stopPropagation()})):c instanceof J?(A.bind(b,"click",function(){A.fakeEvent(c.__button,"click")}),A.bind(b,"mouseover",function(){A.addClass(c.__button,"hover")}),A.bind(b,"mouseout",function(){A.removeClass(c.__button,"hover")})):c instanceof K&&(A.addClass(b,"color"),c.updateDisplay=g.compose(function(a){return b.style.borderLeftColor=c.__color.toString(),a},c.updateDisplay),c.updateDisplay());c.setValue=g.compose(function(b){return a.getRoot().__preset_select&&c.isModified()&&aa(a.getRoot(),!0),b},c.setValue)}(a,j,e),a.__controllers.push(e),e}function da(a,b){return document.location.href+"."+b}function ea(a,b,c){var d=document.createElement("option");d.innerHTML=b,d.value=b,a.__preset_select.appendChild(d),c&&(a.__preset_select.selectedIndex=a.__preset_select.length-1)}function fa(a,b){b.style.display=a.useLocalStorage?"block":"none"}function ga(a){var b=void 0;function c(c){return c.preventDefault(),a.width+=b-c.clientX,a.onResize(),b=c.clientX,!1}function d(){A.removeClass(a.__closeButton,Z.CLASS_DRAG),A.unbind(window,"mousemove",c),A.unbind(window,"mouseup",d)}function e(e){return e.preventDefault(),b=e.clientX,A.addClass(a.__closeButton,Z.CLASS_DRAG),A.bind(window,"mousemove",c),A.bind(window,"mouseup",d),!1}a.__resize_handle=document.createElement("div"),g.extend(a.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),A.bind(a.__resize_handle,"mousedown",e),A.bind(a.__closeButton,"mousedown",e),a.domElement.insertBefore(a.__resize_handle,a.domElement.firstElementChild)}function ha(a,b){a.domElement.style.width=b+"px",a.__save_row&&a.autoPlace&&(a.__save_row.style.width=b+"px"),a.__closeButton&&(a.__closeButton.style.width=b+"px")}function ia(a,b){var c={};return g.each(a.__rememberedObjects,function(d,e){var f={},h=a.__rememberedObjectIndecesToControllers[e];g.each(h,function(a,c){f[c]=b?a.initialValue:a.getValue()}),c[e]=f}),c}function ja(a){for(var b=0;b<a.__preset_select.length;b++)a.__preset_select[b].value===a.preset&&(a.__preset_select.selectedIndex=b)}function ka(a){0!==a.length&&P.call(window,function(){ka(a)}),g.each(a,function(a){a.updateDisplay()})}Z.toggleHide=function(){X=!X,g.each(Y,function(a){a.domElement.style.display=X?"none":""})},Z.CLASS_AUTO_PLACE="a",Z.CLASS_AUTO_PLACE_CONTAINER="ac",Z.CLASS_MAIN="main",Z.CLASS_CONTROLLER_ROW="cr",Z.CLASS_TOO_TALL="taller-than-window",Z.CLASS_CLOSED="closed",Z.CLASS_CLOSE_BUTTON="close-button",Z.CLASS_CLOSE_TOP="close-top",Z.CLASS_CLOSE_BOTTOM="close-bottom",Z.CLASS_DRAG="drag",Z.DEFAULT_WIDTH=245,Z.TEXT_CLOSED="Close Controls",Z.TEXT_OPEN="Open Controls",Z._keydownHandler=function(a){"text"!==document.activeElement.type&&(72===a.which||72===a.keyCode)&&Z.toggleHide()},A.bind(window,"keydown",Z._keydownHandler,!1),g.extend(Z.prototype,{add:function(a,b){return ca(this,a,b,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(a,b){return ca(this,a,b,{color:!0})},remove:function(a){this.__ul.removeChild(a.__li),this.__controllers.splice(this.__controllers.indexOf(a),1);var b=this;g.defer(function(){b.onResize()})},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&W.removeChild(this.domElement);var a=this;g.each(this.__folders,function(b){a.removeFolder(b)}),A.unbind(window,"keydown",Z._keydownHandler,!1),_(this)},addFolder:function(a){if(void 0!==this.__folders[a])throw new Error("You already have a folder in this GUI by the name \""+a+"\"");var b={name:a,parent:this};b.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[a]&&(b.closed=this.load.folders[a].closed,b.load=this.load.folders[a]);var c=new Z(b);this.__folders[a]=c;var d=$(this,c.domElement);return A.addClass(d,"folder"),c},removeFolder:function(a){this.__ul.removeChild(a.domElement.parentElement),delete this.__folders[a.name],this.load&&this.load.folders&&this.load.folders[a.name]&&delete this.load.folders[a.name],_(a);var b=this;g.each(a.__folders,function(b){a.removeFolder(b)}),g.defer(function(){b.onResize()})},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var a=this.getRoot();if(a.scrollable){var b=A.getOffset(a.__ul).top,c=0;g.each(a.__ul.childNodes,function(b){a.autoPlace&&b===a.__save_row||(c+=A.getHeight(b))}),window.innerHeight-b-20<c?(A.addClass(a.domElement,Z.CLASS_TOO_TALL),a.__ul.style.height=window.innerHeight-b-20+"px"):(A.removeClass(a.domElement,Z.CLASS_TOO_TALL),a.__ul.style.height="auto")}a.__resize_handle&&g.defer(function(){a.__resize_handle.style.height=a.__ul.offsetHeight+"px"}),a.__closeButton&&(a.__closeButton.style.width=a.width+"px")},onResizeDebounced:g.debounce(function(){this.onResize()},50),remember:function(){if(g.isUndefined(U)&&((U=new Q()).domElement.innerHTML="<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>"),this.parent)throw new Error("You can only call remember on a top level GUI.");var a=this;g.each(Array.prototype.slice.call(arguments),function(b){0===a.__rememberedObjects.length&&(function(a){var b=a.__save_row=document.createElement("li");A.addClass(a.domElement,"has-save"),a.__ul.insertBefore(b,a.__ul.firstChild),A.addClass(b,"save-row");var c=document.createElement("span");c.innerHTML="&nbsp;",A.addClass(c,"button gears");var d=document.createElement("span");d.innerHTML="Save",A.addClass(d,"button"),A.addClass(d,"save");var e=document.createElement("span");e.innerHTML="New",A.addClass(e,"button"),A.addClass(e,"save-as");var f=document.createElement("span");f.innerHTML="Revert",A.addClass(f,"button"),A.addClass(f,"revert");var h=a.__preset_select=document.createElement("select");if(a.load&&a.load.remembered?g.each(a.load.remembered,function(b,c){ea(a,c,c===a.preset)}):ea(a,S,!1),A.bind(h,"change",function(){for(var b=0;b<a.__preset_select.length;b++)a.__preset_select[b].innerHTML=a.__preset_select[b].value;a.preset=this.value}),b.appendChild(h),b.appendChild(c),b.appendChild(d),b.appendChild(e),b.appendChild(f),T){var i=document.getElementById("dg-local-explain"),j=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(da(a,"isLocal"))&&j.setAttribute("checked","checked"),fa(a,i),A.bind(j,"change",function(){a.useLocalStorage=!a.useLocalStorage,fa(a,i)})}var k=document.getElementById("dg-new-constructor");A.bind(k,"keydown",function(a){a.metaKey&&(67===a.which||67===a.keyCode)&&U.hide()}),A.bind(c,"click",function(){k.innerHTML=JSON.stringify(a.getSaveObject(),void 0,2),U.show(),k.focus(),k.select()}),A.bind(d,"click",function(){a.save()}),A.bind(e,"click",function(){var b=prompt("Enter a new preset name.");b&&a.saveAs(b)}),A.bind(f,"click",function(){a.revert()})})(a),-1===a.__rememberedObjects.indexOf(b)&&a.__rememberedObjects.push(b)}),this.autoPlace&&ha(this,this.width)},getRoot:function(){for(var a=this;a.parent;)a=a.parent;return a},getSaveObject:function(){var a=this.load;return a.closed=this.closed,this.__rememberedObjects.length>0&&(a.preset=this.preset,a.remembered||(a.remembered={}),a.remembered[this.preset]=ia(this)),a.folders={},g.each(this.__folders,function(b,c){a.folders[c]=b.getSaveObject()}),a},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ia(this),aa(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(a){this.load.remembered||(this.load.remembered={},this.load.remembered[S]=ia(this,!0)),this.load.remembered[a]=ia(this),this.preset=a,ea(this,a,!0),this.saveToLocalStorageIfPossible()},revert:function(a){g.each(this.__controllers,function(b){this.getRoot().load.remembered?ba(a||this.getRoot(),b):b.setValue(b.initialValue),b.__onFinishChange&&b.__onFinishChange.call(b,b.getValue())},this),g.each(this.__folders,function(a){a.revert(a)}),a||aa(this.getRoot(),!1)},listen:function(a){var b=0===this.__listening.length;this.__listening.push(a),b&&ka(this.__listening)},updateDisplay:function(){g.each(this.__controllers,function(a){a.updateDisplay()}),g.each(this.__folders,function(a){a.updateDisplay()})}});var la={Color:t,math:m,interpret:k},ma={Controller:w,BooleanController:B,OptionController:C,StringController:D,NumberController:F,NumberControllerBox:G,NumberControllerSlider:I,FunctionController:J,ColorController:K},na={dom:A},oa={GUI:Z},pa=Z;b.default={color:la,controllers:ma,dom:na,gui:oa,GUI:pa}}}])