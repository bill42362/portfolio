(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[1],{119:function(e,t,n){"use strict";(function(e){n(139),n(141),n(61),n(89),n(34),n(145),n(146),n(64),n(148);var o,r=n(1),a=n.n(r),i=n(2),s=n.n(i),l=n(17),c=n(120),u=n.n(c),d=n(124),h=n(131),m=n(132),p=n(130);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var y,w,v=Object(l.createGlobalStyle)(o||(y=["\n  ",';\n  *, ::after, ::before { box-sizing: border-box; }\n  body {\n    background-color: #101010;\n    color: #efefef;\n    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",\n      Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n    font-weight: 400;\n    -webkit-tap-highlight-color: transparent;\n    overscroll-behavior-y: contain;\n  }\n  button {\n    background-color: rgba(0, 0, 0, 0);\n    cursor: pointer;\n    &:disabled {\n      cursor: not-allowed;\n    }\n  }\n  input::placeholder,\n  input::-webkit-input-placeholder,\n  input::-moz-placeholder {\n    line-height: normal !important;\n    vertical-align: middle;\n  }\n  a { color: inherit; text-decoration: none; }\n  a > * { opacity: inherit; }\n  a:hover { opacity: .7; }\n'],w||(w=y.slice(0)),o=Object.freeze(Object.defineProperties(y,{raw:{value:Object.freeze(w)}}))),u.a),x="undefined"==typeof window,k="Portfolio",C="Bill's portfolio",E=x?e.env.BRANCH_NAME:window.__SSR_ENVIRONMENT__.branchName,O=function(e){var t=e.request;return console.log("App() request:",t),a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a,{defaultTitle:"Portfolio",titleTemplate:"%s - Portfolio"},a.a.createElement("meta",{charSet:"utf-8"}),a.a.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),a.a.createElement("meta",{name:"author",content:"Bill"}),a.a.createElement("meta",{name:"description",content:C}),a.a.createElement("meta",{property:"og:url",content:"https://github.com/bill42362/portfolio"}),a.a.createElement("meta",{property:"og:type",content:"website"}),a.a.createElement("meta",{property:"og:title",content:k}),a.a.createElement("meta",{property:"og:description",content:C}),a.a.createElement("meta",{property:"og:site_name",content:k}),a.a.createElement("meta",{property:"twitter:card",content:"summary"}),a.a.createElement("meta",{property:"twitter:site",content:"@bill_portfolio"})),a.a.createElement(v,null),a.a.createElement(I,null,!window&&a.a.createElement("img",{src:p.a,title:"Xavier school"}),a.a.createElement(h.a,null),a.a.createElement(m.a,{branchName:E})))};O.propTypes={request:s.a.object},O.defaultProps={request:null};var I=l.default.div.withConfig({displayName:"App__StyledApp",componentId:"sc-1v2nrsx-0"})(["display:flex;flex-direction:column;justify-content:center;height:100vh;background-color:#222f3e;"]),M=function(e){var t=e.sheet,n=b(e,["sheet"]);return t.instance?a.a.createElement(l.StyleSheetManager,{sheet:t.instance},a.a.createElement(O,n)):a.a.createElement(O,n)};M.propTypes=g(g({},O.propTypes),{},{sheet:s.a.object}),M.defaultProps=g(g({},O.defaultProps),{},{sheet:{}}),t.a=M}).call(this,n(76))},130:function(e,t,n){"use strict";t.a=n.p+"img/x-men-school.0928a818.svg"},131:function(e,t,n){"use strict";n(154),n(155),n(64),n(61),n(156),n(157),n(96),n(98),n(46),n(99),n(34),n(67),n(68),n(40),n(69),n(70);var o=n(1),r=n.n(o),a=n(17),i=n(127),s=n.n(i),l=n(128),c=n(129),u=n(0);class d extends u.o{constructor(e){super(e)}parse(e){const t=0,n=1,o=2,r=3,a=9,i=10,s=11,l=48,c=4,d=0,h=1,m=2,p=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");let f=0;const g=new Uint8Array(e),A={id_length:g[f++],colormap_type:g[f++],image_type:g[f++],colormap_index:g[f++]|g[f++]<<8,colormap_length:g[f++]|g[f++]<<8,colormap_size:g[f++],origin:[g[f++]|g[f++]<<8,g[f++]|g[f++]<<8],width:g[f++]|g[f++]<<8,height:g[f++]|g[f++]<<8,pixel_size:g[f++],flags:g[f++]};!function(e){switch(e.image_type){case n:case a:(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case o:case r:case i:case s:e.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',e.image_type)}(e.width<=0||e.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size&&console.error('THREE.TGALoader: Invalid pixel size "%s".',e.pixel_size)}(A),A.id_length+f>e.length&&console.error("THREE.TGALoader: No data."),f+=A.id_length;let b=!1,y=!1,w=!1;switch(A.image_type){case a:b=!0,y=!0;break;case n:y=!0;break;case i:b=!0;break;case o:break;case s:b=!0,w=!0;break;case r:w=!0}const v=new Uint8Array(A.width*A.height*4),x=function(e,t,n,o,r){let a,i;const s=n.pixel_size>>3,l=n.width*n.height*s;if(t&&(i=r.subarray(o,o+=n.colormap_length*(n.colormap_size>>3))),e){let e,t,n;a=new Uint8Array(l);let i=0;const c=new Uint8Array(s);for(;i<l;)if(e=r[o++],t=1+(127&e),128&e){for(n=0;n<s;++n)c[n]=r[o++];for(n=0;n<t;++n)a.set(c,i+n*s);i+=s*t}else{for(t*=s,n=0;n<t;++n)a[i+n]=r[o++];i+=t}}else a=r.subarray(o,o+=t?n.width*n.height:l);return{pixel_data:a,palettes:i}}(b,y,A,f,g);return function(e,t,n,o,r){let a,i,s,u,f,g;switch((A.flags&l)>>c){default:case m:a=0,s=1,f=t,i=0,u=1,g=n;break;case d:a=0,s=1,f=t,i=n-1,u=-1,g=-1;break;case p:a=t-1,s=-1,f=-1,i=0,u=1,g=n;break;case h:a=t-1,s=-1,f=-1,i=n-1,u=-1,g=-1}if(w)switch(A.pixel_size){case 8:!function(e,t,n,o,r,a,i,s){let l,c,u,d=0;const h=A.width;for(u=t;u!==o;u+=n)for(c=r;c!==i;c+=a,d++)l=s[d],e[4*(c+h*u)+0]=l,e[4*(c+h*u)+1]=l,e[4*(c+h*u)+2]=l,e[4*(c+h*u)+3]=255}(e,i,u,g,a,s,f,o);break;case 16:!function(e,t,n,o,r,a,i,s){let l,c,u=0;const d=A.width;for(c=t;c!==o;c+=n)for(l=r;l!==i;l+=a,u+=2)e[4*(l+d*c)+0]=s[u+0],e[4*(l+d*c)+1]=s[u+0],e[4*(l+d*c)+2]=s[u+0],e[4*(l+d*c)+3]=s[u+1]}(e,i,u,g,a,s,f,o);break;default:console.error("THREE.TGALoader: Format not supported.")}else switch(A.pixel_size){case 8:!function(e,t,n,o,r,a,i,s,l){const c=l;let u,d,h,m=0;const p=A.width;for(h=t;h!==o;h+=n)for(d=r;d!==i;d+=a,m++)u=s[m],e[4*(d+p*h)+3]=255,e[4*(d+p*h)+2]=c[3*u+0],e[4*(d+p*h)+1]=c[3*u+1],e[4*(d+p*h)+0]=c[3*u+2]}(e,i,u,g,a,s,f,o,r);break;case 16:!function(e,t,n,o,r,a,i,s){let l,c,u,d=0;const h=A.width;for(u=t;u!==o;u+=n)for(c=r;c!==i;c+=a,d+=2)l=s[d+0]+(s[d+1]<<8),e[4*(c+h*u)+0]=(31744&l)>>7,e[4*(c+h*u)+1]=(992&l)>>2,e[4*(c+h*u)+2]=(31&l)>>3,e[4*(c+h*u)+3]=32768&l?0:255}(e,i,u,g,a,s,f,o);break;case 24:!function(e,t,n,o,r,a,i,s){let l,c,u=0;const d=A.width;for(c=t;c!==o;c+=n)for(l=r;l!==i;l+=a,u+=3)e[4*(l+d*c)+3]=255,e[4*(l+d*c)+2]=s[u+0],e[4*(l+d*c)+1]=s[u+1],e[4*(l+d*c)+0]=s[u+2]}(e,i,u,g,a,s,f,o);break;case 32:!function(e,t,n,o,r,a,i,s){let l,c,u=0;const d=A.width;for(c=t;c!==o;c+=n)for(l=r;l!==i;l+=a,u+=4)e[4*(l+d*c)+2]=s[u+0],e[4*(l+d*c)+1]=s[u+1],e[4*(l+d*c)+0]=s[u+2],e[4*(l+d*c)+3]=s[u+3]}(e,i,u,g,a,s,f,o);break;default:console.error("THREE.TGALoader: Format not supported.")}}(v,A.width,A.height,x.pixel_data,x.palettes),{data:v,width:A.width,height:A.height,flipY:!0,generateMipmaps:!0,minFilter:u.B}}}var h=n(74);class m extends u.C{constructor(e){super(e),this.loader=new u.v(this.manager),this.parser=null,this.meshBuilder=new g(this.manager),this.animationBuilder=new y}setAnimationPath(e){return this.animationPath=e,this}load(e,t,n,o){const r=this.meshBuilder.setCrossOrigin(this.crossOrigin);let a;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:u.D.extractUrlBase(e);const i=this._extractExtension(e).toLowerCase();"pmd"===i||"pmx"===i?this["pmd"===i?"loadPMD":"loadPMX"](e,(function(e){t(r.build(e,a,n,o))}),n,o):o&&o(new Error("THREE.MMDLoader: Unknown model file extension ."+i+"."))}loadAnimation(e,t,n,o,r){const a=this.animationBuilder;this.loadVMD(e,(function(e){n(t.isCamera?a.buildCameraAnimation(e):a.build(e,t))}),o,r)}loadWithAnimation(e,t,n,o,r){const a=this;this.load(e,(function(e){a.loadAnimation(t,e,(function(t){n({mesh:e,animation:t})}),o,r)}),o,r)}loadPMD(e,t,n,o){const r=this._getParser();this.loader.setMimeType(void 0).setPath(this.path).setResponseType("arraybuffer").setRequestHeader(this.requestHeader).setWithCredentials(this.withCredentials).load(e,(function(e){t(r.parsePmd(e,!0))}),n,o)}loadPMX(e,t,n,o){const r=this._getParser();this.loader.setMimeType(void 0).setPath(this.path).setResponseType("arraybuffer").setRequestHeader(this.requestHeader).setWithCredentials(this.withCredentials).load(e,(function(e){t(r.parsePmx(e,!0))}),n,o)}loadVMD(e,t,n,o){const r=Array.isArray(e)?e:[e],a=[],i=r.length,s=this._getParser();this.loader.setMimeType(void 0).setPath(this.animationPath).setResponseType("arraybuffer").setRequestHeader(this.requestHeader).setWithCredentials(this.withCredentials);for(let e=0,l=r.length;e<l;e++)this.loader.load(r[e],(function(e){a.push(s.parseVmd(e,!0)),a.length===i&&t(s.mergeVmds(a))}),n,o)}loadVPD(e,t,n,o,r){const a=this._getParser();this.loader.setMimeType(t?void 0:"text/plain; charset=shift_jis").setPath(this.animationPath).setResponseType("text").setRequestHeader(this.requestHeader).setWithCredentials(this.withCredentials).load(e,(function(e){n(a.parseVpd(e,!0))}),o,r)}_extractExtension(e){const t=e.lastIndexOf(".");return t<0?"":e.slice(t+1)}_getParser(){if(null===this.parser){if(void 0===h.a)throw new Error("THREE.MMDLoader: Import MMDParser https://github.com/takahirox/mmd-parser");this.parser=new h.a.Parser}return this.parser}}const p=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAL0lEQVRYR+3QQREAAAzCsOFfNJPBJ1XQS9r2hsUAAQIECBAgQIAAAQIECBAgsBZ4MUx/ofm2I/kAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAN0lEQVRYR+3WQREAMBACsZ5/bWiiMvgEBTt5cW37hjsBBAgQIECAwFwgyfYPCCBAgAABAgTWAh8aBHZBl14e8wAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAOUlEQVRYR+3WMREAMAwDsYY/yoDI7MLwIiP40+RJklfcCCBAgAABAgTqArfb/QMCCBAgQIAAgbbAB3z/e0F3js2cAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAN0lEQVRYR+3WQREAMBACsZ5/B5ilMvgEBTt5cW37hjsBBAgQIECAwFwgyfYPCCBAgAABAgTWAh81dWyx0gFwKAAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAOklEQVRYR+3WoREAMAwDsWb/UQtCy9wxTOQJ/oQ8SXKKGwEECBAgQIBAXeDt7f4BAQQIECBAgEBb4AOz8Hzx7WLY4wAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABPUlEQVRYR+1XwW7CMAy1+f9fZOMysSEOEweEOPRNdm3HbdOyIhAcklPrOs/PLy9RygBALxzcCDQFmgJNgaZAU6Ap0BR4PwX8gsRMVLssMRH5HcpzJEaWL7EVg9F1IHRlyqQohgVr4FGUlUcMJSjcUlDw0zvjeun70cLWmneoyf7NgBTQSniBTQQSuJAZsOnnaczjIMb5hCiuHKxokCrJfVnrctyZL0PkJAJe1HMil4nxeyi3Ypfn1kX51jpPvo/JeCNC4PhVdHdJw2XjBR8brF8PEIhNVn12AgP7uHsTBguBn53MUZCqv7Lp07Pn5k1Ro+uWmUNn7D+M57rtk7aG0Vo73xyF/fbFf0bPJjDXngnGocDTdFhygZjwUQrMNrDcmZlQT50VJ/g/UwNyHpu778+yW+/ksOz/BFo54P4AsUXMfRq7XWsAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACMElEQVRYR+2Xv4pTQRTGf2dubhLdICiii2KnYKHVolhauKWPoGAnNr6BD6CvIVaihYuI2i1ia0BY0MZGRHQXjZj/mSPnnskfNWiWZUlzJ5k7M2cm833nO5Mziej2DWWJRUoCpQKlAntSQCqgw39/iUWAGmh37jrRnVsKlgpiqmkoGVABA7E57fvY+pJDdgKqF6HzFCSADkDq+F6AHABtQ+UMVE5D7zXod7fFNhTEckTbj5XQgHzNN+5tQvc5NG7C6BNkp6D3EmpXHDR+dQAjFLchW3VS9rlw3JBh+B7ys5Cf9z0GW1C/7P32AyBAOAz1q4jGliIH3YPuBnSfQX4OGreTIgEYQb/pBDtPnEQ4CivXYPAWBk13oHrB54yA9QuSn2H4AcKRpEILDt0BUzj+RLR1V5EqjD66NPRBVpLcQwjHoHYJOhsQv6U4mnzmrIXJCFr4LDwm/xBUoboG9XX4cc9VKdYoSA2yk5NQLJaKDUjTBoveG3Z2TElTxwjNK4M3LEZgUdDdruvcXzKBpStgp2NPiWi3ks9ZXxIoFVi+AvHLdc9TqtjL3/aYjpPlrzOcEnK62Szhimdd7xX232zFDTgtxezOu3WNMRLjiKgjtOhHVMd1loynVHvOgjuIIJMaELEqhJAV/RCSLbWTcfPFakFgFlALTRRvx+ok6Hlp/Q+v3fmx90bMyUzaEAhmM3KvHlXTL5DxnbGf/1M8RNNACLL5MNtPxP/mypJAqcDSFfgFhpYqWUzhTEAAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAL0lEQVRYR+3QQREAAAzCsOFfNJPBJ1XQS9r2hsUAAQIECBAgQIAAAQIECBAgsBZ4MUx/ofm2I/kAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAL0lEQVRYR+3QQREAAAzCsOFfNJPBJ1XQS9r2hsUAAQIECBAgQIAAAQIECBAgsBZ4MUx/ofm2I/kAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAL0lEQVRYR+3QQREAAAzCsOFfNJPBJ1XQS9r2hsUAAQIECBAgQIAAAQIECBAgsBZ4MUx/ofm2I/kAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAL0lEQVRYR+3QQREAAAzCsOFfNJPBJ1XQS9r2hsUAAQIECBAgQIAAAQIECBAgsBZ4MUx/ofm2I/kAAAAASUVORK5CYII="],f=[u.ab,u.Z,u.Y,u.W,u.X];class g{constructor(e){this.crossOrigin="anonymous",this.geometryBuilder=new A,this.materialBuilder=new b(e)}setCrossOrigin(e){return this.crossOrigin=e,this}build(e,t,n,o){const r=this.geometryBuilder.build(e),a=this.materialBuilder.setCrossOrigin(this.crossOrigin).setResourcePath(t).build(e,r,n,o),i=new u.eb(r,a),s=new u.db(function(e){const t=e.geometry,n=[];if(t&&void 0!==t.bones){for(let e=0,o=t.bones.length;e<o;e++){const o=t.bones[e],r=new u.e;n.push(r),r.name=o.name,r.position.fromArray(o.pos),r.quaternion.fromArray(o.rotq),void 0!==o.scl&&r.scale.fromArray(o.scl)}for(let o=0,r=t.bones.length;o<r;o++){const r=t.bones[o];-1!==r.parent&&null!==r.parent&&void 0!==n[r.parent]?n[r.parent].add(n[o]):e.add(n[o])}}return e.updateMatrixWorld(!0),n}(i));return i.bind(s),i}}class A{build(e){const t=[],n=[],o=[],r=[],a=[],i=[],s=[],l=[],c=[],d=[],h=[],m=[],p=[],f=[];let g=0;const A={};for(let r=0;r<e.metadata.vertexCount;r++){const a=e.vertices[r];for(let e=0,n=a.position.length;e<n;e++)t.push(a.position[e]);for(let e=0,t=a.normal.length;e<t;e++)o.push(a.normal[e]);for(let e=0,t=a.uv.length;e<t;e++)n.push(a.uv[e]);for(let e=0;e<4;e++)s.push(a.skinIndices.length-1>=e?a.skinIndices[e]:0);for(let e=0;e<4;e++)l.push(a.skinWeights.length-1>=e?a.skinWeights[e]:0)}for(let t=0;t<e.metadata.faceCount;t++){const n=e.faces[t];for(let e=0,t=n.indices.length;e<t;e++)r.push(n.indices[e])}for(let t=0;t<e.metadata.materialCount;t++){const n=e.materials[t];a.push({offset:3*g,count:3*n.faceCount}),g+=n.faceCount}for(let t=0;t<e.metadata.rigidBodyCount;t++){const n=e.rigidBodies[t];let o=A[n.boneIndex];o=void 0===o?n.type:Math.max(n.type,o),A[n.boneIndex]=o}for(let t=0;t<e.metadata.boneCount;t++){const n=e.bones[t],o={index:t,transformationClass:n.transformationClass,parent:n.parentIndex,name:n.name,pos:n.position.slice(0,3),rotq:[0,0,0,1],scl:[1,1,1],rigidBodyType:void 0!==A[t]?A[t]:-1};-1!==o.parent&&(o.pos[0]-=e.bones[o.parent].position[0],o.pos[1]-=e.bones[o.parent].position[1],o.pos[2]-=e.bones[o.parent].position[2]),i.push(o)}if("pmd"===e.metadata.format)for(let t=0;t<e.metadata.ikCount;t++){const n=e.iks[t],o={target:n.target,effector:n.effector,iteration:n.iteration,maxAngle:4*n.maxAngle,links:[]};for(let t=0,r=n.links.length;t<r;t++){const r={};r.index=n.links[t].index,r.enabled=!0,e.bones[r.index].name.indexOf("ひざ")>=0&&(r.limitation=new u.mb(1,0,0)),o.links.push(r)}h.push(o)}else for(let t=0;t<e.metadata.boneCount;t++){const n=e.bones[t].ik;if(void 0===n)continue;const o={target:t,effector:n.effector,iteration:n.iteration,maxAngle:n.maxAngle,links:[]};for(let e=0,t=n.links.length;e<t;e++){const t={};if(t.index=n.links[e].index,t.enabled=!0,1===n.links[e].angleLimitation){const o=n.links[e].lowerLimitationAngle,r=n.links[e].upperLimitationAngle,a=-r[0],i=-r[1];r[0]=-o[0],r[1]=-o[1],o[0]=a,o[1]=i,t.rotationMin=(new u.mb).fromArray(o),t.rotationMax=(new u.mb).fromArray(r)}o.links.push(t)}h.push(o),i[t].ik=o}if("pmx"===e.metadata.format){const t={};for(let n=0;n<e.metadata.boneCount;n++){const o=e.bones[n],r=o.grant;if(void 0===r)continue;const a={index:n,parentIndex:r.parentIndex,ratio:r.ratio,isLocal:r.isLocal,affectRotation:r.affectRotation,affectPosition:r.affectPosition,transformationClass:o.transformationClass};t[n]={parent:null,children:[],param:a,visited:!1}}const n={parent:null,children:[],param:null,visited:!1};for(const e in t){const o=t[e],r=t[o.parentIndex]||n;o.parent=r,r.children.push(o)}!function e(t){t.param&&(m.push(t.param),i[t.param.index].grant=t.param),t.visited=!0;for(let n=0,o=t.children.length;n<o;n++){const o=t.children[n];o.visited||e(o)}}(n)}function b(t,n,o){for(let r=0;r<n.elementCount;r++){const a=n.elements[r];let i;i="pmd"===e.metadata.format?e.morphs[0].elements[a.index].index:a.index,t.array[3*i+0]+=a.position[0]*o,t.array[3*i+1]+=a.position[1]*o,t.array[3*i+2]+=a.position[2]*o}}for(let n=0;n<e.metadata.morphCount;n++){const o=e.morphs[n],r={name:o.name},a=new u.w(3*e.metadata.vertexCount,3);a.name=o.name;for(let n=0;n<3*e.metadata.vertexCount;n++)a.array[n]=t[n];if("pmd"===e.metadata.format)0!==n&&b(a,o,1);else if(0===o.type)for(let t=0;t<o.elementCount;t++){const n=e.morphs[o.elements[t].index],r=o.elements[t].ratio;1===n.type&&b(a,n,r)}else 1===o.type?b(a,o,1):2===o.type||3===o.type||4===o.type||5===o.type||6===o.type||7===o.type||o.type;c.push(r),d.push(a)}for(let t=0;t<e.metadata.rigidBodyCount;t++){const n=e.rigidBodies[t],o={};for(const e in n)o[e]=n[e];if("pmx"===e.metadata.format&&-1!==o.boneIndex){const t=e.bones[o.boneIndex];o.position[0]-=t.position[0],o.position[1]-=t.position[1],o.position[2]-=t.position[2]}p.push(o)}for(let t=0;t<e.metadata.constraintCount;t++){const n=e.constraints[t],o={};for(const e in n)o[e]=n[e];const r=p[o.rigidBodyIndex1],a=p[o.rigidBodyIndex2];0!==r.type&&2===a.type&&-1!==r.boneIndex&&-1!==a.boneIndex&&e.bones[a.boneIndex].parentIndex===r.boneIndex&&(a.type=1),f.push(o)}const y=new u.h;y.setAttribute("position",new u.w(t,3)),y.setAttribute("normal",new u.w(o,3)),y.setAttribute("uv",new u.w(n,2)),y.setAttribute("skinIndex",new u.kb(s,4)),y.setAttribute("skinWeight",new u.w(l,4)),y.setIndex(r);for(let e=0,t=a.length;e<t;e++)y.addGroup(a[e].offset,a[e].count,e);return y.bones=i,y.morphTargets=c,y.morphAttributes.position=d,y.morphTargetsRelative=!1,y.userData.MMD={bones:i,iks:h,grants:m,rigidBodies:p,constraints:f,format:e.metadata.format},y.computeBoundingSphere(),y}}class b{constructor(e){this.manager=e,this.textureLoader=new u.jb(this.manager),this.tgaLoader=null,this.crossOrigin="anonymous",this.resourcePath=void 0}setCrossOrigin(e){return this.crossOrigin=e,this}setResourcePath(e){return this.resourcePath=e,this}build(e,t){const n=[],o={};this.textureLoader.setCrossOrigin(this.crossOrigin);for(let r=0;r<e.metadata.materialCount;r++){const a=e.materials[r],i={userData:{}};if(void 0!==a.name&&(i.name=a.name),i.color=(new u.k).fromArray(a.diffuse),i.opacity=a.diffuse[3],i.emissive=(new u.k).fromArray(a.ambient),i.transparent=1!==i.opacity,i.morphTargets=t.morphTargets.length>0,i.fog=!0,i.blending=u.m,i.blendSrc=u.hb,i.blendDst=u.O,i.blendSrcAlpha=u.hb,i.blendDstAlpha=u.s,"pmx"===e.metadata.format&&1==(1&a.flag)?i.side=u.r:i.side=1===i.opacity?u.x:u.r,"pmd"===e.metadata.format){if(a.fileName){const e=a.fileName.split("*");if(i.map=this._loadTexture(e[0],o),e.length>1){const t=e[1].slice(-4).toLowerCase();i.envMap=this._loadTexture(e[1],o),i.combine=".sph"===t?u.K:u.a}}const t=-1===a.toonIndex?"toon00.bmp":e.toonTextures[a.toonIndex].fileName;i.gradientMap=this._loadTexture(t,o,{isToonTexture:!0,isDefaultToonTexture:this._isDefaultToonTexture(t)}),i.userData.outlineParameters={thickness:1===a.edgeFlag?.003:0,color:[0,0,0],alpha:1,visible:1===a.edgeFlag}}else{let t,n;-1!==a.textureIndex&&(i.map=this._loadTexture(e.textures[a.textureIndex],o)),-1===a.envTextureIndex||1!==a.envFlag&&2!=a.envFlag||(i.envMap=this._loadTexture(e.textures[a.envTextureIndex],o),i.combine=1===a.envFlag?u.K:u.a),-1===a.toonIndex||0!==a.toonFlag?(t="toon"+("0"+(a.toonIndex+1)).slice(-2)+".bmp",n=!0):(t=e.textures[a.toonIndex],n=!1),i.gradientMap=this._loadTexture(t,o,{isToonTexture:!0,isDefaultToonTexture:n}),i.userData.outlineParameters={thickness:a.edgeSize/300,color:a.edgeColor.slice(0,3),alpha:a.edgeColor[3],visible:0!=(16&a.flag)&&a.edgeSize>0}}void 0!==i.map&&(i.transparent||this._checkImageTransparency(i.map,t,r),i.emissive.multiplyScalar(.2)),n.push(new u.J(i))}if("pmx"===e.metadata.format){function r(e,t){for(let n=0,o=e.length;n<o;n++){const o=e[n];if(-1===o.index)continue;const r=t[o.index];r.opacity!==o.diffuse[3]&&(r.transparent=!0)}}for(let t=0,o=e.morphs.length;t<o;t++){const o=e.morphs[t],a=o.elements;if(0===o.type)for(let t=0,o=a.length;t<o;t++){const o=e.morphs[a[t].index];8===o.type&&r(o.elements,n)}else 8===o.type&&r(a,n)}}return n}_getTGALoader(){if(null===this.tgaLoader){if(void 0===d)throw new Error("THREE.MMDLoader: Import TGALoader");this.tgaLoader=new d(this.manager)}return this.tgaLoader}_isDefaultToonTexture(e){return 10===e.length&&/toon(10|0[0-9])\.bmp/.test(e)}_loadTexture(e,t,n,o,r){const a=this;let i;if(!0===(n=n||{}).isDefaultToonTexture){let t;try{t=parseInt(e.match(/toon([0-9]{2})\.bmp$/)[1])}catch(n){console.warn("THREE.MMDLoader: "+e+" seems like a not right default texture path. Using toon00.bmp instead."),t=0}i=p[t]}else i=this.resourcePath+e;if(void 0!==t[i])return t[i];let s=this.manager.getHandler(i);null===s&&(s=".tga"===e.slice(-4).toLowerCase()?this._getTGALoader():this.textureLoader);const l=s.load(i,(function(e){!0===n.isToonTexture&&(e.image=a._getRotatedImage(e.image),e.magFilter=u.L,e.minFilter=u.L),e.flipY=!1,e.wrapS=u.bb,e.wrapT=u.bb;for(let e=0;e<l.readyCallbacks.length;e++)l.readyCallbacks[e](l);delete l.readyCallbacks}),o,r);return l.readyCallbacks=[],t[i]=l,l}_getRotatedImage(e){const t=document.createElement("canvas"),n=t.getContext("2d"),o=e.width,r=e.height;return t.width=o,t.height=r,n.clearRect(0,0,o,r),n.translate(o/2,r/2),n.rotate(.5*Math.PI),n.translate(-o/2,-r/2),n.drawImage(e,0,0),n.getImageData(0,0,o,r)}_checkImageTransparency(e,t,n){e.readyCallbacks.push((function(o){function r(e,t){const n=e.width,o=e.height;let r=Math.round(t.x*n)%n,a=Math.round(t.y*o)%o;r<0&&(r+=n),a<0&&(a+=o);const i=a*n+r;return e.data[4*i+3]}if(!0===o.isCompressedTexture)return void(f.includes(o.format)?e.transparent=!1:e.transparent=!0);const a=void 0!==o.image.data?o.image:function(e){const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");return n.drawImage(e,0,0),n.getImageData(0,0,t.width,t.height)}(o.image),i=t.groups[n];(function(e,t,n){const o=e.width,a=e.height;if(e.data.length/(o*a)!=4)return!1;for(let o=0;o<n.length;o+=3){const a={x:0,y:0};for(let i=0;i<3;i++){const s=n[3*o+i],l={x:t[2*s+0],y:t[2*s+1]};if(r(e,l)<253)return!0;a.x+=l.x,a.y+=l.y}if(a.x/=3,a.y/=3,r(e,a)<253)return!0}return!1})(a,t.attributes.uv.array,t.index.array.slice(i.start,i.start+i.count))&&(e.transparent=!0)}))}}class y{build(e,t){const n=this.buildSkeletalAnimation(e,t).tracks,o=this.buildMorphAnimation(e,t).tracks;for(let e=0,t=o.length;e<t;e++)n.push(o[e]);return new u.b("",-1,n)}buildSkeletalAnimation(e,t){function n(e,t,n){e.push(t[n+0]/127),e.push(t[n+8]/127),e.push(t[n+4]/127),e.push(t[n+12]/127)}const o=[],r={},a=t.skeleton.bones,i={};for(let e=0,t=a.length;e<t;e++)i[a[e].name]=!0;for(let t=0;t<e.metadata.motionCount;t++){const n=e.motions[t],o=n.boneName;void 0!==i[o]&&(r[o]=r[o]||[],r[o].push(n))}for(const e in r){const a=r[e];a.sort((function(e,t){return e.frameNum-t.frameNum}));const i=[],s=[],l=[],c=[],d=[],h=t.skeleton.getBoneByName(e).position.toArray();for(let e=0,t=a.length;e<t;e++){const t=a[e].frameNum/30,o=a[e].position,r=a[e].rotation,u=a[e].interpolation;i.push(t);for(let e=0;e<3;e++)s.push(h[e]+o[e]);for(let e=0;e<4;e++)l.push(r[e]);for(let e=0;e<3;e++)n(c,u,e);n(d,u,3)}const m=".bones["+e+"]";o.push(this._createTrack(m+".position",u.nb,i,s,c)),o.push(this._createTrack(m+".quaternion",u.S,i,l,d))}return new u.b("",-1,o)}buildMorphAnimation(e,t){const n=[],o={},r=t.morphTargetDictionary;for(let t=0;t<e.metadata.morphCount;t++){const n=e.morphs[t],a=n.morphName;void 0!==r[a]&&(o[a]=o[a]||[],o[a].push(n))}for(const e in o){const t=o[e];t.sort((function(e,t){return e.frameNum-t.frameNum}));const a=[],i=[];for(let e=0,n=t.length;e<n;e++)a.push(t[e].frameNum/30),i.push(t[e].weight);n.push(new u.M(".morphTargetInfluences["+r[e]+"]",a,i))}return new u.b("",-1,n)}buildCameraAnimation(e){function t(e,t){e.push(t.x),e.push(t.y),e.push(t.z)}function n(e,t,n){e.push(t[4*n+0]/127),e.push(t[4*n+1]/127),e.push(t[4*n+2]/127),e.push(t[4*n+3]/127)}const o=void 0===e.cameras?[]:e.cameras.slice();o.sort((function(e,t){return e.frameNum-t.frameNum}));const r=[],a=[],i=[],s=[],l=[],c=[],d=[],h=[],m=[],p=new u.R,f=new u.t,g=new u.mb,A=new u.mb;for(let e=0,u=o.length;e<u;e++){const u=o[e],w=u.frameNum/30,v=u.position,x=u.rotation,k=u.distance,C=u.fov,E=u.interpolation;r.push(w),g.set(0,0,-k),A.set(v[0],v[1],v[2]),f.set(-x[0],-x[1],-x[2]),p.setFromEuler(f),g.add(A),g.applyQuaternion(p),t(a,A),(b=i).push((y=p).x),b.push(y.y),b.push(y.z),b.push(y.w),t(s,g),l.push(C);for(let e=0;e<3;e++)n(c,E,e);n(d,E,3);for(let e=0;e<3;e++)n(h,E,4);n(m,E,5)}var b,y;const w=[];return w.push(this._createTrack("target.position",u.nb,r,a,c)),w.push(this._createTrack(".quaternion",u.S,r,i,d)),w.push(this._createTrack(".position",u.nb,r,s,h)),w.push(this._createTrack(".fov",u.M,r,l,m)),new u.b("",-1,w)}_createTrack(e,t,n,o,r){if(n.length>2){n=n.slice(),o=o.slice(),r=r.slice();const e=o.length/n.length,t=r.length/n.length;let a=1;for(let i=2,s=n.length;i<s;i++){for(let t=0;t<e;t++)if(o[a*e+t]!==o[(a-1)*e+t]||o[a*e+t]!==o[i*e+t]){a++;break}if(i>a){n[a]=n[i];for(let t=0;t<e;t++)o[a*e+t]=o[i*e+t];for(let e=0;e<t;e++)r[a*t+e]=r[i*t+e]}}n.length=a+1,o.length=(a+1)*e,r.length=(a+1)*t}const a=new t(e,n,o);return a.createInterpolant=function(e){return new w(this.times,this.values,this.getValueSize(),e,new Float32Array(r))},a}}class w extends u.y{constructor(e,t,n,o,r){super(e,t,n,o),this.interpolationParams=r}interpolate_(e,t,n,o){const r=this.resultBuffer,a=this.sampleValues,i=this.valueSize,s=this.interpolationParams,l=e*i,c=l-i,d=o-t<.05?0:(n-t)/(o-t);if(4===i){const t=s[4*e+0],n=s[4*e+1],o=s[4*e+2],i=s[4*e+3],h=this._calculate(t,n,o,i,d);u.R.slerpFlat(r,0,a,c,a,l,h)}else if(3===i)for(let t=0;t!==i;++t){const n=s[12*e+4*t+0],o=s[12*e+4*t+1],i=s[12*e+4*t+2],u=s[12*e+4*t+3],h=this._calculate(n,o,i,u,d);r[t]=a[c+t]*(1-h)+a[l+t]*h}else{const t=s[4*e+0],n=s[4*e+1],o=s[4*e+2],i=s[4*e+3],u=this._calculate(t,n,o,i,d);r[0]=a[c]*(1-u)+a[l]*u}return r}_calculate(e,t,n,o,r){let a=.5,i=a,s=1-i;const l=Math;let c,u,d;for(let n=0;n<15;n++){c=3*s*s*i,u=3*s*i*i,d=i*i*i;const n=c*e+u*t+d-r;if(l.abs(n)<1e-5)break;a/=2,i+=n<0?a:-a,s=1-i}return c*n+u*o+d}}class v extends u.l{constructor(e){super(e)}parse(e,t){const n={mipmaps:[],width:0,height:0,format:null,mipmapCount:1};function o(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function r(e,t,n,o){const r=n*o*4,a=new Uint8Array(e,t,r),i=new Uint8Array(r);let s=0,l=0;for(let e=0;e<o;e++)for(let e=0;e<n;e++){const e=a[l];l++;const t=a[l];l++;const n=a[l];l++;const o=a[l];l++,i[s]=n,s++,i[s]=t,s++,i[s]=e,s++,i[s]=o,s++}return i}const a=o("DXT1"),i=o("DXT3"),s=o("DXT5"),l=o("ETC1"),c=new Int32Array(e,0,31);if(542327876!==c[0])return console.error("THREE.DDSLoader.parse: Invalid magic number in DDS header."),n;if(4&!c[20])return console.error("THREE.DDSLoader.parse: Unsupported format, must contain a FourCC code."),n;let d;const h=c[21];let m=!1;switch(h){case a:d=8,n.format=u.ab;break;case i:d=16,n.format=u.U;break;case s:d=16,n.format=u.V;break;case l:d=8,n.format=u.W;break;default:if(!(32===c[22]&&16711680&c[23]&&65280&c[24]&&255&c[25]&&4278190080&c[26]))return console.error("THREE.DDSLoader.parse: Unsupported FourCC code ",(p=h,String.fromCharCode(255&p,p>>8&255,p>>16&255,p>>24&255))),n;m=!0,d=64,n.format=u.T}var p;n.mipmapCount=1,131072&c[2]&&!1!==t&&(n.mipmapCount=Math.max(1,c[7]));const f=c[28];if(n.isCubemap=!!(512&f),n.isCubemap&&(!(1024&f)||!(2048&f)||!(4096&f)||!(8192&f)||!(16384&f)||!(32768&f)))return console.error("THREE.DDSLoader.parse: Incomplete cubemap faces"),n;n.width=c[4],n.height=c[3];let g=c[1]+4;const A=n.isCubemap?6:1;for(let t=0;t<A;t++){let t=n.width,o=n.height;for(let a=0;a<n.mipmapCount;a++){let a,i;m?(a=r(e,g,t,o),i=a.length):(i=Math.max(4,t)/4*Math.max(4,o)/4*d,a=new Uint8Array(e,g,i));const s={data:a,width:t,height:o};n.mipmaps.push(s),g+=i,t=Math.max(t>>1,1),o=Math.max(o>>1,1)}}return n}}var x=n(133);n(181),n(182),n(189),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var C=function(){try{if("object"===("undefined"==typeof WebAssembly?"undefined":k(WebAssembly))&&"function"==typeof WebAssembly.instantiate){var e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1}();n(89);function E(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var O=function(){return null},I=function(e){var t=e.id,n=(e.async,e.type),o=void 0===n?"text/javascript":n,r=e.onError,a=void 0===r?O:r,i=e.onLoad,s=void 0===i?O:i,l=E(e,["id","async","type","onError","onLoad"]);return new Promise((function(e,n){var r=document.getElementById(t),i=!!r;if(r||(r=document.createElement("script"),Object.keys(l).forEach((function(e){return r[e]=l[e]})),r.id=t,r.async=!0,r.type=o),r.isLoaded){if(r.isErrored){var c=new Error("<script>.isErrored is true.");return a({error:c}),n({error:c})}return s({event:event,element:r}),e({event:event,element:r})}if(r.addEventListener("error",(function(e){return r.isLoaded=!0,r.isErrored=!0,a({error:e}),n({error:e})})),l.src&&r.addEventListener("load",(function(t){return r.isLoaded=!0,s({event:t,element:r}),e({event:t,element:r})})),i||document.getElementsByTagName("head")[0].appendChild(r),!l.src)return r.isLoaded=!0,s({element:r}),e({element:r})}))},M=n.p+"src/client/model/Horkeukamui/Horkeukamui-160.a7373f24.pmx",T=(n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p,M),j={pubicHair:"丁毛",fundoshiBack:"屁股兜",fundoshiFront:"肚兜",bigFundoshiFront:"大丁丁肚兜",penis:"小丁丁",bigPenis:"大丁丁"},B=n.p+"src/client/motion/wavefile_v2.745b642f.vmd";function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=D(e);if(t){var r=D(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return F(this,n)}}function F(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=new u.E;_.addHandler(/\.dds$/i,new v);var z=new m(_),H=["fundoshiBack","fundoshiFront","penis","bigFundoshiFront","bigPenis"],Q={intensity:{min:0,max:5,step:.001},shadowIntensity:{min:0,max:1,step:.001},shadowBoundry:{min:0,max:10,step:.01},needShadowHelper:{},positionX:{min:-5,max:5,step:.01},positionY:{min:-5,max:5,step:.01},positionZ:{min:-5,max:5,step:.01}},V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(h,e);var t,n,o,a,i,d=U(h);function h(){var e;P(this,h);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=d.call.apply(d,[this].concat(n))).canvas=r.a.createRef(),e.gui=null,e.camera=null,e.cameraControls=null,e.scene=null,e.light=null,e.lightWithShadow=null,e.renderer=null,e.rendererControlFolder=null,e.clock=null,e.loadingTimeout=null,e.animationFrame=null,e.animationControls={shouldAnimate:!1,fps:60},e.animationToogleUI=null,e.horkeukamui=null,e.mmdPhysics=null,e.mmdAnimationHelper=new x.a({afterglow:2}),e.controlObject={light:{intensity:2,shadowIntensity:.5,shadowBoundry:4,needShadowHelper:!1,positionX:-3,positionY:4,positionZ:2},horkeukamui:{fundoshiBack:!0,fundoshiFront:!0,penis:!0,bigFundoshiFront:!1,bigPenis:!1,erection:0}},e.controlUIObject={Light:null,light:{},Horkeukamui:null,HorkeukamuiMorphs:null,horkeukamui:{morphs:{}}},e.updateLights=function(){var t=e.controlObject.light,n=t.intensity,o=t.shadowIntensity,r=t.shadowBoundry,a=t.needShadowHelper,i=t.positionX,s=t.positionY,l=t.positionZ;e.light.intensity=n*(1-o),e.light.position.set(i,s,l),e.lightHelper.update(),e.lightWithShadow.intensity=n*o,e.lightWithShadow.position.set(i,s,l),e.lightWithShadow.castShadow=!!o,e.shadowHelper.visible=a&&!!o;var c=e.lightWithShadow.shadow.camera;c.left=-r,c.right=r,c.top=r,c.bottom=-r,c.updateProjectionMatrix(),e.shadowHelper.update(),window.requestAnimationFrame(e.renderNextFrame)},e.initScene=function(){e.scene=new u.cb,e.scene.add(new u.d(1));var t=new u.p("#ffffff",2);t.castShadow=!1,e.light=t;var n=e.controlObject.light,o=n.positionX,r=n.positionY,a=n.positionZ;e.light.position.set(o,r,a),e.lightHelper=new u.q(t,1);var i=t.clone();i.shadow.camera.far=7,i.shadow.mapSize.set(1024,1024),i.shadow.normalBias=.05,e.lightWithShadow=i,e.shadowHelper=new u.i(i.shadow.camera),e.scene.add(t),e.scene.add(e.lightHelper),e.scene.add(i),e.scene.add(e.shadowHelper),e.controlUIObject.Light=e.gui.addFolder("Light");var s=e.controlObject.light,l=e.controlUIObject.Light;Object.keys(Q).forEach((function(t){var n=Q[t];e.controlUIObject.light[t]=l.add(s,t),n.step&&(e.controlUIObject.light[t]=e.controlUIObject.light[t].min(n.min).max(n.max).step(n.step)),e.controlUIObject.light[t]=e.controlUIObject.light[t].onChange(e.updateLights)}))},e.initRenderer=function(){var t=new u.ob({canvas:e.canvas.current,antialias:!0});e.renderer=t,t.physicallyCorrectLights=!0,t.toneMappingExposure=1,t.shadowMap.enabled=!0,t.shadowMap.type=u.P,t.setClearColor(2240318),e.rendererControlFolder=e.gui.addFolder("Renderer"),e.rendererControlFolder.add(e.renderer,"physicallyCorrectLights"),e.rendererControlFolder.add(e.renderer,"toneMappingExposure").min(0).max(5).step(.01),e.rendererControlFolder.add(e.renderer.shadowMap,"enabled").name("shadowMapEnabled"),e.initCamera(),e.handleWindowResize()},e.renderNextFrame=function(){e.renderer.render(e.scene,e.camera)},e.tick=function(){e.cameraControls.update(),e.mmdAnimationHelper.update(e.clock.getDelta()),e.renderNextFrame(),e.animationControls.shouldAnimate&&(e.animationFrame=window.requestAnimationFrame(e.tick))},e.initCamera=function(){var t=e.canvas.current,n=t.clientWidth,o=t.clientHeight;e.camera=new u.Q(75,n/o,.1,100),e.camera.position.set(1,2,3),e.cameraControls=new c.a(e.camera,t),e.cameraControls.target.set(0,2,0),e.cameraControls.update(),e.cameraControls.addEventListener("change",(function(){e.animationControls.shouldAnimate||e.renderNextFrame()}))},e.handleWindowResize=s()((function(){if(e.canvas.current){var t=e.canvas.current,n=e.renderer,o=t.clientWidth,r=t.clientHeight;n.setSize(o,r),n.setPixelRatio(Math.min(window.devicePixelRatio,2)),e.camera.aspect=o/r,e.camera.updateProjectionMatrix(),e.animationControls.shouldAnimate||e.renderNextFrame()}}),100),e.getMaterial=function(t){var n=t.name;return e.horkeukamui.material.find((function(e){return n===e.name}))},e.addKamuiControlllers=function(){e.controlUIObject.Horkeukamui=e.gui.addFolder("Horkeukamui");var t=e.controlUIObject.Horkeukamui;e.controlUIObject.horkeukamui.fundoshiBack=t.add(e.controlObject.horkeukamui,"fundoshiBack").onChange((function(){var t=e.getMaterial({name:j.fundoshiBack}),n=e.controlObject.horkeukamui.fundoshiBack;t.visible=n,t.opacity=+n,window.requestAnimationFrame(e.renderNextFrame)})),e.controlUIObject.horkeukamui.fundoshiFront=t.add(e.controlObject.horkeukamui,"fundoshiFront").onChange((function(){var t=e.getMaterial({name:j.fundoshiFront}),n=e.controlObject.horkeukamui.fundoshiFront;t.visible=n,t.opacity=+n,e.horkeukamui.morphTargetInfluences[77]=.2*+n,n&&e.controlObject.horkeukamui.bigFundoshiFront&&e.controlUIObject.horkeukamui.bigFundoshiFront.setValue(!1),window.requestAnimationFrame(e.renderNextFrame)})),e.controlUIObject.horkeukamui.bigFundoshiFront=t.add(e.controlObject.horkeukamui,"bigFundoshiFront").onChange((function(){var t=e.getMaterial({name:j.bigFundoshiFront}),n=e.controlObject.horkeukamui.bigFundoshiFront;t.visible=n,t.opacity=+n,n&&e.controlObject.horkeukamui.fundoshiFront&&e.controlUIObject.horkeukamui.fundoshiFront.setValue(!1),window.requestAnimationFrame(e.renderNextFrame)})),e.controlUIObject.horkeukamui.bigPenis=t.add(e.controlObject.horkeukamui,"bigPenis").onChange((function(){var t=e.getMaterial({name:j.penis}),n=e.getMaterial({name:j.bigPenis}),o=e.controlObject.horkeukamui.bigPenis;t.visible=!o,t.opacity=+!o,n.visible=o,n.opacity=+o,window.requestAnimationFrame(e.renderNextFrame)})),e.controlUIObject.HorkeukamuiMorphs=e.controlUIObject.Horkeukamui.addFolder("Morphs"),Object.keys(e.horkeukamui.morphTargetDictionary).forEach((function(t){e.controlUIObject.horkeukamui.morphs[t]=e.controlUIObject.HorkeukamuiMorphs.add(e.horkeukamui.morphTargetInfluences,e.horkeukamui.morphTargetDictionary[t]).min(0).max(1).step(.01).name(t).onChange((function(){return window.requestAnimationFrame(e.renderNextFrame)}))}))},e.loadModels=function(){z.loadWithAnimation(T,[B],(function(t){var n=t.mesh,o=t.animation;n.scale.set(.2,.2,.2),n.position.set(0,0,0),n.receiveShadow=!0,n.castShadow=!0,e.scene.add(n),window.Horkeukamui=n,e.horkeukamui=n,n.morphTargetInfluences[77]=.2;var r=e.getMaterial({name:j.pubicHair});r.visible=!0,r.opacity=1,H.forEach((function(t){var n=e.controlObject.horkeukamui[t],o=e.getMaterial({name:j[t]});o.visible=n,o.opacity=+n})),e.addKamuiControlllers(),e.mmdAnimationHelper.add(n,{animation:o,physics:!0}),e.mmdAnimationHelper.enable("animation",!1),e.loadingTimeout=window.setTimeout(e.renderNextFrame,500)}))},e}return t=h,(n=[{key:"componentDidMount",value:(a=regeneratorRuntime.mark((function e(){var t,n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I({id:"ammo-js",src:C?"library/ammo/ammo.99d0ec0.wasm.js":"library/ammo/ammo.99d0ec0.js"}),this.gui=new l.a({hideable:!0,closed:!1,closeOnTop:!0}),this.clock=new u.j,this.initScene(),this.initRenderer(),this.updateLights(),this.animationToogleUI=this.gui.add(this.animationControls,"shouldAnimate").onChange((function(){o.animationControls.shouldAnimate?(o.mmdAnimationHelper.enable("animation",!0),o.clock.start(),o.tick()):(o.clock.stop(),o.mmdAnimationHelper.enable("animation",!1))})),window.addEventListener("resize",this.handleWindowResize),e.next=10,t;case 10:return e.next=12,window.Ammo();case 12:n=e.sent,window.Ammo=n,this.loadModels();case 15:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,o){var r=a.apply(e,t);function i(e){N(r,n,o,i,s,"next",e)}function s(e){N(r,n,o,i,s,"throw",e)}i(void 0)}))},function(){return i.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){this.gui&&this.gui.destory(),window.cancelAnimationFrame(this.animationFrame),window.removeEventListener("resize",this.handleWindowResize),window.clearTimeout(this.loadingTimeout)}},{key:"render",value:function(){return r.a.createElement(W,null,r.a.createElement(Y,{ref:this.canvas}))}}])&&S(t.prototype,n),o&&S(t,o),h}(r.a.PureComponent),W=a.default.div.withConfig({displayName:"Main__StyledMain",componentId:"sc-1te9q8o-0"})(["flex:auto;"]),Y=a.default.canvas.withConfig({displayName:"Main__Canvas",componentId:"sc-1te9q8o-1"})(["width:100%;height:100%;background-color:#222f3e;"]);t.a=V},132:function(e,t,n){"use strict";n(96),n(98),n(34),n(67),n(46),n(68),n(40),n(69),n(70);var o=n(1),r=n.n(o),a=n(2),i=n.n(a),s=n(17),l=n.p+"img/github-icon.e1201fcc.svg";function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=f(e);if(t){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g="https://github.com/bill42362/portfolio",A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,o,a=m(i);function i(){return u(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.email,n=e.branchName,o=n?"".concat(g,"/tree/").concat(n):g;return r.a.createElement(b,null,r.a.createElement(y,{href:o,target:"_blank"},r.a.createElement("img",{src:l,alt:"github"})),r.a.createElement(y,{href:"mailto:".concat(t),target:"_blank"},r.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48cGF0aCBkPSJNNDY3LDYxSDQ1QzIwLjIxOCw2MSwwLDgxLjE5NiwwLDEwNnYzMDBjMCwyNC43MiwyMC4xMjgsNDUsNDUsNDVoNDIyYzI0LjcyLDAsNDUtMjAuMTI4LDQ1LTQ1VjEwNiBDNTEyLDgxLjI4LDQ5MS44NzIsNjEsNDY3LDYxeiBNNDYwLjc4Niw5MUwyNTYuOTU0LDI5NC44MzNMNTEuMzU5LDkxSDQ2MC43ODZ6IE0zMCwzOTkuNzg4VjExMi4wNjlsMTQ0LjQ3OSwxNDMuMjRMMzAsMzk5Ljc4OHogTTUxLjIxMyw0MjFsMTQ0LjU3LTE0NC41N2w1MC42NTcsNTAuMjIyYzUuODY0LDUuODE0LDE1LjMyNyw1Ljc5NSwyMS4xNjctMC4wNDZMMzE3LDI3Ny4yMTNMNDYwLjc4Nyw0MjFINTEuMjEzeiBNNDgyLDM5OS43ODcgTDMzOC4yMTMsMjU2TDQ4MiwxMTIuMjEyVjM5OS43ODd6Ii8+PC9zdmc+",alt:"email"})))}}])&&d(t.prototype,n),o&&d(t,o),i}(r.a.PureComponent);A.propTypes={email:i.a.string,branchName:i.a.string},A.defaultProps={email:"bill42362@gmail.com",branchName:""};var b=s.default.div.withConfig({displayName:"Footer__StyledFooter",componentId:"sc-1ygzj31-0"})(["flex:none;display:flex;justify-content:center;align-items:flex-end;padding:20px;"]),y=s.default.a.withConfig({displayName:"Footer__Link",componentId:"sc-1ygzj31-1"})(["display:flex;justify-content:center;align-items:center;border-radius:50%;width:36px;height:36px;background-color:#576574;& + &{margin-left:8px;}img{width:60%;height:auto;}"]);t.a=A},134:function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),a=n(118),i=n.n(a),s=n(119);i.a.render(r.a.createElement(s.a,null),document.getElementById("app-root"))},49:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}}]);
//# sourceMappingURL=bundle~bundle~31ecd969.b4126d52.js.map